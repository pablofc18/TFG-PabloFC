[2025-02-01 11:45:06,612] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:45:06,613] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:45:22,856] [INFO] app : Usuario no autenticado.
[2025-02-01 11:45:22,856] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:22] "GET / HTTP/1.1" 200 -
[2025-02-01 11:45:31,036] [ERROR] app : ERROR: page not found!
[2025-02-01 11:45:31,037] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:45:40,525] [DEBUG] app : Asignamos nonce a la sesion actual: 2103b82fccbd2dd5c1e29fc39148e3cb
[2025-02-01 11:45:40,525] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:45:40,527] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:41,401] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:45:41,405] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:45:58,695] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:59,761] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:45:59,763] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:46:00,722] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:46:00,726] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULklXd2dKMnlQX0VaNXFlcUQxakhZZll4NGM3M2tNQnNmNnVZZExKdDRKOHMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.e8U6mKVE6D667P9C8OXCOUIVpOa0JsC48gIL0nodCA2Prd_1ggpa3FcL4KosNtN52JPfcYsdumr5Rly7HwVAsNCL3ozscL0dJaEoRk3wrR6VLQFSyYIZbT_tv54rapczoZq-C-rFAEzeOcDKZ4XYBgN8a0oKlynlBPdY1fmwb4h4zV-WhfVrRRKTeuCmz9GZJ7zL3bCV7YVucK4gPu4PjB3mImScE9MYWsaCaDBM0FVUq7L0S_BjmFCh6jPlRtM6617TZzTiKv7-dtcoVjdC115tmwMN6hRPVUwrplYBmnjaKHaR5LNKdvUdgZzRc6qADCvfrK_KbctFfrH7qoq0XQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwianRpIjoiSUQuaktpb3B0Z2ZKMjlmZDJNTnhzX3VxYVpnQU9kS19jc3lyaWFRdWxFNmhpMCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxMDNiODJmY2NiZDJkZDVjMWUyOWZjMzkxNDhlM2NiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJuZ3Y1X0NOOUZzRTZvQjZpaTk0N3dRIn0.a5euYnBE78ikm_2vhHlrn_Ujn2lQiks3QuHkocks1Lp5xVQrCXXmlwVc7zDPSi1eKgdzYsHRDHvZDC_wbiJ-06fuI9_RzwTq_Pj-gXGtj6Q9IKdBetDKllZhfbJ5wlR1EYYdXJP6aZDE2MgrxWdKbbInJ8KjrRCXoyUZhgar1TJuCZ2_PeXY3ZlVQUda1w7W0NzPMvJVA3El3KM7PFc_e0saZajWRuIybEDyxnPmsW7wVzlEsmId0kwWZztXWz-9gAGRjr0O8Ri4tcIdTrMmB0n_dwz4GM0bLqfNYxRH-eFRyw7LmcLbjsE1ypUo3f465w1wkh1lwhgBPglp-tluAA', 'expires_at': 1738413959, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410359, 'exp': 1738413959, 'jti': 'ID.jKioptgfJ29fd2MNxs_uqaZgAOdK_csyriaQulE6hi0', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2103b82fccbd2dd5c1e29fc39148e3cb', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'ngv5_CN9FsE6oB6ii947wQ'}}
[2025-02-01 11:46:00,730] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:46:54,748] [INFO] app : Usuario no autenticado.
[2025-02-01 11:46:54,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:46:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:01,169] [DEBUG] app : Asignamos nonce a la sesion actual: 4986aea5241d7743d3502cb4cc230ea2
[2025-02-01 11:47:01,169] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:01,171] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:02,327] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:03,263] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:03,268] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJOak5OOUkwdTZBRkV5RlRJR2VLQTVnQk1TMXpkb1BLZ3BjaHZPeXpUUXMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.jY2WnkD02gwZqSFCu4fpXRJjABXFdVJAauEOfXeq5XqLiE7BYaQzyn609GoLj5TeTez5-NX7iZvo56SQhwBrh__-SvPoyaFk5UO7Ewr8II475O3s9yQPtYvZyr34ef-l9KukmJ6QbrRoXyXBPL17b6bpHZJ0LgAm0eqDtGMotDQXsBgaVba0vrjaNTEKY_OJ24_iueTZNpeZ0zVNFOcqO1YkU3dWq844ThxResqJrrXxVHjTxvUDEg1Udy8vlDqFaTY6g_9Smgc9mXIyFxR5pWpUfxc58AmZHEgvN6FQ8hhiNrUlOfZohEsIXfc9OFPPjVHIGwSvSl_oKj_wH8go_Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywianRpIjoiSUQudzBGUnBPc2hic1pabW9ZbEtnZ1dPTzZta294NExCR3I5eVhub09JQkVLayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ODZhZWE1MjQxZDc3NDNkMzUwMmNiNGNjMjMwZWEyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJJVjBQaG91TUk1NUxqN1I4a2FXTGRRIn0.Pg52ngpsycnmkgNmrj8rQOo4paACky_VEbWO62Py30HwLpBxRhdVvhZIUFMSHy1mfbjY5jfO5nr-dwBQEHKqIsmRr9GHnljy2cBva6qAtmFusJ5Y8x3AUXQ63LPE9ZXLEaeD_hQbZFARrxPH9lie0w0X_okFbb2YW1oc0uOSJd64z6Ils1mcUPESr84pgIG0QMXPJrlaqO8aO00gqChto7ARIqAWfm5K6c2q0OX_y2BZbQcz8kRPxSZjwiMdmyaHp4oUF6E-CvOC1x2GUYS9I8GtANpS1kDuT3AoDa_k3lCggHst1WNvPdQEWDaKiCGAgdOCGlyWNY6CPSPYUMBWzg', 'expires_at': 1738414023, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410423, 'exp': 1738414023, 'jti': 'ID.w0FRpOshbsZZmoYlKggWOO6mkox4LBGr9yXnoOIBEKk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4986aea5241d7743d3502cb4cc230ea2', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'IV0PhouMI55Lj7R8kaWLdQ'}}
[2025-02-01 11:47:03,276] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:10,478] [INFO] app : Token de la sesion: None
[2025-02-01 11:47:10,479] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:47:10,480] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:10] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:47:20,062] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:20,063] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:22,936] [DEBUG] app : Asignamos nonce a la sesion actual: 67aefeb51b213d7d0e0ab8aa891db82d
[2025-02-01 11:47:22,937] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:22,938] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:23,664] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:24,635] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:24,641] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJVbFc1clVjLUo2YUcwbzd3bnBGQTBuX2ZEUFNqdUNDZEVhSGRaUWo0MWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.PJ85y-RAhDLOMawa6GoP0dBzNYkMsqRVS_VEFjWRSjjmvHevNIjL1ONyH4qs3UszOeIFhABqI2_mX0qqy8NYq_okt-pR-ldsFy0Djs6j7B_70pl9YLuYBrlwmmWlfAb5nO_o5L7DjF_RXgAedbwFwUWn0j1AU3sDzjDfGdulPo-w2py66ri5UPkj3f172A_aTYHboGjjE9RkxEmdXt5-dQPQqliarKoqnklrYTpOnw_AZc3IgcbfF2lCm1Wqnsr5SiO3VVxkVVGkUwwfKxOCZdp-Y08tqUWNNAnlNmRRJEP3i34x3T0H3-ZKTEAoNg-Kv49U5ds_eC9TYSb1iQ9eyQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwianRpIjoiSUQuT3JSeVRNSGpfcnJ1dWlyU0s5M2gyYlRZLWlsaUd6WXNfcll6aDRVeDZDYyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjY3YWVmZWI1MWIyMTNkN2QwZTBhYjhhYTg5MWRiODJkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiI5V3NudldQYWd6SnMteWxldFVJODF3In0.VB9-n2cHECwHHpB4SyqPwbtz4vZZRKYyHGJHRG5jMv0TnRvsv3fERqNlIbn8urgabHN3Ak9suQPLc_Xx6tnplb32FlAaa9RFymwpMRvcfpyi8KAueKNz8rE8aZrtOBT5Nkx_JBJADygUfFa3Fw2EQDAXAh5GsosG3aBDbeIM5hqi9SX36ql18vzz9eaFhnJhvwizbOAnKCqjNa2T6PHhrRoOyz5Lomxi5c2S9hTNgMx5DDtyfVgLueUP26D8-sXNOZIa_5Q2Z3Y2qHRoR5EhAWeEawalpraBI75JRFXuNgJbULf-QlgoTiuLmvrAsKZUvSxUITnIdJQL_4exLkeafw', 'expires_at': 1738414044, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410444, 'exp': 1738414044, 'jti': 'ID.OrRyTMHj_rruuirSK93h2bTY-iliGzYs_rYzh4Ux6Cc', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '67aefeb51b213d7d0e0ab8aa891db82d', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': '9WsnvWPagzJs-yletUI81w'}}
[2025-02-01 11:47:24,654] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:32,312] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:32,313] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:32] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:37,394] [DEBUG] app : Asignamos nonce a la sesion actual: 1c4dea3518ff67a50ffa41422e4b5830
[2025-02-01 11:47:37,395] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:37,397] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:37] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:49,345] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:50,321] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:50,322] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJBQWVVVHJzMDEzdC10YUJyTUh4VWpFVjBNYkdGWWVnZVFUYVdNLUxYZmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwNDY4LCJzdWIiOiJ1c2VyMkB0ZXN0LmNvbSJ9.igVi98-qYvBWIXyla2mwMYn8iIlZKFj_s0T6TZeiYpOVIiaaGEHpAGdPbCnXMMNNSMeNtqugR8uejslZjD5IV3IbOv8AAhMtNpQ-puMbXsEUSa3BTl97V8Lr_xn-cJnq3GMnApSTea7GkQuFOKV72Z669s_CLB7ZoM1sCZWiBVNda64eLhP57hvmAyrXE960DJnkI3pGHtleFGuGMCudCuJ8plcplj-5jbipVOYQnzb0e-Oaf8xdxJg1JGpC6qgFfiVo9OP3LnPy880Gb52bjdbQ4uFMVn5FDf-3zu8qbTXS1GSW4nXWJTSYjZWrmqzxdS-kGBHUGpl1zn6jPGHQ5w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsIm5hbWUiOiJ1c2VyMiB1c2VyMiIsImVtYWlsIjoidXNlcjJAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwianRpIjoiSUQuUkVtanVMTUEyaGtFRzVkRlJ4cVc1VURVQ1c1YUpDak1ZVS11eHF3UU90ZyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjNGRlYTM1MThmZjY3YTUwZmZhNDE0MjJlNGI1ODMwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA0NjgsImF0X2hhc2giOiJ2aEF1bHFqd19YLURKMWNlYTZYZlV3In0.XqaCthhe0gu-iTqzcwu1kQzHw3Jc9X6yU3VV8izPnLdl-7tIxVtip-Wc4Vu8H6t8qbINAEfbYgn_De6ziu7qOSit661WTjiF20rIj8acksp9rXb6XoKGnQLqxAE-_pdc-QChkdvZuqj9niHILGOmb9CE77aN8JJlDQxdB1rs8MlO4y06CHfQsQNpRVHNVqcrIRR2wppq93bOJby4QD3qCFZPvrrZWRx4_cLYrmE448jHrPcwNeBIqKY6JUGLEjzaXVVCXKzkiR4UivNCGF_cfMgfWOH15UQPrZEpNcKbSku7bQD1_ba1TALbBfhjZxHFkwOTxuNPiOEd6aWF-Skbbg', 'expires_at': 1738414070, 'userinfo': {'sub': '00umy3zk56eyfRvLl5d7', 'name': 'user2 user2', 'email': 'user2@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410470, 'exp': 1738414070, 'jti': 'ID.REmjuLMA2hkEG5dFRxqW5UDUCW5aJCjMYU-uxqwQOtg', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1c4dea3518ff67a50ffa41422e4b5830', 'preferred_username': 'user2@test.com', 'auth_time': 1738410468, 'at_hash': 'vhAulqjw_X-DJ1cea6XfUw'}}
[2025-02-01 11:47:50,328] [INFO] app : Sesion info user: user2 user2, email: user2@test.com
[2025-02-01 11:48:14,432] [ERROR] app : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 11:48:14,504] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:48:14] "[35m[1mGET /auth/callback?code=jSxk4K6b4YX0lAiHpbFCiE0xijRniNaNzQU9Mb36yVE&state=nYyty9qQpqNmg2ZayVCvWd8nrgtxmh HTTP/1.1[0m" 500 -
[2025-02-01 11:49:06,432] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:49:06,433] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:49:16,881] [INFO] app : Usuario no autenticado.
[2025-02-01 11:49:16,882] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:16] "GET / HTTP/1.1" 200 -
[2025-02-01 11:49:21,673] [ERROR] app : ERROR: page not found!
[2025-02-01 11:49:21,674] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:49:26,844] [DEBUG] app : Asignamos nonce a la sesion actual: faf5c77674ab0a704abc769ae8b1d7c3
[2025-02-01 11:49:26,844] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:49:26,845] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:27,847] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:49:27,849] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:49:56,538] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:57,610] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:49:57,614] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:58,566] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:49:58,569] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJHcGpXMzlaM1VVSUNqREZBWXU3WEpjWjFKb3hYNTdRZ0dDQ2dYSzBCYUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Nsw4TbcwbsoKE4C7cYwxrzVT-4eCnkIyZcs3kzyg2HvJg3G0_gehnheuqL26vQJMvFcBhvknb1bY0cT5BHjmUybK7DzTesusaLYy90CPaCeToOW7HgEAOvNr5pk8JoTFrR4fOAkVqXsk-mxx7wHgoUfKyAalJkuteFLvoUVOMxPXtRXcC1eZmvmucwmzkGafX-5g_WdIgdXRdIPdz1-F36Mf9fJYeeo30LnxCBN3kkqeVEOQaCv-KeXnSSmYBkTXtNrBBIUluK_jI0KqkvHchw8fA2U5UhOnm1UKNNo_XYq6EIPXavEVWMng_ykjZ4ZS8o82EMQIVjUIQW6_Cq0YGQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywianRpIjoiSUQua0t6Q0pxcVZmZFYxdUlRZXNrR2xmYk05OXlpRmVZdU43VXFJWkxOanhOVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjVjNzc2NzRhYjBhNzA0YWJjNzY5YWU4YjFkN2MzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJvUTZEZ0hGSGc3dGJWZkZqdW1KV1FRIn0.TNq_K_U-oLCSvg-29bTVD4TRVWE6roYpkqRduC3_ry-E4QPY-KZfggH5wSJk6cYEWrpikvFC99vNxQxornWJMY1V-h3FR3LlD2oeflTg_86bdkwKh6ZvEv338QT-c_bKXunk7nHDhpk-yKioB4JCThoYrNyoz65PULgJK44JFStFf7HvL_4orBwhJPJV1YA1v5onVl_a3AnI0kDbpM2eNzP-KQwGxMGoMBeyqBMGOMFPDyrXlM8rsIOFR818d765NGukup2vnl0GIk3ZhKhW-B5DDjZIsiMGmO2KK1uX1X1Sw5Lloe31g21A-7hW6s0vmNCXkU6heRxN9kgSGHPhtA', 'expires_at': 1738414197, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410597, 'exp': 1738414197, 'jti': 'ID.kKzCJqqVfdV1uIQeskGlfbM99yiFeYuN7UqIZLNjxNU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf5c77674ab0a704abc769ae8b1d7c3', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'oQ6DgHFHg7tbVfFjumJWQQ'}}
[2025-02-01 11:49:58,569] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:52:33,128] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:52:33,129] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:52:49,320] [INFO] app : Usuario no autenticado.
[2025-02-01 11:52:49,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:52:49] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:04,475] [DEBUG] app : Asignamos nonce a la sesion actual: 9d2d333c8ac1d6da974b0e5f5bd66d8e
[2025-02-01 11:53:04,475] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:04,478] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:05,299] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:53:05,301] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:13,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:14,186] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:14,188] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:15,130] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:53:15,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmxrZ0Utam44WDBKZkx5YV9tcllmc3RZTlozSEF2Sy1oOV9XR2d5SWFmVUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNzkyLCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.otRn4KsrnnwOhMrYEReve7f9IDAt4Q5A0BXPe43UASXJh74kg6P2Bd-ZV8Uvp9QOUG7WpS7tfvywmJPYsxMqtaEzgdmAAA02Vla7_8C1GFBTCRyIL1wm2MFKaXjAKXo0oQvbSmZKu5Q0iGqC2xasJ0UffD4WEd_o5HyX3iw0OuF3pEjLDQuyFI6O3qrjgV9c3eozi3Il1mmzffC9Za-n5RlCAQFU359MqGdfPOZJgF780LDfg98ksiMlloy8iqffX8Agi5zntDnE_LFQNoJnQGUBZuEi_17tD1Mh6X-qQuVZhqFsuqtqM4r-Q-kd1zXpmFeoyKeBvOi8GaQHx0_-hQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ', 'expires_at': 1738414394, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410794, 'exp': 1738414394, 'jti': 'ID.A8zD4ZFEOwYnVaaN_KocVe6J6j6Noq0b3QOJTJ6VdAw', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9d2d333c8ac1d6da974b0e5f5bd66d8e', 'preferred_username': 'user3@test.com', 'auth_time': 1738410792, 'at_hash': '9q3OnXgF90dkLYfgBwXsrQ'}}
[2025-02-01 11:53:15,149] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:53:15,192] [INFO] app : User user3 user3 no guardado en db
[2025-02-01 11:53:15,200] [INFO] app : User user3 user3 guardado en db
[2025-02-01 11:53:15,201] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "[32mGET /auth/callback?code=6bqV1r4qkOnibMH1LZRzpAOYDlp3c6MeUxQWJaPWkr0&state=aUHjEtYZV98YmQcIUk0rQmLwGXLHbv HTTP/1.1[0m" 302 -
[2025-02-01 11:53:15,223] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:15,224] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:19,638] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,642] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,647] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:20,319] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:20,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:22,302] [DEBUG] app : Asignamos nonce a la sesion actual: faf053b6c1ad6145c17c2461e0d19af1
[2025-02-01 11:53:22,303] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:22,304] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:29,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:30,250] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:30,252] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFBNGh5eVNYa19iVmdSYnhiaVR2UmRHRkNKS0pvdkRBdjJsTjJYQV8wSHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.FQ6iigMiIV3WDtLh3phYX-Lqp-cW3DsDmr4YItwvx4X2ZcvmkFTIbKO2EC59VQMcW4tAfHBAB6XfN-rfv8WJ1_DLnjfOxWDr8PyKh6vAjeJawbkj96CZlgLQEvzEYhNnEM9UVTmJzWmSwx8FV-CXRHcKCxXX8H1Rdm7vAEDCXmcjJW4cVzQINzzt46JQp0EX3WpH0u_ofodYVQNWJ8ian7ywkDiVR9JSb_qDXs5rDmuDBDuOU2cJ9Ma9A-ZLblXuKvGFt2R4KjZ5EpPxJRbbCS8arn9Eiz40WMsvsrfb1FK2CRifzGw1s_dFzwgL_G8ihBIP7xKTXYVF2-myBkvEtQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg', 'expires_at': 1738414410, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410810, 'exp': 1738414410, 'jti': 'ID.EpjKBfYKqp7IhBDxbChmU0sLeDlkKnDvHD7-KUB99DQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf053b6c1ad6145c17c2461e0d19af1', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'vFjK6CxFLVYnmr7sKglH5A'}}
[2025-02-01 11:53:30,258] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:30,260] [INFO] app : User user4 user4 no guardado en db
[2025-02-01 11:53:30,268] [INFO] app : User user4 user4 guardado en db
[2025-02-01 11:53:30,269] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "[32mGET /auth/callback?code=r20UH-7GUftSbsozBjV3xbN6yqxGSzRgRoQsQQ0hVlw&state=iuVJLpl1CHeMi9F8Bi6jq8HhfWF64p HTTP/1.1[0m" 302 -
[2025-02-01 11:53:30,290] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:30,292] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:33,469] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,478] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,482] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:33,923] [INFO] app : Token de la sesion: None
[2025-02-01 11:53:33,924] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:53:33,926] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:54,609] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:54,609] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:57,652] [DEBUG] app : Asignamos nonce a la sesion actual: 72246a9b1b1c02879f02c06616ac53c5
[2025-02-01 11:53:57,652] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:57,655] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:58,108] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:59,053] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:59,059] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlVnQU02RXhiZlFORktZTUR4NngxVFFHVEUwOFFoU0VoYmRIcldOMjIwSE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.Q9XCW4qo8VQ98078kF845adrJu1bi3ufrtVWMJSUUpigmqi7rhdfu-Uq290eToNDuh8G1v48WQm4TU-noPB5Zh-4BB7RfmJYtNM3YldknxUHf888bafeCyfaolsTQlTrxuKEwEERmbSBcyhXwtn_OGkpm2cYhECI4F-HaReJQDrCQp-o7-m-n8im7DuVk4UFq1IlF25X18XESUltP21ljnUtnJVFmYkgHnH8qxto3PC_gZUZzBru8KVqG04nj8ulezz7Xvcb1hB0nvnrm9j1G2ih1IB1OW3dDG4nu7irdlh-FhBZDeM3OkyNJ-jw7i7z9GwQq9UOXz0EHg-yJi6u8A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g', 'expires_at': 1738414439, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410838, 'exp': 1738414438, 'jti': 'ID.y2DiwQ2By1GuW4FZ6jyb19h3ugtNwwSxbt7uT2w2gbI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '72246a9b1b1c02879f02c06616ac53c5', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'Fqy01f7yzEzUkl6wwsG4eg'}}
[2025-02-01 11:53:59,072] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:59,077] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "[32mGET /auth/callback?code=gt0e69FdYQ__r9LboSYBM9bhEAEtHiYJ922H0NzotbI&state=NhHwq3fw2I1C8GIc9ReHwxuE3KeoSn HTTP/1.1[0m" 302 -
[2025-02-01 11:53:59,099] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:59,100] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:01,596] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,601] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,604] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:01] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:02,861] [INFO] app : Token de la sesion: None
[2025-02-01 11:54:02,862] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:54:02,865] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:02] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:18,985] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:18,986] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:18] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:21,682] [DEBUG] app : Asignamos nonce a la sesion actual: 2fafc717fb352c0ec1de4c8a298e4c3e
[2025-02-01 11:54:21,682] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:21,684] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:21] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:22,279] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:23,312] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:23,316] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZTcG9VS0ZDVjRYVHNqZnJvYjVHb3hPMnAyMkVIYVZsNmZib1B0aEJaU2ciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.EKZumUCSdzUu344JkWd2GrzHv5zRMlQx-7ONv-3AfldR6ZIBi-boq_ujDxZsN6CwphpdmezmcvQOqO8jSlUWs_u75AxOIhXRoc-CETfD4cXW6qae1On7nAKzGdp3xVVqHiLL1gAZlwsuxAgliDHbTL2J6pTkR65iA994QXp8iyQT0aKEicBfchUUVxLvltOSE1dJnoS-Y3BHZ8ma8KBZj8fF4r6AaUIjVqybEkQTEhP-05kV1yQa-S3mH8FHqdSMwHp9zVG_V_60IxWMeJo9XGs0b6kWFAj6-i1y3kXoVJtnNRTZk0RRptVPRTq3Ztw0_J0Y8fxDTEt0vLYQjqsobA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywianRpIjoiSUQuT2NZdmlnaW5LTTllWE1VVFFGbTRyMTR1QklrRlhfWFgxejZjUktzM3ZTNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjJmYWZjNzE3ZmIzNTJjMGVjMWRlNGM4YTI5OGU0YzNlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJNQVVVZzR3dzdFN3hmY3NiNGRhanBRIn0.VuY7Msg80CWaL83Vgitn-iVwEJXaiBQGY-IOo80NgzrHy5t8UPiJAc1RaKRqMAZuOZdqPRe2nBkyt3nGVUVlABluKNgAF8TfR_3d2E-8LxD_T4OTs6wlOFyRnvCwfoBFdrtm4tuLXDUjINejAdR4V_IzwI7MEm1_8C4AsC3TEh-4nT4rH8Y0p9PigJJrDwoT-hlDxKGbX0cAtrMy6UgFkbQU976ayDMKPIqaIY_PhIwXOhgctbvV8XLoGq4CuPB5yPYGUMfUVFLtbpOhfKS3_v7IeFIXtbs_PzVeQD5UztCS0cXON5i8MRdfuBohCOkbfCpIqreohMNHZyoUkZIFTg', 'expires_at': 1738414463, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410863, 'exp': 1738414463, 'jti': 'ID.OcYviginKM9eXMUTQFm4r14uBIkFX_XX1z6cRKs3vS4', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2fafc717fb352c0ec1de4c8a298e4c3e', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'MAUUg4ww7E7xfcsb4dajpQ'}}
[2025-02-01 11:54:23,324] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:54:23,332] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "[32mGET /auth/callback?code=gx6Pl1yvPOiwdNzXX8_kgHe4lK-Zn-pRUUBAqHZKbJU&state=C1wyLBpPwgeusUvrQEpWIiXmUZtI6z HTTP/1.1[0m" 302 -
[2025-02-01 11:54:23,353] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:23,353] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:33,712] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:33,713] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:33] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:34,596] [DEBUG] app : Asignamos nonce a la sesion actual: d9ead1d94c05187b598f5b1e50d55101
[2025-02-01 11:54:34,597] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:34,599] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:34] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:35,301] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:36,251] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:36,254] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULktyT2ZmM214bFZoVkVsaXM5b1huQVJabzdSaHNDRENwSHJNRUJoN2JqZzQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.ZF-xt7Wg6PNhyGTL9DZHyiX14EtTADGR648w_5iYWlKwmjkNH2jkLUZ8ljs3CNerpXT_5HZS_d04KZqIzlfabe6TLMlvr3zLqq7imR_KPXy0jrScT7WB2hoQYq95erw_5hdvf-TOPdhGHBPyK_EP2mDQl5I5HUoAJqTAgTPF_-Aep4z3kyhdkEQW33rkvR5N5ahzq8zWn-4n5JDPP4Wvb9jzyvxp-bFrY_vnCyQrseIR-AzoHfdvFasylfMScz_9W1u1oq75Nzgftfd0EFjE8Kk39ZtGbsXI6l63MVPbAxryJskmo_Gly9XS1JHJF_9PUb6Mt7mWk3Ji_lVJWTvPJg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwianRpIjoiSUQudlJjTkI3SE9oMFNwZXByeWhEa3ptUnZVM01qNzMzQWFtWm9JTDVNeGN5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5ZWFkMWQ5NGMwNTE4N2I1OThmNWIxZTUwZDU1MTAxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJTV2VTV0xXSnN3anFPWkRsSnpGYk5BIn0.bQysvPUVyh2fdislwAWM0ctcM6GkJe7xwQYzlkUHfNu0vdENIFpO7aNVUuBDtdnVbnLfpmN06_N9OKY_YDXNiVez8dBualDDPoFOGhzBkbUtHYXmhReMiyVqJNkOcplih766zPuSGwXDa57c1mXgA0NPlQaWbHKFbN17ZL0bwMeKE_2IjFPd0O3Vk0WiHUgVrVHNXGS7IL_neIKmFWvduIYInyB1c4UfNCJ88Hr_Yuth43B3xBMwhXnD70gwXJkjlanbgE4WDWld2CaVCP4_SDhbCwPVfpCCn5lbKSomVxa8K95Hx-NkkJDDLh0B9EAp766_TTN8ipMH7utbBnvoAg', 'expires_at': 1738414476, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410876, 'exp': 1738414476, 'jti': 'ID.vRcNB7HOh0SpepryhDkzmRvU3Mj733AamZoIL5Mxcyo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd9ead1d94c05187b598f5b1e50d55101', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'SWeSWLWJswjqOZDlJzFbNA'}}
[2025-02-01 11:54:36,262] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:54:36,266] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "[32mGET /auth/callback?code=vGaGyG4fqQSE9me79iJJkI18_sgf042TDIIDBdA5eW8&state=IkkC9LoQaItVVtJXacezpUdMfooks3 HTTP/1.1[0m" 302 -
[2025-02-01 11:54:36,280] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:36,282] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:39,571] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:39,572] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:39] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:45,690] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:45,691] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:45] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,027] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:55,028] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,057] [ERROR] app : ERROR: page not found!
[2025-02-01 11:54:55,058] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:54:56,519] [DEBUG] app : Asignamos nonce a la sesion actual: 427f651bf77f8af4ecc7c3f0e24fce7b
[2025-02-01 11:54:56,520] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:56,522] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:56] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:55:05,179] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:55:06,138] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:55:06,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJjbERhaWdXalZoTnJXN0NCQXRFOXBGT3F3QTg0eWZVVjAwMm40Q0lIYlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTA0LCJzdWIiOiJ1c2VyNUB0ZXN0LmNvbSJ9.VodKWK3LC6GZ0Vh50oBVnPPJaIqfOORvErn4x74qicIwPSD2VGDtUnHREvPZ00Rly6m7Js01BMkrjYK7owDCCfHPZlYvsLxiKUHWLZCouKEVyCCflTltX2fBMjPyWGjouueSY0f90-NRNUsVCKW-a2DTEvLlfWtrdv1Bd0blM5ak7tnDvRUuZ0hBhmSzFgT1kxjhyoDxFuQMK8pi--BSCfZJ-YBJDKINmdZuf25Lk-H4HoK7TiB3E-6OiOSvR8KsFRlEx4uXbhlOHLv_b9Ekx34EHJIQGI6C2l6rIRPwMzIMd-yy18k4I1UqOIBHxzbN8gc775uFQiNt9tPbiA3vdQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ', 'expires_at': 1738414506, 'userinfo': {'sub': '00umz6c09w7AcBQfs5d7', 'name': 'user5 user5', 'email': 'user5@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410906, 'exp': 1738414506, 'jti': 'ID.NHoAXw1TGdnpAGok2T3fJGIzg9rTan9cF2WymJxfZZ8', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '427f651bf77f8af4ecc7c3f0e24fce7b', 'preferred_username': 'user5@test.com', 'auth_time': 1738410904, 'at_hash': 'wPDDIY-m_htYsFxQxzr-xA'}}
[2025-02-01 11:55:06,149] [INFO] app : Sesion info user: user5 user5, email: user5@test.com
[2025-02-01 11:55:06,151] [INFO] app : User user5 user5 no guardado en db
[2025-02-01 11:55:06,157] [INFO] app : User user5 user5 guardado en db
[2025-02-01 11:55:06,158] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "[32mGET /auth/callback?code=NbRViNMJ1Yt8DTlu-spXXykTR83ziZjzMx4BTMDlgaI&state=Q4Z48NWd4HdSSTwXMj4dt7XeMdKRoG HTTP/1.1[0m" 302 -
[2025-02-01 11:55:06,178] [INFO] app : Usuario autenticado.
[2025-02-01 11:55:06,179] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:08,524] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,528] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,534] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:08] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:09,226] [INFO] app : Token de la sesion: None
[2025-02-01 11:55:09,226] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:55:09,227] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:09] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:58,086] [INFO] app : Usuario no autenticado.
[2025-02-01 11:55:58,087] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:58,129] [ERROR] app : ERROR: page not found!
[2025-02-01 11:55:58,131] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:55:59,733] [DEBUG] app : Asignamos nonce a la sesion actual: 8fb02ffbb5887b1141e89d8b97ff3022
[2025-02-01 11:55:59,734] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:55:59,735] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:59] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:08,562] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:09,732] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:09,733] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjdlaVVKWkRHZFlPN0RaQWh4by14R2x5bW9YM1NMZm9abzRRR0VzTlQ0WVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTY3LCJzdWIiOiJ1c2VyNkB0ZXN0LmNvbSJ9.B6zc22NYUyiH2uauQg-rQcKV9FDMvB9gk_bgydDY8VPfNZ2MVl9LL6-tR_ES_9CbVNA8aTe4x_s1BQE9tZcE_wExZ305cuuWcBhoAncYEJTF-_qvtpw9k87Ck-UqM0N9RzFk7NYPw6UeuUqyCn0rZ7OKZD_WD0EJnlfDmvl0lE52g142TDwV26YnEeiBG7yei8JTYdbj-dL3n61GGdt8B2cncKsgy6HkW5Ee_UB-ezmArXlDUdrkHCADKac40Hg5mq5gkWHo3paYawMFpxHalfDaEYDU7BCOz-oUWv23GiFndIfPew2iNn-rHm0718smXIlXGCBKr4sMHyUSgw4vCw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA', 'expires_at': 1738414569, 'userinfo': {'sub': '00umz6a5d3yEbs5yX5d7', 'name': 'user6 user6', 'email': 'user6@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410969, 'exp': 1738414569, 'jti': 'ID.CzskWlGIP5xENLnk9nhxxwLbxfzuz4cyK9y9i3rFtTU', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8fb02ffbb5887b1141e89d8b97ff3022', 'preferred_username': 'user6@test.com', 'auth_time': 1738410967, 'at_hash': '8dPcOciMI7i1bWQdWTP9fw'}}
[2025-02-01 11:56:09,739] [INFO] app : Sesion info user: user6 user6, email: user6@test.com
[2025-02-01 11:56:09,741] [INFO] app : User user6 user6 no guardado en db
[2025-02-01 11:56:09,750] [INFO] app : User user6 user6 guardado en db
[2025-02-01 11:56:09,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "[32mGET /auth/callback?code=2k94UqRAsDQCNAzd1RVRGErpH73gcx4ZQ55u-PCiMEM&state=WzO68D0mrd4OLvTGQc6xi6MNOxGrL0 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:09,756] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:09,758] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:13,510] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,513] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,516] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:13] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:14,075] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:14,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:14] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:16,074] [DEBUG] app : Asignamos nonce a la sesion actual: f0f486423abf20456b31da1b0a18db24
[2025-02-01 11:56:16,075] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:16,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:16] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:40,885] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:40,886] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:40] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:41,928] [DEBUG] app : Asignamos nonce a la sesion actual: f0d961590135623807eb7097d5f5302b
[2025-02-01 11:56:41,929] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:41,930] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:51,747] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:52,692] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:52,695] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNteHZLVTNheVVBLThWUi1KUnBCMzRTaEVncjNSTUpjMGNKYlRjYXp6UkEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDEwLCJzdWIiOiJ1c2VyN0B0ZXN0LmNvbSJ9.PMA0vJVbkNg6QiHiQLQJpTj7ThJzysTSpgOI8h96PIHmqBpsng9WDXHc_PVe31_n3w8QH71W7A-56cC6c9kdbAAXzWtV4zc2bWN2zbWWYRbcnraT18tGLQ_iKEAurl2PmRWuVNWcvXpu7fZs3IL3krvif_cjRarEao73jYQcuYbyxK-EtBNfLwlcwGTj6FcPA2VhyuwbKQpSFGbPAEUAgfWX0IVz8xqqF9rlgTxvwuC2_nwYZcFAFGqWoKyQCUhNvwOQ9UxRjEbpdSYQuLiKdNSp1WvhssZ3eIs_xbs2CSnSC9B_cJXA301q-AYlOuGt1qVedsNwAhsPQimFR8UQbg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg', 'expires_at': 1738414612, 'userinfo': {'sub': '00umz6dwfcpwcMSnk5d7', 'name': 'user7 user7', 'email': 'user7@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411012, 'exp': 1738414612, 'jti': 'ID.TUgQStKncQkYWG6QCJZPbfK1-wyRpMMpWi_uGhO09DA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f0d961590135623807eb7097d5f5302b', 'preferred_username': 'user7@test.com', 'auth_time': 1738411010, 'at_hash': 'FTIpNEKxAGkTRltgNFhPOA'}}
[2025-02-01 11:56:52,701] [INFO] app : Sesion info user: user7 user7, email: user7@test.com
[2025-02-01 11:56:52,703] [INFO] app : User user7 user7 no guardado en db
[2025-02-01 11:56:52,712] [INFO] app : User user7 user7 guardado en db
[2025-02-01 11:56:52,712] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "[32mGET /auth/callback?code=FsNtK0VyhGTXu6Jknb_mM2AcGe-EKZ-tqxYWgo2arxs&state=PeFidQuSNhrH6YXu9IkccElx9J2Ss6 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:52,717] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:52,719] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:56,384] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,386] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,389] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:56,771] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:56,772] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:57,909] [DEBUG] app : Asignamos nonce a la sesion actual: 714ff9a037c4f0f7a9b5d10a53f956e5
[2025-02-01 11:56:57,910] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:57,911] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:06,619] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:07,464] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:07,470] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNOOXZMeUtNWlVLZDRoMEFUZ0hkdVVtcG0ybkZ6S01ETzJ1aGoyb3BKNUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDI1LCJzdWIiOiJ1c2VyOEB0ZXN0LmNvbSJ9.i2CyJIjef-RFN0tzNgE-GRzb8qeUBSrO3VFtJzA413KAs5w9RsAHpuoHSzwSLhSX0oz_uVobRWhvjDElJt-B1wMRSex5ua1UK0oQCcmAXLmDOYfRK6vkbIlMgxPwveDNChdNVx7NXCrPhxfBARAm1Ddw6h24iMPiSva3M9rVE6CC89gQ8oK_x-ER1e69Zr5KM8lAkOHA5NYPDN3Sd2yykc4rURex-e9t0AR17S63KXwkbFsSL83PyN7F6WKVwY8Tuukj3g-n3YtTZdsVSussHhQpjFXKjadw-79dV9u7DcAYPcS78s9xdTnjSrxBXJ5ZakPkM0zZK68YrCJSSbBh2Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ', 'expires_at': 1738414627, 'userinfo': {'sub': '00umz6e08eTCpF5DQ5d7', 'name': 'user8 user8', 'email': 'user8@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411027, 'exp': 1738414627, 'jti': 'ID.NaxAaIXwU1_COVVY-_eo62-NEMeXy0Qn9ulQfSkI_JY', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '714ff9a037c4f0f7a9b5d10a53f956e5', 'preferred_username': 'user8@test.com', 'auth_time': 1738411025, 'at_hash': 'w4LtpIg9pJUv_RsniM5zmg'}}
[2025-02-01 11:57:07,476] [INFO] app : Sesion info user: user8 user8, email: user8@test.com
[2025-02-01 11:57:07,478] [INFO] app : User user8 user8 no guardado en db
[2025-02-01 11:57:07,480] [INFO] app : User user8 user8 guardado en db
[2025-02-01 11:57:07,481] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "[32mGET /auth/callback?code=q4q0ttqlWpPool-GHIpEWrRi9oyCm-8n-VqNXokiCFc&state=pfiBlUZA1Dn73X1xNaptD8ZLOJCv2S HTTP/1.1[0m" 302 -
[2025-02-01 11:57:07,485] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:07,486] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:11,106] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,111] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,117] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:11,675] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:11,676] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:12,940] [DEBUG] app : Asignamos nonce a la sesion actual: 83e8e0f2fb0944c051259d95b70b6438
[2025-02-01 11:57:12,941] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:57:12,942] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:23,549] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:24,616] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:24,622] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk1PV1R5N0NfSGZDOTBrSDBYLVBqZFZKT3d4UVJuMWJCOXFRUGtVUEU2Q2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExMDQyLCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.eYYHjjehF10KjAMkw3C28urFawYDyEsTQXEUu7jBfKRSoKzlNIEXBYWFVNr0rXQUMwsb1Xrp8X1V782jJCVWCXuJfZ3_bgpBl3Qu5mSsJsFiazHXjGdEoNVp-wbqgNZXvg3lX6b_EsIeTOuKQy3OpSWqz_c9bXtqPSYryIjUd_7JHwIE6yQ03iFuN8G-lk72g3o86uP5nwiyGvpPBshrYrenXbS7MONvJHDqdszJEA1uqJ4rQVHuQAqKeWJWJZ2lBzZCUk8dG-Qt3UP8rCil0rt4XDI3EkQeO7BwtQUXR0JD66FfqXOuMRBMVcotupyJpa2q3tD8tpt9XPNP8KrdPA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q', 'expires_at': 1738414644, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411044, 'exp': 1738414644, 'jti': 'ID.THL0OvzCh2vxcuyOlWgj9lVarmzo30z-9zAVTUvPkKQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '83e8e0f2fb0944c051259d95b70b6438', 'preferred_username': 'user9@test.com', 'auth_time': 1738411042, 'at_hash': 'oLO5rAvFmVzp0FRx_SaZqQ'}}
[2025-02-01 11:57:24,631] [INFO] app : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 11:57:24,633] [INFO] app : User user9 user9 no guardado en db
[2025-02-01 11:57:24,635] [INFO] app : User user9 user9 guardado en db
[2025-02-01 11:57:24,637] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "[32mGET /auth/callback?code=R1p33TC-nX2Y7ghyH38NTMJUS210TIoGZ4Bpk76WlxI&state=bgNwJ9t44qhHXU1lqTfXnyWV44lu5b HTTP/1.1[0m" 302 -
[2025-02-01 11:57:24,642] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:24,643] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:31,034] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,036] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,039] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:31,600] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:31,600] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:33,829] [ERROR] app : ERROR: page not found!
[2025-02-01 11:57:33,830] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:33] "[33mGET /k HTTP/1.1[0m" 404 -
[2025-02-01 12:03:01,421] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 12:03:01,423] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 12:03:12,605] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:12,606] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:12] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:14,781] [DEBUG] [app] : Asignamos nonce a la sesion actual: 575c4842e72935132ebb1faf7bedd40b
[2025-02-01 12:03:14,782] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:14,783] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:15,616] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 12:03:15,619] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:15] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:03:22,871] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:23,903] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:03:23,905] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:24,856] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 12:03:24,861] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjEtenNPRE5EYXBSdkxpS3VIc3dlYkNLYzEtZWhVeXhuT2ZRWDNoam5wemciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExNDAyLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.RYNFrsOGaEtZCNsVMBv2AN3GGyikoEHpGxp_TP4Sh5HuvQ5VEbA8KGVjaRcmMjuADHvl3bQOtLc023wnj6XapblJUsZ73lEP2v5daz4lNo46D0HhQ-u1SDsFzogGTur4WVmtDg1oGDi9L8VDgOIPvn1HuDH1_4FunnIjFFY-MaHR56gy0jSi-ZWmKb_UKpaEaydVScC5XnwMIVjpaqmuJ1gTyfKlYinkgjH_bj5VTXTSh2Dd0eqdZEJcDJkC452-5-hhg9qDG3frpLL4nO82cgoJV06tYd4jewfKdmKjXhzYm9-c0d_c_bGqjqhuCeU91wc7mhxP7rD0FN5gL0fvrA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw', 'expires_at': 1738415003, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411403, 'exp': 1738415003, 'jti': 'ID.mhDj9e6UoEyE--DuTjocGDONDCv3cQTySSSvHtUacsA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '575c4842e72935132ebb1faf7bedd40b', 'preferred_username': 'user1@test.com', 'auth_time': 1738411402, 'at_hash': 'X2KYZ7QMzgmWJxn8jiwznA'}}
[2025-02-01 12:03:24,867] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 12:03:24,883] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "[32mGET /auth/callback?code=Q8ThXgY3cbvtYBFWHHjjHm-WuDp4MWu1IjrK1DfX8_g&state=uzl6lCQ0DUOoQwrKYs8YVKIkidnPAs HTTP/1.1[0m" 302 -
[2025-02-01 12:03:24,890] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:03:24,896] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:27,615] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,618] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,621] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:27] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:03:28,236] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:28,237] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:28] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:30,349] [DEBUG] [app] : Asignamos nonce a la sesion actual: fc1c76dfa23360fa7b07f10e530b2ce5
[2025-02-01 12:03:30,349] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:30,350] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:30] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:08,572] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:08,572] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:08] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:09,645] [DEBUG] [app] : Asignamos nonce a la sesion actual: b8a32a88453215fdc9a0a84f5344a6ec
[2025-02-01 12:04:09,646] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:04:09,647] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:09] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:17,205] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:04:18,137] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:04:18,138] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkE3WEEwY1V6ekd1MVFkQldjY3hPVWVuQkZWYTlXdUU2TDNwWXhXOFlqdlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDExNDU2LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.m7ZPua1mZ23ADqamRnAfnKr1WXksJCfLADZYzhh0GnvnW6gHG-VaXNrA8wb_FPi1r-E9rAh6nf7aAa2jbPWOv5Bf45NTigwuofGr46PBw272C-fs3InXSV15ck8zuFzfS2RG30xpWvn77JvZlBaeRYt-PE9yZDcGKeacvvYVqh15SEsrrz4rmICU8cpOs1wvRWwBb7ps6MgG1IHoEpv4LTJRpYgOKVZcnBPaERvnVBOg9lBh-xK_VlD5o5nzoSGAPLDHhePTN1YubfTJRVrw1mpa75IVhBbkzJC66ZJbFTdsegY1QWmm4mieTQcjm_mWuKUtuNHmPb2UZ_LdElW8cQ', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ', 'expires_at': 1738415058, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411458, 'exp': 1738415058, 'jti': 'ID.v2CAVoQ2Jt_DMOYo-ZxkLQzizH1PaOTVtTPudr2GBrk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b8a32a88453215fdc9a0a84f5344a6ec', 'preferred_username': 'user9@test.com', 'auth_time': 1738411456, 'at_hash': '2TFXdZSsT6Yg9_Ld65shrg'}}
[2025-02-01 12:04:18,150] [INFO] [app] : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 12:04:18,154] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "[32mGET /auth/callback?code=sjf2DnXO5uGcYfopmpUkOe69kPH0tu7sIQxhyizFhIM&state=FdL7Ow1LFPsVWLjNbUiQQMy8M4mlr3 HTTP/1.1[0m" 302 -
[2025-02-01 12:04:18,161] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:04:18,162] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:24,551] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,555] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,559] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:24] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:04:24,999] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:25,000] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:25] "GET / HTTP/1.1" 200 -
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 16:55:00,407] [INFO] [app] : Usuario no autenticado.
[2025-02-01 16:55:00,407] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 16:55:00] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:14,379] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:14,379] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:14] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:45,964] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:45,965] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:45] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:47,124] [DEBUG] [app] : Asignamos nonce a la sesion actual: 65a7d3e1d26cda69fd7baa4e07790173
[2025-02-01 17:06:47,124] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:47,125] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:06:48,146] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:06:48,150] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:48] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:06:56,164] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:56,164] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:56] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:58,414] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1536e5c63f0c7bfbe1662fa54fd032a3
[2025-02-01 17:06:58,414] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:58,415] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:07:34,628] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:07:34,628] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:34] "GET / HTTP/1.1" 200 -
[2025-02-01 17:07:35,725] [DEBUG] [app] : Asignamos nonce a la sesion actual: 76ea46f9b1b6214bdd6aeb54e5591c86
[2025-02-01 17:07:35,725] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:07:35,725] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:47,235] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:13:47,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "GET / HTTP/1.1" 200 -
[2025-02-01 17:13:47,506] [ERROR] [app] : ERROR: page not found!
[2025-02-01 17:13:47,506] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 17:13:49,387] [DEBUG] [app] : Asignamos nonce a la sesion actual: 9a49be442fa59a4018c2c5578cef21de
[2025-02-01 17:13:49,387] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:13:49,389] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:13:50,174] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:13:50,176] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:22:19,979] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:19,979] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:19] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:22,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 91a6990c55a25a077d4cb20fc46e33e8
[2025-02-01 17:22:22,240] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:22,242] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:23,283] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:22:23,284] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:22:30,193] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:31,241] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 17:22:31,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:32,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 17:22:32,053] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmkyX21RTFYybFVqVWpFb2h5ZzI5RkJXZU9uaVJzQVRnZWk1QURVYXRwdDQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDMwNTQ5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.EompqS1fwk2FSjmnl7rA3ONhi6PyjulVIJm-wGUoYdInCoiY4ye8y0sUDuWc8LKaCzuvncS75SuQBMH1Oc8XYm8hkfHLTLT-U-xoONhS-W4d9XI7DACkjyBJqj_ICb02KjKojljjVim2dxOjVUOH6meLHDEStqw1FaTP7vlBLh9fDrWOMHu_zCDvZ2FQh0DiiEMaUYbQD9-MhDpIGYblVMV6QrFBJbdgeblVlBns7qmC24jvcxTL6wwE-n1M0mP3cpxjE0RveEfI45Y-n5VaUsfZ2cH389AVsQXu61wse6WrpilhgRCFvqwLqx1PcHrTYrPHZQeiiadu6EUMm0mj_A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA', 'expires_at': 1738434151, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738430551, 'exp': 1738434151, 'jti': 'ID.hNgxp0Z9n6YG-N7HRRMK6TULX-crKfvlTvn9baJmKqE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '91a6990c55a25a077d4cb20fc46e33e8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738430549, 'at_hash': 'Q_UIH1Qu-VcUrrU26sJe_g'}}
[2025-02-01 17:22:32,054] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 17:22:32,077] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "[32mGET /auth/callback?code=hvEfrDdIud0ucn4Os5aXIT5eWUILwh2sR8BN2q5q6ZI&state=RzJ94rqgYSwdEE1YcDXCNwCz4zZOAc HTTP/1.1[0m" 302 -
[2025-02-01 17:22:32,080] [INFO] [app] : Usuario autenticado.
[2025-02-01 17:22:32,080] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:36,983] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:36] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 17:22:37,746] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:37,746] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:37] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:39,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 412c153977be2089a32187fa726389a7
[2025-02-01 17:22:39,241] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:39,241] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:03:45,934] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 20:03:45,937] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 20:05:08,986] [INFO] [app] : Usuario no autenticado.
[2025-02-01 20:05:08,987] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:08] "GET / HTTP/1.1" 200 -
[2025-02-01 20:05:09,036] [ERROR] [app] : ERROR: page not found!
[2025-02-01 20:05:09,036] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 20:05:10,307] [DEBUG] [app] : Asignamos nonce a la sesion actual: c2793408fd5754dfdf0bf59633388069
[2025-02-01 20:05:10,308] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 20:05:10,309] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:11,231] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 20:05:11,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:05:11,956] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,023] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 20:05:13,028] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,983] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 20:05:13,998] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNiUXk2dFc0cHdja0JfcXJnTC1Rd1E3VmJiVzAtdU9hVnNjdEgxQmhsS2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDM3MzUyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gbQJs1CKfy2nlt0amLsqBbpt8pzY9DJu81cHj5crP_hYIj7yhhgLTOTSIi948HDU9_ZLakPNyAkF9V2e93rI87J19ev8HGllxTzlKDBJtsFRRqDhz5AteDqj6fV6XpkCNmObB0s7YU9jl-GnPFiZl3jGZqh1D_W_ABGwkQhUujg93y0_QSCCtU4iYkcC5uD1llC1yqhRidz4fOUIwxudlSW6doKNs9MsVQgQUe3LKbrwtlAox3iCSs1fZMjcOdBDDXi1qpOFxwd6E1HHfvgTKxyE7ugMNp5h81AXagIDbbyndpPat1yHLPsFdFQG1XNhG18RdCkt7NJD7EV1rtBT7w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwianRpIjoiSUQub0cwNVBMcndGX2lkX3dIMFl6a1V3RnVtQ3Y4UFBoQkZlZ1ZyN0pRdVhsbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImMyNzkzNDA4ZmQ1NzU0ZGZkZjBiZjU5NjMzMzg4MDY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzNzM1MiwiYXRfaGFzaCI6ImxNMmxiWk82WVRjYjFIbzlTcGdmNVEifQ.P_ytmVZSnF1SFB_vVtpfWFfPy491cx3o_5wKK5zw5AMRQbFy_qLmIQALxdR2Y2AMGLPnUi0kvjw0YWlMaZ2yAbStvGreih_Zyd3NimkaLwu0Yjv7WND72o3Kdy2y3tXEvBX42naQypWfdqsFLwjomzOr9O4SOxWyFExr92WnDtGMqFWY_NKz9x-1PgkC_IQnTHO9t7QZl_rEmEB6Asx_LpeStf6XCT0xCOLkv_6V23ccxJQRwWe76YB-I8Uqye8Sbz9HEaV9Cdq5uCKj4eGADgjLUS4wglfsygKeS3c8pPfBKsJH-mFbuVjdlO7VeOVgABzCESgwm8txE4j1a7aNJg', 'expires_at': 1738443913, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738440312, 'exp': 1738443912, 'jti': 'ID.oG05PLrwF_id_wH0YzkUwFumCv8PPhBFegVr7JQuXlo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c2793408fd5754dfdf0bf59633388069', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738437352, 'at_hash': 'lM2lbZO6YTcb1Ho9Spgf5Q'}}
[2025-02-01 20:05:13,999] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 20:05:14,001] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 20:05:14,012] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:14] "[35m[1mGET /auth/callback?code=JZWAk_d01T4SXdLG2OLQ8UFrcGFBq3HJlmLsRjPdKPs&state=sxChj56a3kTeQTOuZTodsw9HFbTyCG HTTP/1.1[0m" 500 -
[2025-02-03 17:10:38,106] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:10:38,107] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:11:29,464] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:11:29,466] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:26:23,157] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:23,158] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:23,222] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:23,222] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:27,001] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf96bc7f74876573f59d27634f6c99fd
[2025-02-03 17:26:27,001] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:27,003] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:27,912] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:26:27,913] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:26:29,127] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:30,201] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:26:30,202] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:31,185] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:26:31,197] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULldiTVNvdVMtRkxJZ2E5TzlLSUdBN2Q5eUdjZlpJSFhUdWtvUnZGYmx1dmciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjAyNTg5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.rwJHBeLFI0Q_7lKWi6OWo0tJpn_zC_lN1ETMzV41az18FPvWKKx9Dnla2C_PKcVlv-ytMDvT2loPo8jtMk-1_bxh4l24XIe8eqdvSla5AcmicG22Ngg3vwQtXvFlTpRuk7oCUeghGoem5AVFEj2fVVQZx3YAVESbaL9AM686sKWRHc79GuDBve_RJrKreD76XZ7FVHVmI0FxYcjDld1xM1ynwzz_qGWoH-I2lPUk9E_EhJJBWULJIejwe25g7jj0RSEFOH4e2TsdCN5g4bHb-Vbnsi3UJ_NyA2wSrnYCfvQEauMWWiR_pYmRbjt9bSMvy2PuEGjHNFtAQwZ8cSlY_A', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwianRpIjoiSUQuaEpDWFVaVS1EcExaMVB4QUVWTm5MR3N5UlVtX19WX2R4MFZOaHR0WTlSWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmOTZiYzdmNzQ4NzY1NzNmNTlkMjc2MzRmNmM5OWZkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDI1ODksImF0X2hhc2giOiJuZFhiT3hwa2JSWHYxLUJOZGZiRV9nIn0.K_4aM1OkxmAqV5HTL0imiZrgjBgfSPd5f_XysfoO4DYsOG4R51M0KfERTeT5_saZjafS5eHIhDzB4BuRlz9QEcfPlyEah3hFFrqa7wsN2yOVHi4CFZq7y1LaDaKc3FM8G2ZB9v6KRVAdYyqvbaorA1jVSJd3UDS1SowwJsVOpVSb5MQwcSr0KT1dh7A3_WFfmzVRnA1O_nj1zAqsvbpVwmOPvxdxRX5QlReHdezG16BO1UpkZS4jEINRQX0fgNKR05PpRLRKy7OgEGMKzIPfez9mNXBp9CRMe-6ICZxRFtOs_edoJcaQrQwJhYDIhHT6rQQWaR7ymNFNG3XueFNGvQ', 'expires_at': 1738607190, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603590, 'exp': 1738607190, 'jti': 'ID.hJCXUZU-DpLZ1PxAEVNnLGsyRUm__V_dx0VNhttY9RY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf96bc7f74876573f59d27634f6c99fd', 'preferred_username': 'user1@test.com', 'auth_time': 1738602589, 'at_hash': 'ndXbOxpkbRXv1-BNdfbE_g'}}
[2025-02-03 17:26:31,197] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:26:31,199] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:26:31,210] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:31] "[35m[1mGET /auth/callback?code=BcQlKk-JiQQPmnDwWU8Vwk2NBrTfUJY5FocuoVWQJl8&state=TQob05sHBCiPzbPO1bUKY8PNOdu60w HTTP/1.1[0m" 500 -
[2025-02-03 17:26:46,560] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:46,561] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:46] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:56,773] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:56,773] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:57,650] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0e3f2f36bb192df00d66a6d1c422e33c
[2025-02-03 17:26:57,650] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:57,651] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:27:08,896] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:27:09,938] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:27:09,939] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBXa01pSXJiZUxfejExMUVvRmdtZ09xOS1CdV9JQWFKa0RYaVVDdEpmUm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjAzNjI4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.hVgPz_rfqoyUBTVt381QHwOV4awp5X71FFt9wvAvdVQCrmomGxUXvzFjQkbwk2SxXc1YuEeEOPVA6DPkdBRoKMgjPVIyeJRxJ2ffUYmecTGgjm0IwaHFiGfhwJM0IAs5pZ3dTd2bI3ddJ9r-kpSdhVRNigz70_1-r65OAuXQwsmXDTWHjPMoATAADzZROOn8l1RHli8ToM7Ih24lFsgePca46lalq-gwMCe7wkQI37UfycL9M6fFMWtgOMZuJ_MpVCSt9OzglsxzurETBic91l7vRwf7tyj6QRdqcmkCXhoHJAyqdoXQZOoSiVWaIzwyVrhI1_IFPynSSdXvLYmYeg', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwianRpIjoiSUQucmFIcTZxT2JkT044UmlmbGYwYXViOEJHMTIxa0c5RVhlM25FYkFyT2hQSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBlM2YyZjM2YmIxOTJkZjAwZDY2YTZkMWM0MjJlMzNjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDM2MjgsImF0X2hhc2giOiJPbG9mWllrSzdlZE81VEc4RjVna3FBIn0.Rkay05FAE3WQjhX44eLGdIWwbkuTcgoffQRtwwr8z0htDpqtwIoDm4os8LaDcym31CFem9OY87hvbwkQws_EeUKYBC04NbyOrCtTLfuw4csAbTYWPTJ9QxgZkm0XV2AgDgk5zHbxDaHKvxUEhVgOjAhpWEyxi6ywMKPrz2Wwb1D-1aSRBLr3XP1GERFTe9PQvtXGX2sHnNzv1tkjPKex9SZX2yrG2vEvPnpapisjoHzZ5KyG87XxsxLWp9jRUaEISvb0_mpFJpIYZ3OP56jlg11ABlpQba6PlTRxy6JhmtViH-ox6e8cjSZdf2LUr8Kqd56HQK5kDK8huBNh-rGjeA', 'expires_at': 1738607229, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603629, 'exp': 1738607229, 'jti': 'ID.raHq6qObdON8Riflf0aub8BG121kG9EXe3nEbArOhPI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0e3f2f36bb192df00d66a6d1c422e33c', 'preferred_username': 'user1@test.com', 'auth_time': 1738603628, 'at_hash': 'OlofZYkK7edO5TG8F5gkqA'}}
[2025-02-03 17:27:09,939] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:27:09,939] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:27:09,941] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:27:09] "[35m[1mGET /auth/callback?code=1rKT1C_hdwx9FMs8hRPQQuy4jExB1-8kZYCUEJJAuP0&state=nUafaFQn9eppK4PC7IOWp1cm1YDTsA HTTP/1.1[0m" 500 -
[2025-02-03 17:34:14,259] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:34:14,259] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:14] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:16,205] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:34:16,205] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:34:17,644] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1816207b8034ce4b5822d6bd1c64a019
[2025-02-03 17:34:17,644] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:34:17,645] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:17] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:34:27,556] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:34:28,748] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:34:28,749] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhvUnRlWWxWTG9BT0wtVlBrQTZ3UndQWWlFRncyUXhzMVpKM2V6Z0VGWmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA0MDY2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Rr-PWpmJ6rqOYfaqP04fsyqZp5PwSrZJzRsR6gHVFNOsO0-3UzqeFR1RmS2Qg33UnDjz-MdLZexMggHOb5LPcnDRhYTqaHaXURnZ7EJC51fDZ7hZhO9lpTQfsdEIUjqOhx0uIFCsGSrG4f0uDu4WdCC4saAXA0vKKJOk7SOgbIGihp7NOaTuqbDj2d5hrjevuOT1lL0hesBzR363V5WUtmBIRF0PMqF0OcURKfI4HKrOUZ0lChnhtH56G8N1JDCMkr39iqQCT7RW554wmwh79BgP0Ry36d-DhMi29xmQO_Ln9xsHyEDWm6wxqtn3rCG4yKD6rkXplM48FLx1USRY5w', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q', 'expires_at': 1738607668, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738604068, 'exp': 1738607668, 'jti': 'ID.ad2IoGs0VOQFvU7AbaMhJHhfkyMkxs84IDQQbCjSX14', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1816207b8034ce4b5822d6bd1c64a019', 'preferred_username': 'user1@test.com', 'auth_time': 1738604066, 'at_hash': 'FvUKTX98-qb1GeKwrV4liA'}}
[2025-02-03 17:34:28,750] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:34:28,793] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "[32mGET /auth/callback?code=B8Wd_1ZyPmwI3UmjM1wLH30cHSl-WokzubtS4GY6ww0&state=4PjmH8Ft88iRUdzqew0LjVSbWgHoBF HTTP/1.1[0m" 302 -
[2025-02-03 17:34:28,811] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:28,811] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:33,069] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:33,069] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:33] "GET / HTTP/1.1" 200 -
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:57:40,219] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,219] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,220] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:40] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-03 17:57:41,554] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:57:41,554] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:41] "GET / HTTP/1.1" 200 -
[2025-02-03 17:57:45,992] [DEBUG] [app] : Asignamos nonce a la sesion actual: 49deb0b17d2ab5650e0cf5e5e40e1bfc
[2025-02-03 17:57:45,992] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:57:45,994] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:46,890] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:57:46,891] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:46] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:57:55,826] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:56,901] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:57:56,902] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:57,931] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:57:57,937] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJ1Y3l2M0FSX18xZk9mOXpxcElvSHRsd3JtRTUwekxsSmdSSkFWNjdQeHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA1NDc1LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gJpoOIsGz1v7yJHU-O29-4SxCeYY8M4DCBIRiMBgwswXTPE4BUSNnOyxQVWpIVlwz0jbrtwNmohqjVgfnSJwo2Aoa3l7J-Nj32rnZSHUDxp1ElTvzU00IraagPko0CdY3LxvrkxIigHuYCQF8olDW8-aMdPQPbyN5d7CEnF1cWenwQf05NN9XWK_ptQ0W0Iqd_JsJAoFS1zFNyEyOR8z-9bdIhj8YFZga38H4WNa4fznP5VggANw0-CBXKvXkcUi5D4FUr0wtKw9YcHlRt9R5ijyVn4iXJmhMPy-O45Z0urUFhjj95_SAlaJ4vNFIKFeRh_r9iCtyT-T0aedSKOHew', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwianRpIjoiSUQuMUl2NWNuZTRzT2QtQlk1OGtCbzRLVnFwTWI1V1RzdjZneFg0RlhqQWhZUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ZGViMGIxN2QyYWI1NjUwZTBjZjVlNWU0MGUxYmZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODYwNTQ3NSwiYXRfaGFzaCI6Ilc3OXlQLVZBRVdQVEFOMVY1Wi05NVEifQ.LZOg26GJS1cOgKtccyUk_q5fFAKWNt5M9eCMjz-eY3J2PEA5FFZasi2rDK4lWnK2RQmGMheczW6_taZitL1zWOnoaV9HGhm0QI8zVLZEaXfex8jCm-BYVajXefdKQLWpLb974LPYQcQBvdC73dCOmvwKR6v0IeOtdtQhWJkamPyN7pverXLXBNanmZuTqgRdNf95sAlyS0xeZToCsrFISXPFX5oak6oBw441RpOeQW3qIOjnjpkAsVO68JDVdgffl5PuY2ca7a9KR8H8Cqz9nfP1Q7Ry1BQLdBmv0C3HnhVCrGyRmUtvaun_TJH-ADSeLOl2NnLSsfmCpeGa1S9vGA', 'expires_at': 1738609076, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605476, 'exp': 1738609076, 'jti': 'ID.1Iv5cne4sOd-BY58kBo4KVqpMb5WTsv6gxX4FXjAhYQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '49deb0b17d2ab5650e0cf5e5e40e1bfc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738605475, 'at_hash': 'W79yP-VAEWPTAN1V5Z-95Q'}}
[2025-02-03 17:57:57,938] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-03 17:57:57,952] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "[32mGET /auth/callback?code=PHaNQSMpj3uiGIh3bVfFI4Z29v_rTljmZIDNNpGh6jA&state=u80jIog1rJhRaRhiFapSuL2vVSENiN HTTP/1.1[0m" 302 -
[2025-02-03 17:57:57,961] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:57:57,961] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:01,711] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:01,711] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:01] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:41,861] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:41,862] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:41] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:43,809] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:00:43,809] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:43] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:50,133] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5f491b4dcc7514cb5250f57b1b7243e6
[2025-02-03 18:00:50,134] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:00:50,134] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:00:50,866] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:00:51,834] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:00:51,835] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJYNzd1TEdSRzlFbzhlVzZCSklZVjBmdF9FTmhXREh6VGNReUl5c1R0bVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NjA1NTg4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.EO0sTJ47ltJL3HtcsCbWoYYYAV-a20LOQs4EYE71Vj2w8fnU8LrSIs9DHdaiLUD0i57BY2_SOd52vaAYaKp6-VsNAV3nRzF5yS7qgp5B-qu90UNSXbdltwSkUCv-GsbUkj4yHPkYDPjmdd0k2EI8S3uBP3tnnR3kv-_hxiasa5oe0MBgD7DoSSYV_03VhA2itbS7kO3r557ZjQux68zWVEGgEcyxleo4jCZ_ZdkApBQO8BuDFsqar58hr5KfTOqYOoDAZZhmXVBYSUk_3YQEpUFOOua_7XO5T__23nocf8-D0UBEhKEWUdm_cVm3Pi2Uku1_y4iDHYagGImDKZ-9TQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwianRpIjoiSUQuRlJPUW1ZaFBsakhuRUhXRlNEMzJHdlNKcTE5UFh6UlQ0MldxazBMdDNCNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVmNDkxYjRkY2M3NTE0Y2I1MjUwZjU3YjFiNzI0M2U2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDU1ODgsImF0X2hhc2giOiItWXBoQVZYRzdBMDQwNEprWlpISDN3In0.pJNcTv3-p25L8UCnenlMWjUk3LSI4X9tLViZJzX3gndkovp0YxrDs2zKx3ij2yl3mKX6588YyDKkDQPKH-6G6rOOSbAY87sQNf3nDLQ3OkmgjQmy-koiWJqqT6SuHfn8a1OYZzHkfOvMpvBc_9YEmoFWdKuFifYgIDNqWhPMnQ6HF3j3LLeahk7j-fdn4Gr7tp_YLnuXT7ycCA0QkrLoQP3YF-P-Q-lAbx6bPe-zP3axMc05W62gtLx6EfuTxojPFIs9Y9OL9waGsu7xMnMdhlAxkgsdHs3MnrCM8AIMv3SksrwLaQ1v5ycrqM1Y4NldZOjkq1IoxriPPOwqlAn75Q', 'expires_at': 1738609251, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605651, 'exp': 1738609251, 'jti': 'ID.FROQmYhPljHnEHWFSD32GvSJq19PXzRT42Wqk0Lt3B4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5f491b4dcc7514cb5250f57b1b7243e6', 'preferred_username': 'user1@test.com', 'auth_time': 1738605588, 'at_hash': '-YphAVXG7A0404JkZZHH3w'}}
[2025-02-03 18:00:51,836] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:00:51,838] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "[32mGET /auth/callback?code=mqYK0HJPwkJZ-fTEOb8D6Qrjs1A_A_sV4qs101V8h5k&state=SqFUf2KgFRk0C6zLTRl0ObewhSRDaW HTTP/1.1[0m" 302 -
[2025-02-03 18:00:51,841] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:00:51,841] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:22,944] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:07:22,945] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:22] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:29,056] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1b7f08eb776e1f822f00ca0122d16f26
[2025-02-03 18:07:29,056] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:07:29,057] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:07:29,870] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:07:31,063] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:07:31,064] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULi03VGNKSFU5TUhObE51VFhUWlFRZEtDMWVjRVMyRW45Z0NYUk02OVE1ZGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA2MDI2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.IXkt7KPzMChS-txjrKhMNb53T08Q1FpUq1bZ8cdb-wVpbqmawQOpg-Ib-xIe3T4cqTI63Zaut7MFM22du6LA-W6y8qoyxnhL3JscFX64uY1Wq1vf8OJiuCTYoUtjuoH-gFWDG7AdyUU5SZTNZ6D5ZMlGa1BxZEmAVCL_ECWe1HnHJ_QZcQJPsEiHTNxpwQpP3637QRQXwhDDinEkETdq8Y9i5DlBIpxnIv8ZZTGP847zkrnKWP5Zsvs0qVeFZe9iY-mVIis-XuLG9hhBtajCnb5HWHITtpW4Spk4BhB9DLjz-MXw-LxvhfyzqD72a6p8TfFPqpez9lozfHF9goD-FQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwianRpIjoiSUQuWWxRTnlnc3UwYXgxS0dtZFE5ZDl5UXFFUHFjV2hoLThVbE4wNFo5a2FGdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFiN2YwOGViNzc2ZTFmODIyZjAwY2EwMTIyZDE2ZjI2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDYwMjYsImF0X2hhc2giOiJIeUVMamtlSUU2LU1lOHd3Mlg5U0FRIn0.nhjJj70_YZRlrN3cjhRk4-JKFoTr8Xtf25Na2LgpT87fPEllTCpKU4rph26ZwY5lK0b1A4isTLm9wVyZ5wLoXbBHO2YvP_yevuJCS3BGaWHETNDMuqbGL0purU-aFxsozpvA--fbWZ0s3neANds3KldwmW2w_aCX7VC2-ty5CWZumScj-e8uQ8FYx4eyecV8BT_MT96pe1wJnJKVe80wplOOTDGVbdYhsGwuA5ifR8-UyJpa087EuhvWuYRkXpKVM3KGSIv8lDM-e7PQ1g_dZtEWw8NUeojfugam5l3AztWZY8XwQ2lBq3BttOXJqdffhYi2F643ha5jJCpgjDupxg', 'expires_at': 1738609651, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606050, 'exp': 1738609650, 'jti': 'ID.YlQNygsu0ax1KGmdQ9d9yQqEPqcWhh-8UlN04Z9kaFw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1b7f08eb776e1f822f00ca0122d16f26', 'preferred_username': 'user1@test.com', 'auth_time': 1738606026, 'at_hash': 'HyELjkeIE6-Me8ww2X9SAQ'}}
[2025-02-03 18:07:31,065] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:07:31,067] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "[32mGET /auth/callback?code=HcWkQOL6qwoSCNlh1PkoXi9PgvTfQZJPIAqiIZ1N1iQ&state=iLjrFckVgN0Kfdy2RckaAiHt1KTZLF HTTP/1.1[0m" 302 -
[2025-02-03 18:07:31,072] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:07:31,072] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:12,858] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:17:12,858] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:12] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:13,703] [DEBUG] [app] : Asignamos nonce a la sesion actual: 147266ef4e50bfc1aab3efc995604b51
[2025-02-03 18:17:13,703] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:17:13,703] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:13] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:17:14,419] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:17:15,502] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:17:15,506] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNBMDNpemgtdDl2Z1FzNGJzR3MyQ1daRkdOUUVoUk9lSDUxRjZfMzl0WnMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA2NTI3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.DIt0ToNlw5s76HQMPxVxCiF9A7u6IzmlDM5_3UBLlZPG8rmBKX7AG12HX3heAQ7z5n7iYlrfgPhk6_HINKk7QDgRkjb8TU_ljRZkyD1rUVnVh27GJgrOuNuLNUC63jePm2EU7cZKLV0JQNeFTZh12PbL48tS-dIhJld8IXh9RS124jmeD82oLSWKPvk1OH5S6f0Wa10IuMVNG2-P5zNgw8fT1bGn17zozwN2-DsjyFnTEQINwvM74_GZxU5orhuiYChQYaaKGhkTpWxzVuuYSLIxX7HphjG95UHv1HDl9aGt7hoVjl4vWMXOWc6TIPiRKlqTREFumw4L6oqyF0_8iQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwianRpIjoiSUQub3hSN2lCcW53UXlhLUtMLW0tR0VTSGtZZnRIanhGUzN1b0czYnBwREMyayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE0NzI2NmVmNGU1MGJmYzFhYWIzZWZjOTk1NjA0YjUxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDY1MjcsImF0X2hhc2giOiI2QjNDMmlZaXRfMmpPYUJGXzJQd0hBIn0.bPPqalb1R26ZoTtdCGdsCkb05xOGlmJ-c7BLa1_CN3JYzV0_7PuhQMazENiLiIMvnaklgmey_w_sPyDCz6s_iRMyRl9okDoM36Xp6-SVjCUK2nGJwKikLSr3its1oIdavKGTZR5PdxaNAfp5F4CtkCFTBX40q1hFoKo0j4vz2qRipZvf_yJKbs365vz_YOsolSRyYdgBZSpK0yJVgtpMSSi_wdTSRJsJ_-xpT-jtNZ0coIXO1Re0ZgzIVm_j-fZpLeS3ZMen5DO18TqLLBuELfggaTa2vOJ6yecWt1xd-ncLrVb_bZ6DiyWQMxNwa7W_nRF3n8Rh2d-Hmc7vLNy2eg', 'expires_at': 1738610235, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606635, 'exp': 1738610235, 'jti': 'ID.oxR7iBqnwQya-KL-m-GESHkYftHjxFS3uoG3bppDC2k', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '147266ef4e50bfc1aab3efc995604b51', 'preferred_username': 'user1@test.com', 'auth_time': 1738606527, 'at_hash': '6B3C2iYit_2jOaBF_2PwHA'}}
[2025-02-03 18:17:15,506] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:17:15,509] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "[32mGET /auth/callback?code=N641OZt9u_AYHarmidF_aCyHEHKxzTEnkqhGFkEKoMU&state=2PThHXCGnd8QVWaqNEmE77FouTGwcP HTTP/1.1[0m" 302 -
[2025-02-03 18:17:15,512] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:17:15,512] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "GET / HTTP/1.1" 200 -
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-10 19:37:38,797] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-10 19:37:38,799] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:13:05,064] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:13:05,065] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:14:02,420] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:14:02,420] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "GET / HTTP/1.1" 200 -
[2025-02-18 16:14:02,469] [ERROR] [app] : ERROR: page not found!
[2025-02-18 16:14:02,469] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 16:14:05,041] [DEBUG] [app] : Asignamos nonce a la sesion actual: a056267269425998f96dd89c9f690994
[2025-02-18 16:14:05,041] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:05,043] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:05,894] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:14:05,896] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:06,620] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:07,624] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:07,628] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:08,557] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:14:08,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhudzhleWp3a2wzSFBsX0RyeWZhRWxocEdwcktrQnRtTUpkRUpQTnliOGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.VhUYyRCwEmDOl9pAicKLXhKKdNGlwFG9y9wzjyvUQ9oXRqPKyIe-TNxsEOu9lh7hLarDryoA-HoJ0CXL9G6h6i3jpEEUrWC_URe90_l2r6CZNcdMZM1czPfuVc_AzjKi7oy9oOqRDJgn_1znDWkedPiX87WHCoppN24K0kY1MrCrjqDrK-h3qnT2tdr3Shu1PeW9735xzAD8Rl-OQ8IlDZOkgcDgAggY0OWLPZ8ZubgLlg4Y50QhL8BY_Hu3e4qCt6NYpL3HpGbUnmQGUyGzSt4dXvTh9mLtWyXiXxFLJX44038mHEyLkid7vaborNMHvN3p-4CSXbjkP2pXVaGsqw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywianRpIjoiSUQuU0lXWU44UXY5WVVjM3kydk83Y3pqN3lxUDlmN3ZIVE1JM1RQSnl3VzYxOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImEwNTYyNjcyNjk0MjU5OThmOTZkZDg5YzlmNjkwOTk0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IklVbE9lbTFJUkw1UGo1c013NlpCMkEifQ.BUZ4jqsKhwIvGKlxZEkK-beOkav5cFfRmwZF_5zWvWscNha-ozfnjDZLn2Rwj-5qAJkh9artiIQsSylk6y6KcJ_-Hp3Gq0Sx-O9XenCtyPYrrrPGvCAck_JSotK-HNRCO_sB33xBsY9Z_mOOwvB9L6cbmg-rbImmjOWKp1YYXeN5_23EbN9ADtR7Y_DNDsXY6V4cquptoQHwVMdmWbipwgqQefs0rNQ33UYT1mRoo--mt6Qgs_aM0lJ_ffO6MdDBj9zVKKzoHxWpLAuvcdQUnzpVQtG9Y6WlYktyK-NImjq7V62WswFUbgAHNSVRJOCdW2rd4YKcpPUpE0VIef05rg', 'expires_at': 1739898847, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895247, 'exp': 1739898847, 'jti': 'ID.SIWYN8Qv9YUc3y2vO7czj7yqP9f7vHTMI3TPJywW618', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a056267269425998f96dd89c9f690994', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'IUlOem1IRL5Pj5sMw6ZB2A'}}
[2025-02-18 16:14:08,570] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:14:50,950] [DEBUG] [app] : Asignamos nonce a la sesion actual: d91f6d1fbb059f3bdd6fd7aa713ef04b
[2025-02-18 16:14:50,950] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:50,951] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:51,561] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:52,568] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:52,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkpOOHZCUU9OQlV0dkN0U0trOTdDTFg5bDJJd2hERmhWZjhieE5POGtHa3MiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.DdG7sJXIv_nxpTaehpp6QX0sUiir8UqzXuYFjru3Zp7-ick1qmn2r3hjNiQ5V9f_ywuq_-e528iu7fMuyZ79LArH3wN788Kbz8r1Jqv0SJ99yRgwpyjEAcXSvLjdTYWYWSTM-SqAWd-0TkpV8IUo5Y-SSHogagbNJFsxcfXLr4atQP0W1blvJQk8nLVu3G5VBQTNbs26bX3YBJbUOJA--CCtQ8S1-fRn2baDlBxKaYaq-zh3LvMiqJySFWW4y0403pl250q3IoW__ro4wbB95ees0wA9Z_iIiu3fiC0dfVHhk-9tVOqF0q_mz1gCKRsvocaFOaA2WHa22LgbRNVqRg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwianRpIjoiSUQuRTFJUGtGOEN5RUFjMHhnSGU4ZHFQQWpuZ1ItemN5WXRyMWJLYXlReVVTZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5MWY2ZDFmYmIwNTlmM2JkZDZmZDdhYTcxM2VmMDRiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IkNwVENLZURoMTYwUmtMTG5Uem5oUVEifQ.kaszUMUpGXKRolv3WoL447Howq4bUOUTNobD3LKoC1rE_gf0sQiOI5TRcWFDht1kgpCrP0feh04PXohmWSDMKIsQUhglxK8gsjctX_nqWWQlI4XsGxmJ2MDU6h5OPFA9rRyWSFC854HuzhYjByCtegrK1v_mLNCcK8U66lyzOc09eQQepRs1ROjKKLxkc9uaq-fOKwSEu4UllSEJX40oBM4U_O0QDeEMwbIrMFVdUmmKiBVfsxXhL7sTCSuBqSgueWRZhpAm7cVdY9VsWoTuCN_ykWqKIBxpGqZPGtqBV24nvisIeb25lfXXn-4KBPtwQg0bTlzB4UMnqHG8cz1UEQ', 'expires_at': 1739898892, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895292, 'exp': 1739898892, 'jti': 'ID.E1IPkF8CyEAc0xgHe8dqPAjngR-zcyYtr1bKayQyUSg', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd91f6d1fbb059f3bdd6fd7aa713ef04b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'CpTCKeDh160RkLLnTznhQQ'}}
[2025-02-18 16:14:52,569] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:16:21,940] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:16:21,968] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:16:21] "[35m[1mGET /auth/callback?code=xgyjv1eFSMYrVezyl7YpM7Sxon6Ba6WQs3ZWzcywckc&state=03orraJbheoWeSqaEHNG0u8LOXcyi7 HTTP/1.1[0m" 500 -
[2025-02-18 16:17:06,993] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:17:06,995] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:17:06] "[35m[1mGET /auth/callback?code=8PR22tH5ZTDh_rUsLIDb7S9-0uvCxmF1kY56zzef_KY&state=GsOLibX7Aei9isYBEMXU2DabCmuyU0 HTTP/1.1[0m" 500 -
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:21:30,198] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:30,198] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:30] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:56,025] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:56,025] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:56] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:57,651] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf7ccc85472c20d872a3193ff3078b15
[2025-02-18 16:21:57,651] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:21:57,652] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:21:58,441] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:21:58,443] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:21:59,613] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:00,567] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:22:00,568] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:01,464] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:22:01,470] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmRUTm8yVWRZcWVRem1HNUJub2V2TXhtcTBqVFIzNVBrMllxTTdzZFFncE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.higEJV7I7jDzwOOzKItiGaZ3nSzWUJwSSiufAuUQa4tZqsyyOcwPxb3WvQDhRcqq7vdqjvL4wNr9SabDOGVYXaXpHvOc_E0qpsHoeXm813V3h28RObjl3juyDq0h5wkDEO7ozRPOnNYCS3W9tYkMGTtJV7glNxUketBCblzMLZe1-o9Qi2nazgzE-PdEgNqwdrlZ-UwopvFXLa2uontUdeQd1xYZdn-Kj4fM5qlg3X-NnISluoFkFxTaOaqNXcZmhBQSojapq9pfbctCR0G24A0Tm77ZspenlmXjCQOiSMBHxJqjE0WiRjOFP4lse6qbYHzz_bYWs_e-E6OlxLHo0A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwianRpIjoiSUQuQlducEdxRkxYUDFZeXE2eWxUc1hFTnVlczBaUkphTDk4T0JoendxeVZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmN2NjYzg1NDcyYzIwZDg3MmEzMTkzZmYzMDc4YjE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6Ik1zUk5GQjZqNk1CRnBBdVlmVjBwQWcifQ.HmxHHe3RNAonil3-TSMZEQBQSZKK_rjNy_T6GRAPsNv2jtY7Qxx7VUtcij5yC_vuh70wZE7nOnpZ2aGVYFQPebti0GG6I58FaWLHDqgt882QfYg2raExmiw1SF3VeyoEHPK6VBKmsw-UuyPP67mWAXlH6OvVnnHR3MePb1W0wkbCMhYHjeJf7pHH25mU7GMUk1rVQwZw9UAgvjBiksOiGWWpsBUYSmURqOB4PGt-sqWfQ91LnWrwOd0-Q9xUNnqT0uQZF8c9LwEq22-yVi1W67Rg2lvNoQgltf7EKx3UUF84WhbYLpBEtITmM7gYFHezi_B5AIZaIVP0WuJe8eRUyQ', 'expires_at': 1739899320, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895720, 'exp': 1739899320, 'jti': 'ID.BWnpGqFLXP1Yyq6ylTsXENues0ZRJaL98OBhzwqyVYE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf7ccc85472c20d872a3193ff3078b15', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'MsRNFB6j6MBFpAuYfV0pAg'}}
[2025-02-18 16:22:01,471] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:23:46,693] [INFO] [app] : Token de la sesion: None
[2025-02-18 16:23:46,693] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-18 16:23:46,693] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:23:46] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 16:24:17,073] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:24:17,080] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:17] "[35m[1mGET /auth/callback?code=6jl98Ng2_WHuw3nM3Nx5wTA3PcNGqaoqCsbZV2I0Ndc&state=AHmhCuccUSA0VpAuuy0g7g4l8wCee9 HTTP/1.1[0m" 500 -
[2025-02-18 16:24:54,087] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:24:54,087] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:54] "GET / HTTP/1.1" 200 -
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:32:28,038] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:32:28,038] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:28] "GET / HTTP/1.1" 200 -
[2025-02-18 16:32:28,637] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0109e1e4edf4bf5514c1d7e3eac5e0ff
[2025-02-18 16:32:28,638] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:32:28,639] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:29,449] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:32:29,454] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:32:30,601] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:31,635] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:32:31,638] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:32,597] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:32:32,606] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJvYm5QUmpaU0pRUnJKVU5XNVZFb1p5UGFiNWFvSENHZ2MtcmY2aXZXWGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM5ODk1ODgwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.OAeur4pcrKgcc8qTenpVSVDmfzS903P6MZOZ5JdoWq2P0eo8ertiawH0WVfDUy8Vi2OIaLzhRdIYoZUBI0aqbvg5OsFqljdrtvdDz5TluadCEdfnPb7iZUdTHOJZcd6jPH6Mv2z02P3X2pywb06OEA3WP_Z_z_OfWlqshw-5jFjH65Rf3QebczwrUPBv2SXZsUR-O8ay5-bF2MdfaLxcOB30v4ILtTi0qfsHX5PZo12I-ZMP49u6NSdgOevbLzyC96qmHyKMR5SLhHtRB0dlFJW1TyeEek0TW3ibHVAy2cClqNbT0h7YSRmtdqr3UwKHrsuc86UfQW3q4jAYzld6VQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwianRpIjoiSUQucnZIdU94Ni15b3lXdkhhTUE1ZU1JelJCdHN2bjk3UkpGNkxKU0ltVVRKQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAxMDllMWU0ZWRmNGJmNTUxNGMxZDdlM2VhYzVlMGZmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTg4MCwiYXRfaGFzaCI6ImVRbmN3Z0ZzZWJmdk5MME5ZNXlDbVEifQ.TyPgiH4uLiSsUlfMPnUuKTjUMFmJ0E1sOZlIk8FzqtJpqh47GU8Yw5EWF4JVMVMvPGUHkKJEIHkJghqwfbax8-tRolKU1Se51ZtlBX2alayzuReuM_tCcV2DvLDpiOHS3IIZJNOrBiidrlxKK3bkBPoPmgckz79oWgoy-i6xy0SX1CtcmTAmf0jjsG5moQHic4Xk99fFKXq7tXATxGJz_HumjFaTzIKoYdfbd5OwA3DgqkCMfxO4y-48eBNJdd6zj9yj7lq03KjL4wISL_marptZcW5Dt6YbbECPkt2F3nTEtoU4hYkPMtFqsreqw9osCVmrdvEa39LHulRNgNCbRA', 'expires_at': 1739899951, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739896351, 'exp': 1739899951, 'jti': 'ID.rvHuOx6-yoyWvHaMA5eMIzRBtsvn97RJF6LJSImUTJA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0109e1e4edf4bf5514c1d7e3eac5e0ff', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895880, 'at_hash': 'eQncwgFsebfvNL0NY5yCmQ'}}
[2025-02-18 16:32:32,607] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,652] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,653] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "[32mGET /auth/callback?code=qqzq5FsKeZVULLmbqdARkY_xVdYAsbWPN6tC8R5YkR8&state=UiSwfPP9aRrXUIhQXNi0H4Hn74OPP3 HTTP/1.1[0m" 302 -
[2025-02-18 16:32:32,655] [INFO] [app] : Usuario autenticado.
[2025-02-18 16:32:32,656] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "GET / HTTP/1.1" 200 -
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:19:21,573] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://127.0.0.1:5000
[2025-02-18 17:19:21,574] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:21:01,167] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:01,169] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:01,204] [ERROR] [app] : ERROR: page not found!
[2025-02-18 17:21:01,204] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 17:21:02,659] [DEBUG] [app] : Asignamos nonce a la sesion actual: 38c2da4fa2deaab7feec85ac19f8ccce
[2025-02-18 17:21:02,659] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:21:02,660] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:03,532] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:21:03,537] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:03] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:21:27,228] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:28,243] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:21:28,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:29,216] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:21:29,227] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFFMENkN1Z3ektfMzAxQU5FSDVtc3ZhdnZZYktsSi04U0p1SzlRYlAxMVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk5Mjg2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.NZzgerINvSg77CmuN7m43IqwPRscpmqFpkguQoMUV4cUpQiY7VZUtwNujtQvzfS6pQBCoK1gkoYJWSI705TlLfIrLwqkXzxvPlojc_jdVJv1asOA8ZdKz4qcYY-MSOKjdzkkMKKGKhO6jEvQUQqfHu0lBe7v9sS9LOPrGvJLtkgsTDCdwjf7kmR14JS6eSWvkTYEe63UBryF660VzVGKeFYdqCZbkqFqVGqrBZyVqqtW7Eqp1hLMN3bIT3ufCxwK_68SDNT8rfpJDbLowkcGDgl0fIZvwrkQMHBEb4mnHYCGYH-peddCE_Y9JIBpEu-DHZPT7icWPJQg7XiMZUiXiw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg', 'expires_at': 1739902888, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739899288, 'exp': 1739902888, 'jti': 'ID.5zLbJ4iIrqQNuhnTY6l2ZzVXs5QJQYgAdLLjCeOkXCo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '38c2da4fa2deaab7feec85ac19f8ccce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739899286, 'at_hash': 'ucU1MkeFD_4kC4Sz3Sfewg'}}
[2025-02-18 17:21:29,227] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,253] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,254] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "[32mGET /auth/callback?code=CBICkKZ3FQdW-_PbgRVdIHbyAA2v0M2x9YTPKCKvosM&state=u42qysWYaDgqmBTnJe4kVlILhAL3C5 HTTP/1.1[0m" 302 -
[2025-02-18 17:21:29,262] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:21:29,262] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:31,547] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,547] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,548] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:21:31,948] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:31,948] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "GET / HTTP/1.1" 200 -
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:35:07,562] [INFO] [app] : your_secret_key
[2025-02-18 17:35:07,562] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:35:07,563] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:07] "GET / HTTP/1.1" 200 -
[2025-02-18 17:35:10,734] [DEBUG] [app] : Asignamos nonce a la sesion actual: 8cf61c81af9526f1decb292a9b2f03fb
[2025-02-18 17:35:10,734] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:35:10,735] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:35:11,582] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:35:11,586] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:37:13,234] [INFO] [app] : cRXjsF7Uy7FajBWkKQRaM30/pWrDudWG+S5fo1rukCY=
[2025-02-18 17:37:13,234] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:37:13,235] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:37:13] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:39:37,735] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:39:37,736] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:37] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:46,622] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5dc1b71f59c7d01735e94f7e195f9a61
[2025-02-18 17:39:46,622] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:39:46,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:39:47,485] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:39:47,490] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:40:07,790] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:08,793] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:40:08,795] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:09,719] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:40:09,726] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNiWUNmeGtaLTFXSDNQZFRISUpGcTJXV1dqS0xQNXJSdVJXVEdyZThTS1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5OTAwNDA3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.QNpOtzBcyF3CWR35LQaCaZEFoBYDyUK57nbAQ28gcyJzj40GOfSU-OSIfRiuvF9cljR3OLdK0t_azBV6E_m7i-A07iK-jItEIxsdHFpRm9-ce_R-rdCq_HC5I6zYmpEivu7pusLApEDPa3wn82kFYXK_740rA0S2jhcgcHflNzMCfAJ-1KFkOq4RvWK5F5Csi4mmueQLAEAnwQV3yiDKkbr46mkuIIdeUdhxAUV2T17FpIzm_wIoFcEX3MKfnrVFkJGnl8q1uV46eePK3uPR5O0GUcVsEK5MGiXkKX7-IPIy-80J6YcyE52LVh273gQylndGD-eh1MF44vCmaBmWoA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ', 'expires_at': 1739904008, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739900408, 'exp': 1739904008, 'jti': 'ID.oTh1vKXB3YsFflA8FOKrTvMpZ-PgbA5jGlOCiJkFRnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5dc1b71f59c7d01735e94f7e195f9a61', 'preferred_username': 'user1@test.com', 'auth_time': 1739900407, 'at_hash': 'fUT5Zn1DJOYwrfn0Uve6YA'}}
[2025-02-18 17:40:09,726] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-18 17:40:09,739] [INFO] [app] : User found in db: user1@test.com
[2025-02-18 17:40:09,740] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "[32mGET /auth/callback?code=BdVOz7HwoteNx-Fl2ijJh_gNdUtx4a8X2sy_c-fCWdU&state=N4uelDffcL6e5EH1L9UZ63VcP9R1nJ HTTP/1.1[0m" 302 -
[2025-02-18 17:40:09,743] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:40:09,744] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "GET / HTTP/1.1" 200 -
[2025-02-18 17:40:16,676] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,676] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,677] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:16] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:40:17,282] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:40:17,282] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:17] "GET / HTTP/1.1" 200 -
