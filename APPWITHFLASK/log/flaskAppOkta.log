2025-01-30 17:15:57,687 INFO werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
2025-01-30 17:15:57,687 INFO werkzeug : [33mPress CTRL+C to quit[0m
2025-01-30 17:16:10,683 INFO app : Usuario autenticado.
2025-01-30 17:16:10,684 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:10] "GET / HTTP/1.1" 200 -
2025-01-30 17:16:17,672 INFO app : Usuario no autenticado.
2025-01-30 17:16:17,673 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:17] "GET / HTTP/1.1" 200 -
2025-01-30 17:16:19,160 DEBUG app : Asignamos nonce a la sesion actual: 33fd4fab1e057b208c2261369118c7fb
2025-01-30 17:16:19,161 INFO app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
2025-01-30 17:16:19,161 DEBUG urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
2025-01-30 17:16:20,107 DEBUG urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
2025-01-30 17:16:20,108 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:20] "[32mGET /login HTTP/1.1[0m" 302 -
2025-01-30 17:16:44,882 DEBUG urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
2025-01-30 17:16:45,951 DEBUG urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
2025-01-30 17:16:45,952 DEBUG urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
2025-01-30 17:16:46,751 DEBUG urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
2025-01-30 17:16:46,754 INFO app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULld2R05uUzBxakt3Z2ZqUTF4czF6Tk1SNC1vb1F2M2czbDdJam9HLWpmWkkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3MzgyNTc0MDUsImV4cCI6MTczODI2MTAwNSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4MjU3NDA0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.XzR5jSN8UIaMSa-UM_dFS6VgRhLf8uFMjxrvwPkRKUC69OfxZE73peq9leNnNwQSd7kHqNKeQ4TUqabPPp9iXk-w1K1nWG1e5e4g9wo2y6AveQ61pa8kdPaG4Vxnvod-JpFOhTOXAXkAlENz0Sul09WnpkLfCtVyV0UeYlr_jvM_tjFN_V52PXHA-HGNPq-2bczc2xDT-T7tBXUArfE6HBNLBWapo6IE75qHPsS4PWk8f7H7XE2jNGmvyKMmckMcOHCURa9YgU6pugBz_VG6bwoEv0vRg2u5sm1_bZk8dJ8-DtowVyIviGeAsbBsTCMrTF0NstHwO-sckamy-Be70w', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3MzgyNTc0MDUsImV4cCI6MTczODI2MTAwNSwianRpIjoiSUQucFhyOHFaNlh3VVA5Qmt4Zm9oOFNOSFUtV190ZHJZa2lKbWtxM1llRmZPdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZmQ0ZmFiMWUwNTdiMjA4YzIyNjEzNjkxMThjN2ZiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODI1NzQwNCwiYXRfaGFzaCI6ImpSNWtXWlQ2dlJ3a2FjUjJMSENWN1EifQ.M8RCO6i15j52QacNgPct9wbTZqnIW2ER5wqZL7FaFvqgVp43ef7naGUWe1WchK-BU2kjL_GfIqcB-OFaYZt-SQXegYCg8t4g5bo3VsJJNOgqVqjljrpCk2pwAx0GH9MY7K1Msmg51vAWW44EaF18CvYeLegUmpXD1-M76RaU_H_Bi9bHlAAnWLfxgMPqvfnUa03xZwWi7YmKAZ2FsRK0EqiU0LKJJRaGaKup1vBmSDTFec-MY8PTKraR1P5BuXGGRbO5U7sRDQuwue7ysJ3DH1FNMJEPXq0BeyO3QB8Jksxemda4w_nMG0oaJIPom3f9mwY2fpykNckKqMrw8CuqJQ', 'expires_at': 1738261005, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738257405, 'exp': 1738261005, 'jti': 'ID.pXr8qZ6XwUP9Bkxfoh8SNHU-W_tdrYkiJmkq3YeFfOw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '33fd4fab1e057b208c2261369118c7fb', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738257404, 'at_hash': 'jR5kWZT6vRwkacR2LHCV7Q'}}
2025-01-30 17:16:46,754 INFO app : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
2025-01-30 17:16:46,765 INFO app : User Pablo Franco no guardado en db
2025-01-30 17:16:46,767 INFO app : User Pablo Franco guardado en db
2025-01-30 17:16:46,768 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:46] "[32mGET /auth/callback?code=Jp89ewf2SZSGaf_u9WnmJVk4SqVyzh8dkcKhBUmny7E&state=x1olH7zepxv5C6BxrmMdu74chz7wU5 HTTP/1.1[0m" 302 -
2025-01-30 17:16:46,771 INFO app : Usuario autenticado.
2025-01-30 17:16:46,771 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:46] "GET / HTTP/1.1" 200 -
2025-01-30 17:16:50,356 INFO app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3MzgyNTc0MDUsImV4cCI6MTczODI2MTAwNSwianRpIjoiSUQucFhyOHFaNlh3VVA5Qmt4Zm9oOFNOSFUtV190ZHJZa2lKbWtxM1llRmZPdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZmQ0ZmFiMWUwNTdiMjA4YzIyNjEzNjkxMThjN2ZiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODI1NzQwNCwiYXRfaGFzaCI6ImpSNWtXWlQ2dlJ3a2FjUjJMSENWN1EifQ.M8RCO6i15j52QacNgPct9wbTZqnIW2ER5wqZL7FaFvqgVp43ef7naGUWe1WchK-BU2kjL_GfIqcB-OFaYZt-SQXegYCg8t4g5bo3VsJJNOgqVqjljrpCk2pwAx0GH9MY7K1Msmg51vAWW44EaF18CvYeLegUmpXD1-M76RaU_H_Bi9bHlAAnWLfxgMPqvfnUa03xZwWi7YmKAZ2FsRK0EqiU0LKJJRaGaKup1vBmSDTFec-MY8PTKraR1P5BuXGGRbO5U7sRDQuwue7ysJ3DH1FNMJEPXq0BeyO3QB8Jksxemda4w_nMG0oaJIPom3f9mwY2fpykNckKqMrw8CuqJQ
2025-01-30 17:16:50,356 INFO app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3MzgyNTc0MDUsImV4cCI6MTczODI2MTAwNSwianRpIjoiSUQucFhyOHFaNlh3VVA5Qmt4Zm9oOFNOSFUtV190ZHJZa2lKbWtxM1llRmZPdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZmQ0ZmFiMWUwNTdiMjA4YzIyNjEzNjkxMThjN2ZiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODI1NzQwNCwiYXRfaGFzaCI6ImpSNWtXWlQ2dlJ3a2FjUjJMSENWN1EifQ.M8RCO6i15j52QacNgPct9wbTZqnIW2ER5wqZL7FaFvqgVp43ef7naGUWe1WchK-BU2kjL_GfIqcB-OFaYZt-SQXegYCg8t4g5bo3VsJJNOgqVqjljrpCk2pwAx0GH9MY7K1Msmg51vAWW44EaF18CvYeLegUmpXD1-M76RaU_H_Bi9bHlAAnWLfxgMPqvfnUa03xZwWi7YmKAZ2FsRK0EqiU0LKJJRaGaKup1vBmSDTFec-MY8PTKraR1P5BuXGGRbO5U7sRDQuwue7ysJ3DH1FNMJEPXq0BeyO3QB8Jksxemda4w_nMG0oaJIPom3f9mwY2fpykNckKqMrw8CuqJQ
2025-01-30 17:16:50,356 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:50] "[32mGET /logout HTTP/1.1[0m" 302 -
2025-01-30 17:16:51,084 INFO app : Usuario no autenticado.
2025-01-30 17:16:51,084 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:51] "GET / HTTP/1.1" 200 -
2025-01-30 17:16:52,478 DEBUG app : Asignamos nonce a la sesion actual: 9225e49d114a1f74c2601b427600a997
2025-01-30 17:16:52,478 INFO app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
2025-01-30 17:16:52,479 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:16:52] "[32mGET /login HTTP/1.1[0m" 302 -
2025-01-30 17:17:06,910 DEBUG urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
2025-01-30 17:17:07,673 DEBUG urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
2025-01-30 17:17:07,675 INFO app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZYN0NBbldZV2NRM0lZMlc5cXJlSmZJbWxUVzR1OEV0bVA2RE5FdUxsY2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3MzgyNTc0MjcsImV4cCI6MTczODI2MTAyNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4MjU3NDI2LCJzdWIiOiJ1c2VyMkB0ZXN0LmNvbSJ9.r_eoDyFCRAMJYBUGOoMd4xlXy-fILeDjh8wiYL2qflNPH_xxGZk9IWSZfvdCuwF_LyaV2zKte7KVKZGe5N4Z3hY6XhAZ7NeDnd28b6k-qkb_Q_a5MnRVn0Og7tKG-8UGMMLTEfoXmPTm7nD3ETn-Twq_No-3gtQVd5CSf47ubtSWofuZ-2exlbn3EgfupWeFNkxxDLLvPiYx0UVrXHXUo-lLifkADrtO_ph6Z5GVj5gziWa42tGcY6h64xv-6yD9oeQvv-pM4CP_zcFsn6YoP8KMRUL3Z_9gIkfKq_xFRrZOZPQeOChYoDe4aHOR7JHYnEPK-i-pQPnyaibCaUANDA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsIm5hbWUiOiJ1c2VyMiB1c2VyMiIsImVtYWlsIjoidXNlcjJAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3MzgyNTc0MjcsImV4cCI6MTczODI2MTAyNywianRpIjoiSUQuYkozQV9BeHZucGhtQzc5bnFKUURkMGdsRnl2Z3ZsRFlxTVNWR0luUmlwUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkyMjVlNDlkMTE0YTFmNzRjMjYwMWI0Mjc2MDBhOTk3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3MzgyNTc0MjYsImF0X2hhc2giOiJQMzdHSzZmaGQ5STBYaHRiQU1WSlF3In0.h90WBPFc0MrsVmXn26BTjPq0-H0tXvjpn_zAenBJxENIU1Ruw0qR6F5RX8Oh2CrAXQZ3ILsXEP-dRXAUK14cJX98g5ywGufCtTBg3xeZPHl521FsFkT0Xng3dz4qwaTNBJQliV6qQAbu9RioW9ZbmwLopuRnGlgHl73dV2tanja3AfzffVYBR_FKSL53jMDQpgwG0iLWwf0tYzfE5hIPcxk5g3Mk-wpQkS3wlzjeRWzzIXEqExaa571WpHRXL6vcCy01ea9dQhToYWmQMqQa5vGvNFWuhlAAAtg91mNcDIymrI-BSm_ji00ixeTT3RtWH0XWk90gLDp5dNkVWenVXA', 'expires_at': 1738261027, 'userinfo': {'sub': '00umy3zk56eyfRvLl5d7', 'name': 'user2 user2', 'email': 'user2@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738257427, 'exp': 1738261027, 'jti': 'ID.bJ3A_AxvnphmC79nqJQDd0glFyvgvlDYqMSVGInRipQ', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9225e49d114a1f74c2601b427600a997', 'preferred_username': 'user2@test.com', 'auth_time': 1738257426, 'at_hash': 'P37GK6fhd9I0XhtbAMVJQw'}}
2025-01-30 17:17:07,675 INFO app : Sesion info user: user2 user2, email: user2@test.com
2025-01-30 17:17:07,677 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:17:07] "[32mGET /auth/callback?code=14V0-UMZIVijlKXvnCxFtKMITtNDnXhZST-1PA9kyPM&state=XWF7dTKWYcBUjUfoebmeAGkggcCYpG HTTP/1.1[0m" 302 -
2025-01-30 17:17:07,681 INFO app : Usuario autenticado.
2025-01-30 17:17:07,681 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:17:07] "GET / HTTP/1.1" 200 -
2025-01-30 17:17:12,584 ERROR app : ERROR: page not found!
2025-01-30 17:17:12,584 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:17:12] "[33mGET /noexisteestepath HTTP/1.1[0m" 404 -
2025-01-30 17:17:16,219 INFO app : Usuario autenticado.
2025-01-30 17:17:16,219 INFO werkzeug : 192.168.1.41 - - [30/Jan/2025 17:17:16] "GET / HTTP/1.1" 200 -
