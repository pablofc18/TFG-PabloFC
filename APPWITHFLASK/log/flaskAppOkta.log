[2025-02-01 11:45:06,612] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:45:06,613] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:45:22,856] [INFO] app : Usuario no autenticado.
[2025-02-01 11:45:22,856] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:22] "GET / HTTP/1.1" 200 -
[2025-02-01 11:45:31,036] [ERROR] app : ERROR: page not found!
[2025-02-01 11:45:31,037] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:45:40,525] [DEBUG] app : Asignamos nonce a la sesion actual: 2103b82fccbd2dd5c1e29fc39148e3cb
[2025-02-01 11:45:40,525] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:45:40,527] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:41,401] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:45:41,405] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:45:58,695] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:59,761] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:45:59,763] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:46:00,722] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:46:00,726] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULklXd2dKMnlQX0VaNXFlcUQxakhZZll4NGM3M2tNQnNmNnVZZExKdDRKOHMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.e8U6mKVE6D667P9C8OXCOUIVpOa0JsC48gIL0nodCA2Prd_1ggpa3FcL4KosNtN52JPfcYsdumr5Rly7HwVAsNCL3ozscL0dJaEoRk3wrR6VLQFSyYIZbT_tv54rapczoZq-C-rFAEzeOcDKZ4XYBgN8a0oKlynlBPdY1fmwb4h4zV-WhfVrRRKTeuCmz9GZJ7zL3bCV7YVucK4gPu4PjB3mImScE9MYWsaCaDBM0FVUq7L0S_BjmFCh6jPlRtM6617TZzTiKv7-dtcoVjdC115tmwMN6hRPVUwrplYBmnjaKHaR5LNKdvUdgZzRc6qADCvfrK_KbctFfrH7qoq0XQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwianRpIjoiSUQuaktpb3B0Z2ZKMjlmZDJNTnhzX3VxYVpnQU9kS19jc3lyaWFRdWxFNmhpMCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxMDNiODJmY2NiZDJkZDVjMWUyOWZjMzkxNDhlM2NiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJuZ3Y1X0NOOUZzRTZvQjZpaTk0N3dRIn0.a5euYnBE78ikm_2vhHlrn_Ujn2lQiks3QuHkocks1Lp5xVQrCXXmlwVc7zDPSi1eKgdzYsHRDHvZDC_wbiJ-06fuI9_RzwTq_Pj-gXGtj6Q9IKdBetDKllZhfbJ5wlR1EYYdXJP6aZDE2MgrxWdKbbInJ8KjrRCXoyUZhgar1TJuCZ2_PeXY3ZlVQUda1w7W0NzPMvJVA3El3KM7PFc_e0saZajWRuIybEDyxnPmsW7wVzlEsmId0kwWZztXWz-9gAGRjr0O8Ri4tcIdTrMmB0n_dwz4GM0bLqfNYxRH-eFRyw7LmcLbjsE1ypUo3f465w1wkh1lwhgBPglp-tluAA', 'expires_at': 1738413959, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410359, 'exp': 1738413959, 'jti': 'ID.jKioptgfJ29fd2MNxs_uqaZgAOdK_csyriaQulE6hi0', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2103b82fccbd2dd5c1e29fc39148e3cb', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'ngv5_CN9FsE6oB6ii947wQ'}}
[2025-02-01 11:46:00,730] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:46:54,748] [INFO] app : Usuario no autenticado.
[2025-02-01 11:46:54,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:46:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:01,169] [DEBUG] app : Asignamos nonce a la sesion actual: 4986aea5241d7743d3502cb4cc230ea2
[2025-02-01 11:47:01,169] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:01,171] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:02,327] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:03,263] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:03,268] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJOak5OOUkwdTZBRkV5RlRJR2VLQTVnQk1TMXpkb1BLZ3BjaHZPeXpUUXMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.jY2WnkD02gwZqSFCu4fpXRJjABXFdVJAauEOfXeq5XqLiE7BYaQzyn609GoLj5TeTez5-NX7iZvo56SQhwBrh__-SvPoyaFk5UO7Ewr8II475O3s9yQPtYvZyr34ef-l9KukmJ6QbrRoXyXBPL17b6bpHZJ0LgAm0eqDtGMotDQXsBgaVba0vrjaNTEKY_OJ24_iueTZNpeZ0zVNFOcqO1YkU3dWq844ThxResqJrrXxVHjTxvUDEg1Udy8vlDqFaTY6g_9Smgc9mXIyFxR5pWpUfxc58AmZHEgvN6FQ8hhiNrUlOfZohEsIXfc9OFPPjVHIGwSvSl_oKj_wH8go_Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywianRpIjoiSUQudzBGUnBPc2hic1pabW9ZbEtnZ1dPTzZta294NExCR3I5eVhub09JQkVLayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ODZhZWE1MjQxZDc3NDNkMzUwMmNiNGNjMjMwZWEyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJJVjBQaG91TUk1NUxqN1I4a2FXTGRRIn0.Pg52ngpsycnmkgNmrj8rQOo4paACky_VEbWO62Py30HwLpBxRhdVvhZIUFMSHy1mfbjY5jfO5nr-dwBQEHKqIsmRr9GHnljy2cBva6qAtmFusJ5Y8x3AUXQ63LPE9ZXLEaeD_hQbZFARrxPH9lie0w0X_okFbb2YW1oc0uOSJd64z6Ils1mcUPESr84pgIG0QMXPJrlaqO8aO00gqChto7ARIqAWfm5K6c2q0OX_y2BZbQcz8kRPxSZjwiMdmyaHp4oUF6E-CvOC1x2GUYS9I8GtANpS1kDuT3AoDa_k3lCggHst1WNvPdQEWDaKiCGAgdOCGlyWNY6CPSPYUMBWzg', 'expires_at': 1738414023, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410423, 'exp': 1738414023, 'jti': 'ID.w0FRpOshbsZZmoYlKggWOO6mkox4LBGr9yXnoOIBEKk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4986aea5241d7743d3502cb4cc230ea2', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'IV0PhouMI55Lj7R8kaWLdQ'}}
[2025-02-01 11:47:03,276] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:10,478] [INFO] app : Token de la sesion: None
[2025-02-01 11:47:10,479] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:47:10,480] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:10] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:47:20,062] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:20,063] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:22,936] [DEBUG] app : Asignamos nonce a la sesion actual: 67aefeb51b213d7d0e0ab8aa891db82d
[2025-02-01 11:47:22,937] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:22,938] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:23,664] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:24,635] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:24,641] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJVbFc1clVjLUo2YUcwbzd3bnBGQTBuX2ZEUFNqdUNDZEVhSGRaUWo0MWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.PJ85y-RAhDLOMawa6GoP0dBzNYkMsqRVS_VEFjWRSjjmvHevNIjL1ONyH4qs3UszOeIFhABqI2_mX0qqy8NYq_okt-pR-ldsFy0Djs6j7B_70pl9YLuYBrlwmmWlfAb5nO_o5L7DjF_RXgAedbwFwUWn0j1AU3sDzjDfGdulPo-w2py66ri5UPkj3f172A_aTYHboGjjE9RkxEmdXt5-dQPQqliarKoqnklrYTpOnw_AZc3IgcbfF2lCm1Wqnsr5SiO3VVxkVVGkUwwfKxOCZdp-Y08tqUWNNAnlNmRRJEP3i34x3T0H3-ZKTEAoNg-Kv49U5ds_eC9TYSb1iQ9eyQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwianRpIjoiSUQuT3JSeVRNSGpfcnJ1dWlyU0s5M2gyYlRZLWlsaUd6WXNfcll6aDRVeDZDYyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjY3YWVmZWI1MWIyMTNkN2QwZTBhYjhhYTg5MWRiODJkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiI5V3NudldQYWd6SnMteWxldFVJODF3In0.VB9-n2cHECwHHpB4SyqPwbtz4vZZRKYyHGJHRG5jMv0TnRvsv3fERqNlIbn8urgabHN3Ak9suQPLc_Xx6tnplb32FlAaa9RFymwpMRvcfpyi8KAueKNz8rE8aZrtOBT5Nkx_JBJADygUfFa3Fw2EQDAXAh5GsosG3aBDbeIM5hqi9SX36ql18vzz9eaFhnJhvwizbOAnKCqjNa2T6PHhrRoOyz5Lomxi5c2S9hTNgMx5DDtyfVgLueUP26D8-sXNOZIa_5Q2Z3Y2qHRoR5EhAWeEawalpraBI75JRFXuNgJbULf-QlgoTiuLmvrAsKZUvSxUITnIdJQL_4exLkeafw', 'expires_at': 1738414044, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410444, 'exp': 1738414044, 'jti': 'ID.OrRyTMHj_rruuirSK93h2bTY-iliGzYs_rYzh4Ux6Cc', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '67aefeb51b213d7d0e0ab8aa891db82d', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': '9WsnvWPagzJs-yletUI81w'}}
[2025-02-01 11:47:24,654] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:32,312] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:32,313] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:32] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:37,394] [DEBUG] app : Asignamos nonce a la sesion actual: 1c4dea3518ff67a50ffa41422e4b5830
[2025-02-01 11:47:37,395] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:37,397] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:37] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:49,345] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:50,321] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:50,322] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJBQWVVVHJzMDEzdC10YUJyTUh4VWpFVjBNYkdGWWVnZVFUYVdNLUxYZmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwNDY4LCJzdWIiOiJ1c2VyMkB0ZXN0LmNvbSJ9.igVi98-qYvBWIXyla2mwMYn8iIlZKFj_s0T6TZeiYpOVIiaaGEHpAGdPbCnXMMNNSMeNtqugR8uejslZjD5IV3IbOv8AAhMtNpQ-puMbXsEUSa3BTl97V8Lr_xn-cJnq3GMnApSTea7GkQuFOKV72Z669s_CLB7ZoM1sCZWiBVNda64eLhP57hvmAyrXE960DJnkI3pGHtleFGuGMCudCuJ8plcplj-5jbipVOYQnzb0e-Oaf8xdxJg1JGpC6qgFfiVo9OP3LnPy880Gb52bjdbQ4uFMVn5FDf-3zu8qbTXS1GSW4nXWJTSYjZWrmqzxdS-kGBHUGpl1zn6jPGHQ5w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsIm5hbWUiOiJ1c2VyMiB1c2VyMiIsImVtYWlsIjoidXNlcjJAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwianRpIjoiSUQuUkVtanVMTUEyaGtFRzVkRlJ4cVc1VURVQ1c1YUpDak1ZVS11eHF3UU90ZyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjNGRlYTM1MThmZjY3YTUwZmZhNDE0MjJlNGI1ODMwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA0NjgsImF0X2hhc2giOiJ2aEF1bHFqd19YLURKMWNlYTZYZlV3In0.XqaCthhe0gu-iTqzcwu1kQzHw3Jc9X6yU3VV8izPnLdl-7tIxVtip-Wc4Vu8H6t8qbINAEfbYgn_De6ziu7qOSit661WTjiF20rIj8acksp9rXb6XoKGnQLqxAE-_pdc-QChkdvZuqj9niHILGOmb9CE77aN8JJlDQxdB1rs8MlO4y06CHfQsQNpRVHNVqcrIRR2wppq93bOJby4QD3qCFZPvrrZWRx4_cLYrmE448jHrPcwNeBIqKY6JUGLEjzaXVVCXKzkiR4UivNCGF_cfMgfWOH15UQPrZEpNcKbSku7bQD1_ba1TALbBfhjZxHFkwOTxuNPiOEd6aWF-Skbbg', 'expires_at': 1738414070, 'userinfo': {'sub': '00umy3zk56eyfRvLl5d7', 'name': 'user2 user2', 'email': 'user2@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410470, 'exp': 1738414070, 'jti': 'ID.REmjuLMA2hkEG5dFRxqW5UDUCW5aJCjMYU-uxqwQOtg', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1c4dea3518ff67a50ffa41422e4b5830', 'preferred_username': 'user2@test.com', 'auth_time': 1738410468, 'at_hash': 'vhAulqjw_X-DJ1cea6XfUw'}}
[2025-02-01 11:47:50,328] [INFO] app : Sesion info user: user2 user2, email: user2@test.com
[2025-02-01 11:48:14,432] [ERROR] app : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 11:48:14,504] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:48:14] "[35m[1mGET /auth/callback?code=jSxk4K6b4YX0lAiHpbFCiE0xijRniNaNzQU9Mb36yVE&state=nYyty9qQpqNmg2ZayVCvWd8nrgtxmh HTTP/1.1[0m" 500 -
[2025-02-01 11:49:06,432] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:49:06,433] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:49:16,881] [INFO] app : Usuario no autenticado.
[2025-02-01 11:49:16,882] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:16] "GET / HTTP/1.1" 200 -
[2025-02-01 11:49:21,673] [ERROR] app : ERROR: page not found!
[2025-02-01 11:49:21,674] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:49:26,844] [DEBUG] app : Asignamos nonce a la sesion actual: faf5c77674ab0a704abc769ae8b1d7c3
[2025-02-01 11:49:26,844] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:49:26,845] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:27,847] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:49:27,849] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:49:56,538] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:57,610] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:49:57,614] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:58,566] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:49:58,569] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJHcGpXMzlaM1VVSUNqREZBWXU3WEpjWjFKb3hYNTdRZ0dDQ2dYSzBCYUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Nsw4TbcwbsoKE4C7cYwxrzVT-4eCnkIyZcs3kzyg2HvJg3G0_gehnheuqL26vQJMvFcBhvknb1bY0cT5BHjmUybK7DzTesusaLYy90CPaCeToOW7HgEAOvNr5pk8JoTFrR4fOAkVqXsk-mxx7wHgoUfKyAalJkuteFLvoUVOMxPXtRXcC1eZmvmucwmzkGafX-5g_WdIgdXRdIPdz1-F36Mf9fJYeeo30LnxCBN3kkqeVEOQaCv-KeXnSSmYBkTXtNrBBIUluK_jI0KqkvHchw8fA2U5UhOnm1UKNNo_XYq6EIPXavEVWMng_ykjZ4ZS8o82EMQIVjUIQW6_Cq0YGQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywianRpIjoiSUQua0t6Q0pxcVZmZFYxdUlRZXNrR2xmYk05OXlpRmVZdU43VXFJWkxOanhOVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjVjNzc2NzRhYjBhNzA0YWJjNzY5YWU4YjFkN2MzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJvUTZEZ0hGSGc3dGJWZkZqdW1KV1FRIn0.TNq_K_U-oLCSvg-29bTVD4TRVWE6roYpkqRduC3_ry-E4QPY-KZfggH5wSJk6cYEWrpikvFC99vNxQxornWJMY1V-h3FR3LlD2oeflTg_86bdkwKh6ZvEv338QT-c_bKXunk7nHDhpk-yKioB4JCThoYrNyoz65PULgJK44JFStFf7HvL_4orBwhJPJV1YA1v5onVl_a3AnI0kDbpM2eNzP-KQwGxMGoMBeyqBMGOMFPDyrXlM8rsIOFR818d765NGukup2vnl0GIk3ZhKhW-B5DDjZIsiMGmO2KK1uX1X1Sw5Lloe31g21A-7hW6s0vmNCXkU6heRxN9kgSGHPhtA', 'expires_at': 1738414197, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410597, 'exp': 1738414197, 'jti': 'ID.kKzCJqqVfdV1uIQeskGlfbM99yiFeYuN7UqIZLNjxNU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf5c77674ab0a704abc769ae8b1d7c3', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'oQ6DgHFHg7tbVfFjumJWQQ'}}
[2025-02-01 11:49:58,569] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:52:33,128] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:52:33,129] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:52:49,320] [INFO] app : Usuario no autenticado.
[2025-02-01 11:52:49,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:52:49] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:04,475] [DEBUG] app : Asignamos nonce a la sesion actual: 9d2d333c8ac1d6da974b0e5f5bd66d8e
[2025-02-01 11:53:04,475] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:04,478] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:05,299] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:53:05,301] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:13,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:14,186] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:14,188] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:15,130] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:53:15,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmxrZ0Utam44WDBKZkx5YV9tcllmc3RZTlozSEF2Sy1oOV9XR2d5SWFmVUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNzkyLCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.otRn4KsrnnwOhMrYEReve7f9IDAt4Q5A0BXPe43UASXJh74kg6P2Bd-ZV8Uvp9QOUG7WpS7tfvywmJPYsxMqtaEzgdmAAA02Vla7_8C1GFBTCRyIL1wm2MFKaXjAKXo0oQvbSmZKu5Q0iGqC2xasJ0UffD4WEd_o5HyX3iw0OuF3pEjLDQuyFI6O3qrjgV9c3eozi3Il1mmzffC9Za-n5RlCAQFU359MqGdfPOZJgF780LDfg98ksiMlloy8iqffX8Agi5zntDnE_LFQNoJnQGUBZuEi_17tD1Mh6X-qQuVZhqFsuqtqM4r-Q-kd1zXpmFeoyKeBvOi8GaQHx0_-hQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ', 'expires_at': 1738414394, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410794, 'exp': 1738414394, 'jti': 'ID.A8zD4ZFEOwYnVaaN_KocVe6J6j6Noq0b3QOJTJ6VdAw', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9d2d333c8ac1d6da974b0e5f5bd66d8e', 'preferred_username': 'user3@test.com', 'auth_time': 1738410792, 'at_hash': '9q3OnXgF90dkLYfgBwXsrQ'}}
[2025-02-01 11:53:15,149] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:53:15,192] [INFO] app : User user3 user3 no guardado en db
[2025-02-01 11:53:15,200] [INFO] app : User user3 user3 guardado en db
[2025-02-01 11:53:15,201] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "[32mGET /auth/callback?code=6bqV1r4qkOnibMH1LZRzpAOYDlp3c6MeUxQWJaPWkr0&state=aUHjEtYZV98YmQcIUk0rQmLwGXLHbv HTTP/1.1[0m" 302 -
[2025-02-01 11:53:15,223] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:15,224] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:19,638] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,642] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,647] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:20,319] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:20,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:22,302] [DEBUG] app : Asignamos nonce a la sesion actual: faf053b6c1ad6145c17c2461e0d19af1
[2025-02-01 11:53:22,303] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:22,304] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:29,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:30,250] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:30,252] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFBNGh5eVNYa19iVmdSYnhiaVR2UmRHRkNKS0pvdkRBdjJsTjJYQV8wSHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.FQ6iigMiIV3WDtLh3phYX-Lqp-cW3DsDmr4YItwvx4X2ZcvmkFTIbKO2EC59VQMcW4tAfHBAB6XfN-rfv8WJ1_DLnjfOxWDr8PyKh6vAjeJawbkj96CZlgLQEvzEYhNnEM9UVTmJzWmSwx8FV-CXRHcKCxXX8H1Rdm7vAEDCXmcjJW4cVzQINzzt46JQp0EX3WpH0u_ofodYVQNWJ8ian7ywkDiVR9JSb_qDXs5rDmuDBDuOU2cJ9Ma9A-ZLblXuKvGFt2R4KjZ5EpPxJRbbCS8arn9Eiz40WMsvsrfb1FK2CRifzGw1s_dFzwgL_G8ihBIP7xKTXYVF2-myBkvEtQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg', 'expires_at': 1738414410, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410810, 'exp': 1738414410, 'jti': 'ID.EpjKBfYKqp7IhBDxbChmU0sLeDlkKnDvHD7-KUB99DQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf053b6c1ad6145c17c2461e0d19af1', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'vFjK6CxFLVYnmr7sKglH5A'}}
[2025-02-01 11:53:30,258] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:30,260] [INFO] app : User user4 user4 no guardado en db
[2025-02-01 11:53:30,268] [INFO] app : User user4 user4 guardado en db
[2025-02-01 11:53:30,269] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "[32mGET /auth/callback?code=r20UH-7GUftSbsozBjV3xbN6yqxGSzRgRoQsQQ0hVlw&state=iuVJLpl1CHeMi9F8Bi6jq8HhfWF64p HTTP/1.1[0m" 302 -
[2025-02-01 11:53:30,290] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:30,292] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:33,469] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,478] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,482] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:33,923] [INFO] app : Token de la sesion: None
[2025-02-01 11:53:33,924] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:53:33,926] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:54,609] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:54,609] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:57,652] [DEBUG] app : Asignamos nonce a la sesion actual: 72246a9b1b1c02879f02c06616ac53c5
[2025-02-01 11:53:57,652] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:57,655] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:58,108] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:59,053] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:59,059] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlVnQU02RXhiZlFORktZTUR4NngxVFFHVEUwOFFoU0VoYmRIcldOMjIwSE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.Q9XCW4qo8VQ98078kF845adrJu1bi3ufrtVWMJSUUpigmqi7rhdfu-Uq290eToNDuh8G1v48WQm4TU-noPB5Zh-4BB7RfmJYtNM3YldknxUHf888bafeCyfaolsTQlTrxuKEwEERmbSBcyhXwtn_OGkpm2cYhECI4F-HaReJQDrCQp-o7-m-n8im7DuVk4UFq1IlF25X18XESUltP21ljnUtnJVFmYkgHnH8qxto3PC_gZUZzBru8KVqG04nj8ulezz7Xvcb1hB0nvnrm9j1G2ih1IB1OW3dDG4nu7irdlh-FhBZDeM3OkyNJ-jw7i7z9GwQq9UOXz0EHg-yJi6u8A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g', 'expires_at': 1738414439, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410838, 'exp': 1738414438, 'jti': 'ID.y2DiwQ2By1GuW4FZ6jyb19h3ugtNwwSxbt7uT2w2gbI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '72246a9b1b1c02879f02c06616ac53c5', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'Fqy01f7yzEzUkl6wwsG4eg'}}
[2025-02-01 11:53:59,072] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:59,077] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "[32mGET /auth/callback?code=gt0e69FdYQ__r9LboSYBM9bhEAEtHiYJ922H0NzotbI&state=NhHwq3fw2I1C8GIc9ReHwxuE3KeoSn HTTP/1.1[0m" 302 -
[2025-02-01 11:53:59,099] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:59,100] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:01,596] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,601] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,604] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:01] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:02,861] [INFO] app : Token de la sesion: None
[2025-02-01 11:54:02,862] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:54:02,865] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:02] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:18,985] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:18,986] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:18] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:21,682] [DEBUG] app : Asignamos nonce a la sesion actual: 2fafc717fb352c0ec1de4c8a298e4c3e
[2025-02-01 11:54:21,682] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:21,684] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:21] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:22,279] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:23,312] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:23,316] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZTcG9VS0ZDVjRYVHNqZnJvYjVHb3hPMnAyMkVIYVZsNmZib1B0aEJaU2ciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.EKZumUCSdzUu344JkWd2GrzHv5zRMlQx-7ONv-3AfldR6ZIBi-boq_ujDxZsN6CwphpdmezmcvQOqO8jSlUWs_u75AxOIhXRoc-CETfD4cXW6qae1On7nAKzGdp3xVVqHiLL1gAZlwsuxAgliDHbTL2J6pTkR65iA994QXp8iyQT0aKEicBfchUUVxLvltOSE1dJnoS-Y3BHZ8ma8KBZj8fF4r6AaUIjVqybEkQTEhP-05kV1yQa-S3mH8FHqdSMwHp9zVG_V_60IxWMeJo9XGs0b6kWFAj6-i1y3kXoVJtnNRTZk0RRptVPRTq3Ztw0_J0Y8fxDTEt0vLYQjqsobA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywianRpIjoiSUQuT2NZdmlnaW5LTTllWE1VVFFGbTRyMTR1QklrRlhfWFgxejZjUktzM3ZTNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjJmYWZjNzE3ZmIzNTJjMGVjMWRlNGM4YTI5OGU0YzNlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJNQVVVZzR3dzdFN3hmY3NiNGRhanBRIn0.VuY7Msg80CWaL83Vgitn-iVwEJXaiBQGY-IOo80NgzrHy5t8UPiJAc1RaKRqMAZuOZdqPRe2nBkyt3nGVUVlABluKNgAF8TfR_3d2E-8LxD_T4OTs6wlOFyRnvCwfoBFdrtm4tuLXDUjINejAdR4V_IzwI7MEm1_8C4AsC3TEh-4nT4rH8Y0p9PigJJrDwoT-hlDxKGbX0cAtrMy6UgFkbQU976ayDMKPIqaIY_PhIwXOhgctbvV8XLoGq4CuPB5yPYGUMfUVFLtbpOhfKS3_v7IeFIXtbs_PzVeQD5UztCS0cXON5i8MRdfuBohCOkbfCpIqreohMNHZyoUkZIFTg', 'expires_at': 1738414463, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410863, 'exp': 1738414463, 'jti': 'ID.OcYviginKM9eXMUTQFm4r14uBIkFX_XX1z6cRKs3vS4', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2fafc717fb352c0ec1de4c8a298e4c3e', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'MAUUg4ww7E7xfcsb4dajpQ'}}
[2025-02-01 11:54:23,324] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:54:23,332] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "[32mGET /auth/callback?code=gx6Pl1yvPOiwdNzXX8_kgHe4lK-Zn-pRUUBAqHZKbJU&state=C1wyLBpPwgeusUvrQEpWIiXmUZtI6z HTTP/1.1[0m" 302 -
[2025-02-01 11:54:23,353] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:23,353] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:33,712] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:33,713] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:33] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:34,596] [DEBUG] app : Asignamos nonce a la sesion actual: d9ead1d94c05187b598f5b1e50d55101
[2025-02-01 11:54:34,597] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:34,599] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:34] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:35,301] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:36,251] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:36,254] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULktyT2ZmM214bFZoVkVsaXM5b1huQVJabzdSaHNDRENwSHJNRUJoN2JqZzQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.ZF-xt7Wg6PNhyGTL9DZHyiX14EtTADGR648w_5iYWlKwmjkNH2jkLUZ8ljs3CNerpXT_5HZS_d04KZqIzlfabe6TLMlvr3zLqq7imR_KPXy0jrScT7WB2hoQYq95erw_5hdvf-TOPdhGHBPyK_EP2mDQl5I5HUoAJqTAgTPF_-Aep4z3kyhdkEQW33rkvR5N5ahzq8zWn-4n5JDPP4Wvb9jzyvxp-bFrY_vnCyQrseIR-AzoHfdvFasylfMScz_9W1u1oq75Nzgftfd0EFjE8Kk39ZtGbsXI6l63MVPbAxryJskmo_Gly9XS1JHJF_9PUb6Mt7mWk3Ji_lVJWTvPJg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwianRpIjoiSUQudlJjTkI3SE9oMFNwZXByeWhEa3ptUnZVM01qNzMzQWFtWm9JTDVNeGN5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5ZWFkMWQ5NGMwNTE4N2I1OThmNWIxZTUwZDU1MTAxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJTV2VTV0xXSnN3anFPWkRsSnpGYk5BIn0.bQysvPUVyh2fdislwAWM0ctcM6GkJe7xwQYzlkUHfNu0vdENIFpO7aNVUuBDtdnVbnLfpmN06_N9OKY_YDXNiVez8dBualDDPoFOGhzBkbUtHYXmhReMiyVqJNkOcplih766zPuSGwXDa57c1mXgA0NPlQaWbHKFbN17ZL0bwMeKE_2IjFPd0O3Vk0WiHUgVrVHNXGS7IL_neIKmFWvduIYInyB1c4UfNCJ88Hr_Yuth43B3xBMwhXnD70gwXJkjlanbgE4WDWld2CaVCP4_SDhbCwPVfpCCn5lbKSomVxa8K95Hx-NkkJDDLh0B9EAp766_TTN8ipMH7utbBnvoAg', 'expires_at': 1738414476, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410876, 'exp': 1738414476, 'jti': 'ID.vRcNB7HOh0SpepryhDkzmRvU3Mj733AamZoIL5Mxcyo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd9ead1d94c05187b598f5b1e50d55101', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'SWeSWLWJswjqOZDlJzFbNA'}}
[2025-02-01 11:54:36,262] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:54:36,266] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "[32mGET /auth/callback?code=vGaGyG4fqQSE9me79iJJkI18_sgf042TDIIDBdA5eW8&state=IkkC9LoQaItVVtJXacezpUdMfooks3 HTTP/1.1[0m" 302 -
[2025-02-01 11:54:36,280] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:36,282] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:39,571] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:39,572] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:39] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:45,690] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:45,691] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:45] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,027] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:55,028] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,057] [ERROR] app : ERROR: page not found!
[2025-02-01 11:54:55,058] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:54:56,519] [DEBUG] app : Asignamos nonce a la sesion actual: 427f651bf77f8af4ecc7c3f0e24fce7b
[2025-02-01 11:54:56,520] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:56,522] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:56] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:55:05,179] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:55:06,138] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:55:06,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJjbERhaWdXalZoTnJXN0NCQXRFOXBGT3F3QTg0eWZVVjAwMm40Q0lIYlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTA0LCJzdWIiOiJ1c2VyNUB0ZXN0LmNvbSJ9.VodKWK3LC6GZ0Vh50oBVnPPJaIqfOORvErn4x74qicIwPSD2VGDtUnHREvPZ00Rly6m7Js01BMkrjYK7owDCCfHPZlYvsLxiKUHWLZCouKEVyCCflTltX2fBMjPyWGjouueSY0f90-NRNUsVCKW-a2DTEvLlfWtrdv1Bd0blM5ak7tnDvRUuZ0hBhmSzFgT1kxjhyoDxFuQMK8pi--BSCfZJ-YBJDKINmdZuf25Lk-H4HoK7TiB3E-6OiOSvR8KsFRlEx4uXbhlOHLv_b9Ekx34EHJIQGI6C2l6rIRPwMzIMd-yy18k4I1UqOIBHxzbN8gc775uFQiNt9tPbiA3vdQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ', 'expires_at': 1738414506, 'userinfo': {'sub': '00umz6c09w7AcBQfs5d7', 'name': 'user5 user5', 'email': 'user5@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410906, 'exp': 1738414506, 'jti': 'ID.NHoAXw1TGdnpAGok2T3fJGIzg9rTan9cF2WymJxfZZ8', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '427f651bf77f8af4ecc7c3f0e24fce7b', 'preferred_username': 'user5@test.com', 'auth_time': 1738410904, 'at_hash': 'wPDDIY-m_htYsFxQxzr-xA'}}
[2025-02-01 11:55:06,149] [INFO] app : Sesion info user: user5 user5, email: user5@test.com
[2025-02-01 11:55:06,151] [INFO] app : User user5 user5 no guardado en db
[2025-02-01 11:55:06,157] [INFO] app : User user5 user5 guardado en db
[2025-02-01 11:55:06,158] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "[32mGET /auth/callback?code=NbRViNMJ1Yt8DTlu-spXXykTR83ziZjzMx4BTMDlgaI&state=Q4Z48NWd4HdSSTwXMj4dt7XeMdKRoG HTTP/1.1[0m" 302 -
[2025-02-01 11:55:06,178] [INFO] app : Usuario autenticado.
[2025-02-01 11:55:06,179] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:08,524] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,528] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,534] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:08] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:09,226] [INFO] app : Token de la sesion: None
[2025-02-01 11:55:09,226] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:55:09,227] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:09] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:58,086] [INFO] app : Usuario no autenticado.
[2025-02-01 11:55:58,087] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:58,129] [ERROR] app : ERROR: page not found!
[2025-02-01 11:55:58,131] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:55:59,733] [DEBUG] app : Asignamos nonce a la sesion actual: 8fb02ffbb5887b1141e89d8b97ff3022
[2025-02-01 11:55:59,734] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:55:59,735] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:59] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:08,562] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:09,732] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:09,733] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjdlaVVKWkRHZFlPN0RaQWh4by14R2x5bW9YM1NMZm9abzRRR0VzTlQ0WVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTY3LCJzdWIiOiJ1c2VyNkB0ZXN0LmNvbSJ9.B6zc22NYUyiH2uauQg-rQcKV9FDMvB9gk_bgydDY8VPfNZ2MVl9LL6-tR_ES_9CbVNA8aTe4x_s1BQE9tZcE_wExZ305cuuWcBhoAncYEJTF-_qvtpw9k87Ck-UqM0N9RzFk7NYPw6UeuUqyCn0rZ7OKZD_WD0EJnlfDmvl0lE52g142TDwV26YnEeiBG7yei8JTYdbj-dL3n61GGdt8B2cncKsgy6HkW5Ee_UB-ezmArXlDUdrkHCADKac40Hg5mq5gkWHo3paYawMFpxHalfDaEYDU7BCOz-oUWv23GiFndIfPew2iNn-rHm0718smXIlXGCBKr4sMHyUSgw4vCw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA', 'expires_at': 1738414569, 'userinfo': {'sub': '00umz6a5d3yEbs5yX5d7', 'name': 'user6 user6', 'email': 'user6@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410969, 'exp': 1738414569, 'jti': 'ID.CzskWlGIP5xENLnk9nhxxwLbxfzuz4cyK9y9i3rFtTU', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8fb02ffbb5887b1141e89d8b97ff3022', 'preferred_username': 'user6@test.com', 'auth_time': 1738410967, 'at_hash': '8dPcOciMI7i1bWQdWTP9fw'}}
[2025-02-01 11:56:09,739] [INFO] app : Sesion info user: user6 user6, email: user6@test.com
[2025-02-01 11:56:09,741] [INFO] app : User user6 user6 no guardado en db
[2025-02-01 11:56:09,750] [INFO] app : User user6 user6 guardado en db
[2025-02-01 11:56:09,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "[32mGET /auth/callback?code=2k94UqRAsDQCNAzd1RVRGErpH73gcx4ZQ55u-PCiMEM&state=WzO68D0mrd4OLvTGQc6xi6MNOxGrL0 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:09,756] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:09,758] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:13,510] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,513] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,516] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:13] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:14,075] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:14,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:14] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:16,074] [DEBUG] app : Asignamos nonce a la sesion actual: f0f486423abf20456b31da1b0a18db24
[2025-02-01 11:56:16,075] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:16,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:16] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:40,885] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:40,886] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:40] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:41,928] [DEBUG] app : Asignamos nonce a la sesion actual: f0d961590135623807eb7097d5f5302b
[2025-02-01 11:56:41,929] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:41,930] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:51,747] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:52,692] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:52,695] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNteHZLVTNheVVBLThWUi1KUnBCMzRTaEVncjNSTUpjMGNKYlRjYXp6UkEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDEwLCJzdWIiOiJ1c2VyN0B0ZXN0LmNvbSJ9.PMA0vJVbkNg6QiHiQLQJpTj7ThJzysTSpgOI8h96PIHmqBpsng9WDXHc_PVe31_n3w8QH71W7A-56cC6c9kdbAAXzWtV4zc2bWN2zbWWYRbcnraT18tGLQ_iKEAurl2PmRWuVNWcvXpu7fZs3IL3krvif_cjRarEao73jYQcuYbyxK-EtBNfLwlcwGTj6FcPA2VhyuwbKQpSFGbPAEUAgfWX0IVz8xqqF9rlgTxvwuC2_nwYZcFAFGqWoKyQCUhNvwOQ9UxRjEbpdSYQuLiKdNSp1WvhssZ3eIs_xbs2CSnSC9B_cJXA301q-AYlOuGt1qVedsNwAhsPQimFR8UQbg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg', 'expires_at': 1738414612, 'userinfo': {'sub': '00umz6dwfcpwcMSnk5d7', 'name': 'user7 user7', 'email': 'user7@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411012, 'exp': 1738414612, 'jti': 'ID.TUgQStKncQkYWG6QCJZPbfK1-wyRpMMpWi_uGhO09DA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f0d961590135623807eb7097d5f5302b', 'preferred_username': 'user7@test.com', 'auth_time': 1738411010, 'at_hash': 'FTIpNEKxAGkTRltgNFhPOA'}}
[2025-02-01 11:56:52,701] [INFO] app : Sesion info user: user7 user7, email: user7@test.com
[2025-02-01 11:56:52,703] [INFO] app : User user7 user7 no guardado en db
[2025-02-01 11:56:52,712] [INFO] app : User user7 user7 guardado en db
[2025-02-01 11:56:52,712] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "[32mGET /auth/callback?code=FsNtK0VyhGTXu6Jknb_mM2AcGe-EKZ-tqxYWgo2arxs&state=PeFidQuSNhrH6YXu9IkccElx9J2Ss6 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:52,717] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:52,719] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:56,384] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,386] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,389] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:56,771] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:56,772] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:57,909] [DEBUG] app : Asignamos nonce a la sesion actual: 714ff9a037c4f0f7a9b5d10a53f956e5
[2025-02-01 11:56:57,910] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:57,911] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:06,619] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:07,464] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:07,470] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNOOXZMeUtNWlVLZDRoMEFUZ0hkdVVtcG0ybkZ6S01ETzJ1aGoyb3BKNUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDI1LCJzdWIiOiJ1c2VyOEB0ZXN0LmNvbSJ9.i2CyJIjef-RFN0tzNgE-GRzb8qeUBSrO3VFtJzA413KAs5w9RsAHpuoHSzwSLhSX0oz_uVobRWhvjDElJt-B1wMRSex5ua1UK0oQCcmAXLmDOYfRK6vkbIlMgxPwveDNChdNVx7NXCrPhxfBARAm1Ddw6h24iMPiSva3M9rVE6CC89gQ8oK_x-ER1e69Zr5KM8lAkOHA5NYPDN3Sd2yykc4rURex-e9t0AR17S63KXwkbFsSL83PyN7F6WKVwY8Tuukj3g-n3YtTZdsVSussHhQpjFXKjadw-79dV9u7DcAYPcS78s9xdTnjSrxBXJ5ZakPkM0zZK68YrCJSSbBh2Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ', 'expires_at': 1738414627, 'userinfo': {'sub': '00umz6e08eTCpF5DQ5d7', 'name': 'user8 user8', 'email': 'user8@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411027, 'exp': 1738414627, 'jti': 'ID.NaxAaIXwU1_COVVY-_eo62-NEMeXy0Qn9ulQfSkI_JY', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '714ff9a037c4f0f7a9b5d10a53f956e5', 'preferred_username': 'user8@test.com', 'auth_time': 1738411025, 'at_hash': 'w4LtpIg9pJUv_RsniM5zmg'}}
[2025-02-01 11:57:07,476] [INFO] app : Sesion info user: user8 user8, email: user8@test.com
[2025-02-01 11:57:07,478] [INFO] app : User user8 user8 no guardado en db
[2025-02-01 11:57:07,480] [INFO] app : User user8 user8 guardado en db
[2025-02-01 11:57:07,481] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "[32mGET /auth/callback?code=q4q0ttqlWpPool-GHIpEWrRi9oyCm-8n-VqNXokiCFc&state=pfiBlUZA1Dn73X1xNaptD8ZLOJCv2S HTTP/1.1[0m" 302 -
[2025-02-01 11:57:07,485] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:07,486] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:11,106] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,111] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,117] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:11,675] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:11,676] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:12,940] [DEBUG] app : Asignamos nonce a la sesion actual: 83e8e0f2fb0944c051259d95b70b6438
[2025-02-01 11:57:12,941] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:57:12,942] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:23,549] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:24,616] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:24,622] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk1PV1R5N0NfSGZDOTBrSDBYLVBqZFZKT3d4UVJuMWJCOXFRUGtVUEU2Q2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExMDQyLCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.eYYHjjehF10KjAMkw3C28urFawYDyEsTQXEUu7jBfKRSoKzlNIEXBYWFVNr0rXQUMwsb1Xrp8X1V782jJCVWCXuJfZ3_bgpBl3Qu5mSsJsFiazHXjGdEoNVp-wbqgNZXvg3lX6b_EsIeTOuKQy3OpSWqz_c9bXtqPSYryIjUd_7JHwIE6yQ03iFuN8G-lk72g3o86uP5nwiyGvpPBshrYrenXbS7MONvJHDqdszJEA1uqJ4rQVHuQAqKeWJWJZ2lBzZCUk8dG-Qt3UP8rCil0rt4XDI3EkQeO7BwtQUXR0JD66FfqXOuMRBMVcotupyJpa2q3tD8tpt9XPNP8KrdPA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q', 'expires_at': 1738414644, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411044, 'exp': 1738414644, 'jti': 'ID.THL0OvzCh2vxcuyOlWgj9lVarmzo30z-9zAVTUvPkKQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '83e8e0f2fb0944c051259d95b70b6438', 'preferred_username': 'user9@test.com', 'auth_time': 1738411042, 'at_hash': 'oLO5rAvFmVzp0FRx_SaZqQ'}}
[2025-02-01 11:57:24,631] [INFO] app : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 11:57:24,633] [INFO] app : User user9 user9 no guardado en db
[2025-02-01 11:57:24,635] [INFO] app : User user9 user9 guardado en db
[2025-02-01 11:57:24,637] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "[32mGET /auth/callback?code=R1p33TC-nX2Y7ghyH38NTMJUS210TIoGZ4Bpk76WlxI&state=bgNwJ9t44qhHXU1lqTfXnyWV44lu5b HTTP/1.1[0m" 302 -
[2025-02-01 11:57:24,642] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:24,643] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:31,034] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,036] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,039] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:31,600] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:31,600] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:33,829] [ERROR] app : ERROR: page not found!
[2025-02-01 11:57:33,830] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:33] "[33mGET /k HTTP/1.1[0m" 404 -
[2025-02-01 12:03:01,421] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 12:03:01,423] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 12:03:12,605] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:12,606] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:12] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:14,781] [DEBUG] [app] : Asignamos nonce a la sesion actual: 575c4842e72935132ebb1faf7bedd40b
[2025-02-01 12:03:14,782] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:14,783] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:15,616] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 12:03:15,619] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:15] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:03:22,871] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:23,903] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:03:23,905] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:24,856] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 12:03:24,861] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjEtenNPRE5EYXBSdkxpS3VIc3dlYkNLYzEtZWhVeXhuT2ZRWDNoam5wemciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExNDAyLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.RYNFrsOGaEtZCNsVMBv2AN3GGyikoEHpGxp_TP4Sh5HuvQ5VEbA8KGVjaRcmMjuADHvl3bQOtLc023wnj6XapblJUsZ73lEP2v5daz4lNo46D0HhQ-u1SDsFzogGTur4WVmtDg1oGDi9L8VDgOIPvn1HuDH1_4FunnIjFFY-MaHR56gy0jSi-ZWmKb_UKpaEaydVScC5XnwMIVjpaqmuJ1gTyfKlYinkgjH_bj5VTXTSh2Dd0eqdZEJcDJkC452-5-hhg9qDG3frpLL4nO82cgoJV06tYd4jewfKdmKjXhzYm9-c0d_c_bGqjqhuCeU91wc7mhxP7rD0FN5gL0fvrA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw', 'expires_at': 1738415003, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411403, 'exp': 1738415003, 'jti': 'ID.mhDj9e6UoEyE--DuTjocGDONDCv3cQTySSSvHtUacsA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '575c4842e72935132ebb1faf7bedd40b', 'preferred_username': 'user1@test.com', 'auth_time': 1738411402, 'at_hash': 'X2KYZ7QMzgmWJxn8jiwznA'}}
[2025-02-01 12:03:24,867] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 12:03:24,883] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "[32mGET /auth/callback?code=Q8ThXgY3cbvtYBFWHHjjHm-WuDp4MWu1IjrK1DfX8_g&state=uzl6lCQ0DUOoQwrKYs8YVKIkidnPAs HTTP/1.1[0m" 302 -
[2025-02-01 12:03:24,890] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:03:24,896] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:27,615] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,618] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,621] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:27] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:03:28,236] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:28,237] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:28] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:30,349] [DEBUG] [app] : Asignamos nonce a la sesion actual: fc1c76dfa23360fa7b07f10e530b2ce5
[2025-02-01 12:03:30,349] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:30,350] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:30] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:08,572] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:08,572] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:08] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:09,645] [DEBUG] [app] : Asignamos nonce a la sesion actual: b8a32a88453215fdc9a0a84f5344a6ec
[2025-02-01 12:04:09,646] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:04:09,647] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:09] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:17,205] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:04:18,137] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:04:18,138] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkE3WEEwY1V6ekd1MVFkQldjY3hPVWVuQkZWYTlXdUU2TDNwWXhXOFlqdlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDExNDU2LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.m7ZPua1mZ23ADqamRnAfnKr1WXksJCfLADZYzhh0GnvnW6gHG-VaXNrA8wb_FPi1r-E9rAh6nf7aAa2jbPWOv5Bf45NTigwuofGr46PBw272C-fs3InXSV15ck8zuFzfS2RG30xpWvn77JvZlBaeRYt-PE9yZDcGKeacvvYVqh15SEsrrz4rmICU8cpOs1wvRWwBb7ps6MgG1IHoEpv4LTJRpYgOKVZcnBPaERvnVBOg9lBh-xK_VlD5o5nzoSGAPLDHhePTN1YubfTJRVrw1mpa75IVhBbkzJC66ZJbFTdsegY1QWmm4mieTQcjm_mWuKUtuNHmPb2UZ_LdElW8cQ', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ', 'expires_at': 1738415058, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411458, 'exp': 1738415058, 'jti': 'ID.v2CAVoQ2Jt_DMOYo-ZxkLQzizH1PaOTVtTPudr2GBrk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b8a32a88453215fdc9a0a84f5344a6ec', 'preferred_username': 'user9@test.com', 'auth_time': 1738411456, 'at_hash': '2TFXdZSsT6Yg9_Ld65shrg'}}
[2025-02-01 12:04:18,150] [INFO] [app] : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 12:04:18,154] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "[32mGET /auth/callback?code=sjf2DnXO5uGcYfopmpUkOe69kPH0tu7sIQxhyizFhIM&state=FdL7Ow1LFPsVWLjNbUiQQMy8M4mlr3 HTTP/1.1[0m" 302 -
[2025-02-01 12:04:18,161] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:04:18,162] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:24,551] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,555] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,559] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:24] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:04:24,999] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:25,000] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:25] "GET / HTTP/1.1" 200 -
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 16:55:00,407] [INFO] [app] : Usuario no autenticado.
[2025-02-01 16:55:00,407] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 16:55:00] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:14,379] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:14,379] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:14] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:45,964] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:45,965] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:45] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:47,124] [DEBUG] [app] : Asignamos nonce a la sesion actual: 65a7d3e1d26cda69fd7baa4e07790173
[2025-02-01 17:06:47,124] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:47,125] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:06:48,146] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:06:48,150] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:48] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:06:56,164] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:56,164] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:56] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:58,414] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1536e5c63f0c7bfbe1662fa54fd032a3
[2025-02-01 17:06:58,414] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:58,415] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:07:34,628] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:07:34,628] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:34] "GET / HTTP/1.1" 200 -
[2025-02-01 17:07:35,725] [DEBUG] [app] : Asignamos nonce a la sesion actual: 76ea46f9b1b6214bdd6aeb54e5591c86
[2025-02-01 17:07:35,725] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:07:35,725] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:47,235] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:13:47,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "GET / HTTP/1.1" 200 -
[2025-02-01 17:13:47,506] [ERROR] [app] : ERROR: page not found!
[2025-02-01 17:13:47,506] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 17:13:49,387] [DEBUG] [app] : Asignamos nonce a la sesion actual: 9a49be442fa59a4018c2c5578cef21de
[2025-02-01 17:13:49,387] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:13:49,389] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:13:50,174] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:13:50,176] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:22:19,979] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:19,979] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:19] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:22,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 91a6990c55a25a077d4cb20fc46e33e8
[2025-02-01 17:22:22,240] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:22,242] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:23,283] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:22:23,284] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:22:30,193] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:31,241] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 17:22:31,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:32,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 17:22:32,053] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmkyX21RTFYybFVqVWpFb2h5ZzI5RkJXZU9uaVJzQVRnZWk1QURVYXRwdDQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDMwNTQ5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.EompqS1fwk2FSjmnl7rA3ONhi6PyjulVIJm-wGUoYdInCoiY4ye8y0sUDuWc8LKaCzuvncS75SuQBMH1Oc8XYm8hkfHLTLT-U-xoONhS-W4d9XI7DACkjyBJqj_ICb02KjKojljjVim2dxOjVUOH6meLHDEStqw1FaTP7vlBLh9fDrWOMHu_zCDvZ2FQh0DiiEMaUYbQD9-MhDpIGYblVMV6QrFBJbdgeblVlBns7qmC24jvcxTL6wwE-n1M0mP3cpxjE0RveEfI45Y-n5VaUsfZ2cH389AVsQXu61wse6WrpilhgRCFvqwLqx1PcHrTYrPHZQeiiadu6EUMm0mj_A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA', 'expires_at': 1738434151, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738430551, 'exp': 1738434151, 'jti': 'ID.hNgxp0Z9n6YG-N7HRRMK6TULX-crKfvlTvn9baJmKqE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '91a6990c55a25a077d4cb20fc46e33e8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738430549, 'at_hash': 'Q_UIH1Qu-VcUrrU26sJe_g'}}
[2025-02-01 17:22:32,054] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 17:22:32,077] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "[32mGET /auth/callback?code=hvEfrDdIud0ucn4Os5aXIT5eWUILwh2sR8BN2q5q6ZI&state=RzJ94rqgYSwdEE1YcDXCNwCz4zZOAc HTTP/1.1[0m" 302 -
[2025-02-01 17:22:32,080] [INFO] [app] : Usuario autenticado.
[2025-02-01 17:22:32,080] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:36,983] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:36] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 17:22:37,746] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:37,746] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:37] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:39,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 412c153977be2089a32187fa726389a7
[2025-02-01 17:22:39,241] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:39,241] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:03:45,934] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 20:03:45,937] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 20:05:08,986] [INFO] [app] : Usuario no autenticado.
[2025-02-01 20:05:08,987] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:08] "GET / HTTP/1.1" 200 -
[2025-02-01 20:05:09,036] [ERROR] [app] : ERROR: page not found!
[2025-02-01 20:05:09,036] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 20:05:10,307] [DEBUG] [app] : Asignamos nonce a la sesion actual: c2793408fd5754dfdf0bf59633388069
[2025-02-01 20:05:10,308] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 20:05:10,309] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:11,231] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 20:05:11,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:05:11,956] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,023] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 20:05:13,028] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,983] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 20:05:13,998] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNiUXk2dFc0cHdja0JfcXJnTC1Rd1E3VmJiVzAtdU9hVnNjdEgxQmhsS2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDM3MzUyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gbQJs1CKfy2nlt0amLsqBbpt8pzY9DJu81cHj5crP_hYIj7yhhgLTOTSIi948HDU9_ZLakPNyAkF9V2e93rI87J19ev8HGllxTzlKDBJtsFRRqDhz5AteDqj6fV6XpkCNmObB0s7YU9jl-GnPFiZl3jGZqh1D_W_ABGwkQhUujg93y0_QSCCtU4iYkcC5uD1llC1yqhRidz4fOUIwxudlSW6doKNs9MsVQgQUe3LKbrwtlAox3iCSs1fZMjcOdBDDXi1qpOFxwd6E1HHfvgTKxyE7ugMNp5h81AXagIDbbyndpPat1yHLPsFdFQG1XNhG18RdCkt7NJD7EV1rtBT7w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwianRpIjoiSUQub0cwNVBMcndGX2lkX3dIMFl6a1V3RnVtQ3Y4UFBoQkZlZ1ZyN0pRdVhsbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImMyNzkzNDA4ZmQ1NzU0ZGZkZjBiZjU5NjMzMzg4MDY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzNzM1MiwiYXRfaGFzaCI6ImxNMmxiWk82WVRjYjFIbzlTcGdmNVEifQ.P_ytmVZSnF1SFB_vVtpfWFfPy491cx3o_5wKK5zw5AMRQbFy_qLmIQALxdR2Y2AMGLPnUi0kvjw0YWlMaZ2yAbStvGreih_Zyd3NimkaLwu0Yjv7WND72o3Kdy2y3tXEvBX42naQypWfdqsFLwjomzOr9O4SOxWyFExr92WnDtGMqFWY_NKz9x-1PgkC_IQnTHO9t7QZl_rEmEB6Asx_LpeStf6XCT0xCOLkv_6V23ccxJQRwWe76YB-I8Uqye8Sbz9HEaV9Cdq5uCKj4eGADgjLUS4wglfsygKeS3c8pPfBKsJH-mFbuVjdlO7VeOVgABzCESgwm8txE4j1a7aNJg', 'expires_at': 1738443913, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738440312, 'exp': 1738443912, 'jti': 'ID.oG05PLrwF_id_wH0YzkUwFumCv8PPhBFegVr7JQuXlo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c2793408fd5754dfdf0bf59633388069', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738437352, 'at_hash': 'lM2lbZO6YTcb1Ho9Spgf5Q'}}
[2025-02-01 20:05:13,999] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 20:05:14,001] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 20:05:14,012] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:14] "[35m[1mGET /auth/callback?code=JZWAk_d01T4SXdLG2OLQ8UFrcGFBq3HJlmLsRjPdKPs&state=sxChj56a3kTeQTOuZTodsw9HFbTyCG HTTP/1.1[0m" 500 -
[2025-02-03 17:10:38,106] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:10:38,107] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:11:29,464] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:11:29,466] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:26:23,157] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:23,158] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:23,222] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:23,222] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:27,001] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf96bc7f74876573f59d27634f6c99fd
[2025-02-03 17:26:27,001] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:27,003] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:27,912] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:26:27,913] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:26:29,127] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:30,201] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:26:30,202] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:31,185] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:26:31,197] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULldiTVNvdVMtRkxJZ2E5TzlLSUdBN2Q5eUdjZlpJSFhUdWtvUnZGYmx1dmciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjAyNTg5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.rwJHBeLFI0Q_7lKWi6OWo0tJpn_zC_lN1ETMzV41az18FPvWKKx9Dnla2C_PKcVlv-ytMDvT2loPo8jtMk-1_bxh4l24XIe8eqdvSla5AcmicG22Ngg3vwQtXvFlTpRuk7oCUeghGoem5AVFEj2fVVQZx3YAVESbaL9AM686sKWRHc79GuDBve_RJrKreD76XZ7FVHVmI0FxYcjDld1xM1ynwzz_qGWoH-I2lPUk9E_EhJJBWULJIejwe25g7jj0RSEFOH4e2TsdCN5g4bHb-Vbnsi3UJ_NyA2wSrnYCfvQEauMWWiR_pYmRbjt9bSMvy2PuEGjHNFtAQwZ8cSlY_A', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwianRpIjoiSUQuaEpDWFVaVS1EcExaMVB4QUVWTm5MR3N5UlVtX19WX2R4MFZOaHR0WTlSWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmOTZiYzdmNzQ4NzY1NzNmNTlkMjc2MzRmNmM5OWZkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDI1ODksImF0X2hhc2giOiJuZFhiT3hwa2JSWHYxLUJOZGZiRV9nIn0.K_4aM1OkxmAqV5HTL0imiZrgjBgfSPd5f_XysfoO4DYsOG4R51M0KfERTeT5_saZjafS5eHIhDzB4BuRlz9QEcfPlyEah3hFFrqa7wsN2yOVHi4CFZq7y1LaDaKc3FM8G2ZB9v6KRVAdYyqvbaorA1jVSJd3UDS1SowwJsVOpVSb5MQwcSr0KT1dh7A3_WFfmzVRnA1O_nj1zAqsvbpVwmOPvxdxRX5QlReHdezG16BO1UpkZS4jEINRQX0fgNKR05PpRLRKy7OgEGMKzIPfez9mNXBp9CRMe-6ICZxRFtOs_edoJcaQrQwJhYDIhHT6rQQWaR7ymNFNG3XueFNGvQ', 'expires_at': 1738607190, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603590, 'exp': 1738607190, 'jti': 'ID.hJCXUZU-DpLZ1PxAEVNnLGsyRUm__V_dx0VNhttY9RY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf96bc7f74876573f59d27634f6c99fd', 'preferred_username': 'user1@test.com', 'auth_time': 1738602589, 'at_hash': 'ndXbOxpkbRXv1-BNdfbE_g'}}
[2025-02-03 17:26:31,197] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:26:31,199] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:26:31,210] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:31] "[35m[1mGET /auth/callback?code=BcQlKk-JiQQPmnDwWU8Vwk2NBrTfUJY5FocuoVWQJl8&state=TQob05sHBCiPzbPO1bUKY8PNOdu60w HTTP/1.1[0m" 500 -
[2025-02-03 17:26:46,560] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:46,561] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:46] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:56,773] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:56,773] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:57,650] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0e3f2f36bb192df00d66a6d1c422e33c
[2025-02-03 17:26:57,650] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:57,651] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:27:08,896] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:27:09,938] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:27:09,939] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBXa01pSXJiZUxfejExMUVvRmdtZ09xOS1CdV9JQWFKa0RYaVVDdEpmUm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjAzNjI4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.hVgPz_rfqoyUBTVt381QHwOV4awp5X71FFt9wvAvdVQCrmomGxUXvzFjQkbwk2SxXc1YuEeEOPVA6DPkdBRoKMgjPVIyeJRxJ2ffUYmecTGgjm0IwaHFiGfhwJM0IAs5pZ3dTd2bI3ddJ9r-kpSdhVRNigz70_1-r65OAuXQwsmXDTWHjPMoATAADzZROOn8l1RHli8ToM7Ih24lFsgePca46lalq-gwMCe7wkQI37UfycL9M6fFMWtgOMZuJ_MpVCSt9OzglsxzurETBic91l7vRwf7tyj6QRdqcmkCXhoHJAyqdoXQZOoSiVWaIzwyVrhI1_IFPynSSdXvLYmYeg', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwianRpIjoiSUQucmFIcTZxT2JkT044UmlmbGYwYXViOEJHMTIxa0c5RVhlM25FYkFyT2hQSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBlM2YyZjM2YmIxOTJkZjAwZDY2YTZkMWM0MjJlMzNjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDM2MjgsImF0X2hhc2giOiJPbG9mWllrSzdlZE81VEc4RjVna3FBIn0.Rkay05FAE3WQjhX44eLGdIWwbkuTcgoffQRtwwr8z0htDpqtwIoDm4os8LaDcym31CFem9OY87hvbwkQws_EeUKYBC04NbyOrCtTLfuw4csAbTYWPTJ9QxgZkm0XV2AgDgk5zHbxDaHKvxUEhVgOjAhpWEyxi6ywMKPrz2Wwb1D-1aSRBLr3XP1GERFTe9PQvtXGX2sHnNzv1tkjPKex9SZX2yrG2vEvPnpapisjoHzZ5KyG87XxsxLWp9jRUaEISvb0_mpFJpIYZ3OP56jlg11ABlpQba6PlTRxy6JhmtViH-ox6e8cjSZdf2LUr8Kqd56HQK5kDK8huBNh-rGjeA', 'expires_at': 1738607229, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603629, 'exp': 1738607229, 'jti': 'ID.raHq6qObdON8Riflf0aub8BG121kG9EXe3nEbArOhPI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0e3f2f36bb192df00d66a6d1c422e33c', 'preferred_username': 'user1@test.com', 'auth_time': 1738603628, 'at_hash': 'OlofZYkK7edO5TG8F5gkqA'}}
[2025-02-03 17:27:09,939] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:27:09,939] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:27:09,941] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:27:09] "[35m[1mGET /auth/callback?code=1rKT1C_hdwx9FMs8hRPQQuy4jExB1-8kZYCUEJJAuP0&state=nUafaFQn9eppK4PC7IOWp1cm1YDTsA HTTP/1.1[0m" 500 -
[2025-02-03 17:34:14,259] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:34:14,259] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:14] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:16,205] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:34:16,205] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:34:17,644] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1816207b8034ce4b5822d6bd1c64a019
[2025-02-03 17:34:17,644] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:34:17,645] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:17] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:34:27,556] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:34:28,748] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:34:28,749] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhvUnRlWWxWTG9BT0wtVlBrQTZ3UndQWWlFRncyUXhzMVpKM2V6Z0VGWmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA0MDY2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Rr-PWpmJ6rqOYfaqP04fsyqZp5PwSrZJzRsR6gHVFNOsO0-3UzqeFR1RmS2Qg33UnDjz-MdLZexMggHOb5LPcnDRhYTqaHaXURnZ7EJC51fDZ7hZhO9lpTQfsdEIUjqOhx0uIFCsGSrG4f0uDu4WdCC4saAXA0vKKJOk7SOgbIGihp7NOaTuqbDj2d5hrjevuOT1lL0hesBzR363V5WUtmBIRF0PMqF0OcURKfI4HKrOUZ0lChnhtH56G8N1JDCMkr39iqQCT7RW554wmwh79BgP0Ry36d-DhMi29xmQO_Ln9xsHyEDWm6wxqtn3rCG4yKD6rkXplM48FLx1USRY5w', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q', 'expires_at': 1738607668, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738604068, 'exp': 1738607668, 'jti': 'ID.ad2IoGs0VOQFvU7AbaMhJHhfkyMkxs84IDQQbCjSX14', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1816207b8034ce4b5822d6bd1c64a019', 'preferred_username': 'user1@test.com', 'auth_time': 1738604066, 'at_hash': 'FvUKTX98-qb1GeKwrV4liA'}}
[2025-02-03 17:34:28,750] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:34:28,793] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "[32mGET /auth/callback?code=B8Wd_1ZyPmwI3UmjM1wLH30cHSl-WokzubtS4GY6ww0&state=4PjmH8Ft88iRUdzqew0LjVSbWgHoBF HTTP/1.1[0m" 302 -
[2025-02-03 17:34:28,811] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:28,811] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:33,069] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:33,069] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:33] "GET / HTTP/1.1" 200 -
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:57:40,219] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,219] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,220] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:40] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-03 17:57:41,554] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:57:41,554] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:41] "GET / HTTP/1.1" 200 -
[2025-02-03 17:57:45,992] [DEBUG] [app] : Asignamos nonce a la sesion actual: 49deb0b17d2ab5650e0cf5e5e40e1bfc
[2025-02-03 17:57:45,992] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:57:45,994] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:46,890] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:57:46,891] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:46] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:57:55,826] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:56,901] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:57:56,902] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:57,931] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:57:57,937] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJ1Y3l2M0FSX18xZk9mOXpxcElvSHRsd3JtRTUwekxsSmdSSkFWNjdQeHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA1NDc1LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gJpoOIsGz1v7yJHU-O29-4SxCeYY8M4DCBIRiMBgwswXTPE4BUSNnOyxQVWpIVlwz0jbrtwNmohqjVgfnSJwo2Aoa3l7J-Nj32rnZSHUDxp1ElTvzU00IraagPko0CdY3LxvrkxIigHuYCQF8olDW8-aMdPQPbyN5d7CEnF1cWenwQf05NN9XWK_ptQ0W0Iqd_JsJAoFS1zFNyEyOR8z-9bdIhj8YFZga38H4WNa4fznP5VggANw0-CBXKvXkcUi5D4FUr0wtKw9YcHlRt9R5ijyVn4iXJmhMPy-O45Z0urUFhjj95_SAlaJ4vNFIKFeRh_r9iCtyT-T0aedSKOHew', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwianRpIjoiSUQuMUl2NWNuZTRzT2QtQlk1OGtCbzRLVnFwTWI1V1RzdjZneFg0RlhqQWhZUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ZGViMGIxN2QyYWI1NjUwZTBjZjVlNWU0MGUxYmZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODYwNTQ3NSwiYXRfaGFzaCI6Ilc3OXlQLVZBRVdQVEFOMVY1Wi05NVEifQ.LZOg26GJS1cOgKtccyUk_q5fFAKWNt5M9eCMjz-eY3J2PEA5FFZasi2rDK4lWnK2RQmGMheczW6_taZitL1zWOnoaV9HGhm0QI8zVLZEaXfex8jCm-BYVajXefdKQLWpLb974LPYQcQBvdC73dCOmvwKR6v0IeOtdtQhWJkamPyN7pverXLXBNanmZuTqgRdNf95sAlyS0xeZToCsrFISXPFX5oak6oBw441RpOeQW3qIOjnjpkAsVO68JDVdgffl5PuY2ca7a9KR8H8Cqz9nfP1Q7Ry1BQLdBmv0C3HnhVCrGyRmUtvaun_TJH-ADSeLOl2NnLSsfmCpeGa1S9vGA', 'expires_at': 1738609076, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605476, 'exp': 1738609076, 'jti': 'ID.1Iv5cne4sOd-BY58kBo4KVqpMb5WTsv6gxX4FXjAhYQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '49deb0b17d2ab5650e0cf5e5e40e1bfc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738605475, 'at_hash': 'W79yP-VAEWPTAN1V5Z-95Q'}}
[2025-02-03 17:57:57,938] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-03 17:57:57,952] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "[32mGET /auth/callback?code=PHaNQSMpj3uiGIh3bVfFI4Z29v_rTljmZIDNNpGh6jA&state=u80jIog1rJhRaRhiFapSuL2vVSENiN HTTP/1.1[0m" 302 -
[2025-02-03 17:57:57,961] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:57:57,961] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:01,711] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:01,711] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:01] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:41,861] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:41,862] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:41] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:43,809] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:00:43,809] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:43] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:50,133] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5f491b4dcc7514cb5250f57b1b7243e6
[2025-02-03 18:00:50,134] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:00:50,134] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:00:50,866] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:00:51,834] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:00:51,835] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJYNzd1TEdSRzlFbzhlVzZCSklZVjBmdF9FTmhXREh6VGNReUl5c1R0bVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NjA1NTg4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.EO0sTJ47ltJL3HtcsCbWoYYYAV-a20LOQs4EYE71Vj2w8fnU8LrSIs9DHdaiLUD0i57BY2_SOd52vaAYaKp6-VsNAV3nRzF5yS7qgp5B-qu90UNSXbdltwSkUCv-GsbUkj4yHPkYDPjmdd0k2EI8S3uBP3tnnR3kv-_hxiasa5oe0MBgD7DoSSYV_03VhA2itbS7kO3r557ZjQux68zWVEGgEcyxleo4jCZ_ZdkApBQO8BuDFsqar58hr5KfTOqYOoDAZZhmXVBYSUk_3YQEpUFOOua_7XO5T__23nocf8-D0UBEhKEWUdm_cVm3Pi2Uku1_y4iDHYagGImDKZ-9TQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwianRpIjoiSUQuRlJPUW1ZaFBsakhuRUhXRlNEMzJHdlNKcTE5UFh6UlQ0MldxazBMdDNCNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVmNDkxYjRkY2M3NTE0Y2I1MjUwZjU3YjFiNzI0M2U2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDU1ODgsImF0X2hhc2giOiItWXBoQVZYRzdBMDQwNEprWlpISDN3In0.pJNcTv3-p25L8UCnenlMWjUk3LSI4X9tLViZJzX3gndkovp0YxrDs2zKx3ij2yl3mKX6588YyDKkDQPKH-6G6rOOSbAY87sQNf3nDLQ3OkmgjQmy-koiWJqqT6SuHfn8a1OYZzHkfOvMpvBc_9YEmoFWdKuFifYgIDNqWhPMnQ6HF3j3LLeahk7j-fdn4Gr7tp_YLnuXT7ycCA0QkrLoQP3YF-P-Q-lAbx6bPe-zP3axMc05W62gtLx6EfuTxojPFIs9Y9OL9waGsu7xMnMdhlAxkgsdHs3MnrCM8AIMv3SksrwLaQ1v5ycrqM1Y4NldZOjkq1IoxriPPOwqlAn75Q', 'expires_at': 1738609251, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605651, 'exp': 1738609251, 'jti': 'ID.FROQmYhPljHnEHWFSD32GvSJq19PXzRT42Wqk0Lt3B4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5f491b4dcc7514cb5250f57b1b7243e6', 'preferred_username': 'user1@test.com', 'auth_time': 1738605588, 'at_hash': '-YphAVXG7A0404JkZZHH3w'}}
[2025-02-03 18:00:51,836] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:00:51,838] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "[32mGET /auth/callback?code=mqYK0HJPwkJZ-fTEOb8D6Qrjs1A_A_sV4qs101V8h5k&state=SqFUf2KgFRk0C6zLTRl0ObewhSRDaW HTTP/1.1[0m" 302 -
[2025-02-03 18:00:51,841] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:00:51,841] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:22,944] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:07:22,945] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:22] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:29,056] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1b7f08eb776e1f822f00ca0122d16f26
[2025-02-03 18:07:29,056] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:07:29,057] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:07:29,870] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:07:31,063] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:07:31,064] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULi03VGNKSFU5TUhObE51VFhUWlFRZEtDMWVjRVMyRW45Z0NYUk02OVE1ZGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA2MDI2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.IXkt7KPzMChS-txjrKhMNb53T08Q1FpUq1bZ8cdb-wVpbqmawQOpg-Ib-xIe3T4cqTI63Zaut7MFM22du6LA-W6y8qoyxnhL3JscFX64uY1Wq1vf8OJiuCTYoUtjuoH-gFWDG7AdyUU5SZTNZ6D5ZMlGa1BxZEmAVCL_ECWe1HnHJ_QZcQJPsEiHTNxpwQpP3637QRQXwhDDinEkETdq8Y9i5DlBIpxnIv8ZZTGP847zkrnKWP5Zsvs0qVeFZe9iY-mVIis-XuLG9hhBtajCnb5HWHITtpW4Spk4BhB9DLjz-MXw-LxvhfyzqD72a6p8TfFPqpez9lozfHF9goD-FQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwianRpIjoiSUQuWWxRTnlnc3UwYXgxS0dtZFE5ZDl5UXFFUHFjV2hoLThVbE4wNFo5a2FGdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFiN2YwOGViNzc2ZTFmODIyZjAwY2EwMTIyZDE2ZjI2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDYwMjYsImF0X2hhc2giOiJIeUVMamtlSUU2LU1lOHd3Mlg5U0FRIn0.nhjJj70_YZRlrN3cjhRk4-JKFoTr8Xtf25Na2LgpT87fPEllTCpKU4rph26ZwY5lK0b1A4isTLm9wVyZ5wLoXbBHO2YvP_yevuJCS3BGaWHETNDMuqbGL0purU-aFxsozpvA--fbWZ0s3neANds3KldwmW2w_aCX7VC2-ty5CWZumScj-e8uQ8FYx4eyecV8BT_MT96pe1wJnJKVe80wplOOTDGVbdYhsGwuA5ifR8-UyJpa087EuhvWuYRkXpKVM3KGSIv8lDM-e7PQ1g_dZtEWw8NUeojfugam5l3AztWZY8XwQ2lBq3BttOXJqdffhYi2F643ha5jJCpgjDupxg', 'expires_at': 1738609651, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606050, 'exp': 1738609650, 'jti': 'ID.YlQNygsu0ax1KGmdQ9d9yQqEPqcWhh-8UlN04Z9kaFw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1b7f08eb776e1f822f00ca0122d16f26', 'preferred_username': 'user1@test.com', 'auth_time': 1738606026, 'at_hash': 'HyELjkeIE6-Me8ww2X9SAQ'}}
[2025-02-03 18:07:31,065] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:07:31,067] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "[32mGET /auth/callback?code=HcWkQOL6qwoSCNlh1PkoXi9PgvTfQZJPIAqiIZ1N1iQ&state=iLjrFckVgN0Kfdy2RckaAiHt1KTZLF HTTP/1.1[0m" 302 -
[2025-02-03 18:07:31,072] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:07:31,072] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:12,858] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:17:12,858] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:12] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:13,703] [DEBUG] [app] : Asignamos nonce a la sesion actual: 147266ef4e50bfc1aab3efc995604b51
[2025-02-03 18:17:13,703] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:17:13,703] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:13] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:17:14,419] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:17:15,502] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:17:15,506] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNBMDNpemgtdDl2Z1FzNGJzR3MyQ1daRkdOUUVoUk9lSDUxRjZfMzl0WnMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA2NTI3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.DIt0ToNlw5s76HQMPxVxCiF9A7u6IzmlDM5_3UBLlZPG8rmBKX7AG12HX3heAQ7z5n7iYlrfgPhk6_HINKk7QDgRkjb8TU_ljRZkyD1rUVnVh27GJgrOuNuLNUC63jePm2EU7cZKLV0JQNeFTZh12PbL48tS-dIhJld8IXh9RS124jmeD82oLSWKPvk1OH5S6f0Wa10IuMVNG2-P5zNgw8fT1bGn17zozwN2-DsjyFnTEQINwvM74_GZxU5orhuiYChQYaaKGhkTpWxzVuuYSLIxX7HphjG95UHv1HDl9aGt7hoVjl4vWMXOWc6TIPiRKlqTREFumw4L6oqyF0_8iQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwianRpIjoiSUQub3hSN2lCcW53UXlhLUtMLW0tR0VTSGtZZnRIanhGUzN1b0czYnBwREMyayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE0NzI2NmVmNGU1MGJmYzFhYWIzZWZjOTk1NjA0YjUxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDY1MjcsImF0X2hhc2giOiI2QjNDMmlZaXRfMmpPYUJGXzJQd0hBIn0.bPPqalb1R26ZoTtdCGdsCkb05xOGlmJ-c7BLa1_CN3JYzV0_7PuhQMazENiLiIMvnaklgmey_w_sPyDCz6s_iRMyRl9okDoM36Xp6-SVjCUK2nGJwKikLSr3its1oIdavKGTZR5PdxaNAfp5F4CtkCFTBX40q1hFoKo0j4vz2qRipZvf_yJKbs365vz_YOsolSRyYdgBZSpK0yJVgtpMSSi_wdTSRJsJ_-xpT-jtNZ0coIXO1Re0ZgzIVm_j-fZpLeS3ZMen5DO18TqLLBuELfggaTa2vOJ6yecWt1xd-ncLrVb_bZ6DiyWQMxNwa7W_nRF3n8Rh2d-Hmc7vLNy2eg', 'expires_at': 1738610235, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606635, 'exp': 1738610235, 'jti': 'ID.oxR7iBqnwQya-KL-m-GESHkYftHjxFS3uoG3bppDC2k', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '147266ef4e50bfc1aab3efc995604b51', 'preferred_username': 'user1@test.com', 'auth_time': 1738606527, 'at_hash': '6B3C2iYit_2jOaBF_2PwHA'}}
[2025-02-03 18:17:15,506] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:17:15,509] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "[32mGET /auth/callback?code=N641OZt9u_AYHarmidF_aCyHEHKxzTEnkqhGFkEKoMU&state=2PThHXCGnd8QVWaqNEmE77FouTGwcP HTTP/1.1[0m" 302 -
[2025-02-03 18:17:15,512] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:17:15,512] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "GET / HTTP/1.1" 200 -
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-10 19:37:38,797] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-10 19:37:38,799] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:13:05,064] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:13:05,065] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:14:02,420] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:14:02,420] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "GET / HTTP/1.1" 200 -
[2025-02-18 16:14:02,469] [ERROR] [app] : ERROR: page not found!
[2025-02-18 16:14:02,469] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 16:14:05,041] [DEBUG] [app] : Asignamos nonce a la sesion actual: a056267269425998f96dd89c9f690994
[2025-02-18 16:14:05,041] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:05,043] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:05,894] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:14:05,896] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:06,620] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:07,624] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:07,628] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:08,557] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:14:08,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhudzhleWp3a2wzSFBsX0RyeWZhRWxocEdwcktrQnRtTUpkRUpQTnliOGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.VhUYyRCwEmDOl9pAicKLXhKKdNGlwFG9y9wzjyvUQ9oXRqPKyIe-TNxsEOu9lh7hLarDryoA-HoJ0CXL9G6h6i3jpEEUrWC_URe90_l2r6CZNcdMZM1czPfuVc_AzjKi7oy9oOqRDJgn_1znDWkedPiX87WHCoppN24K0kY1MrCrjqDrK-h3qnT2tdr3Shu1PeW9735xzAD8Rl-OQ8IlDZOkgcDgAggY0OWLPZ8ZubgLlg4Y50QhL8BY_Hu3e4qCt6NYpL3HpGbUnmQGUyGzSt4dXvTh9mLtWyXiXxFLJX44038mHEyLkid7vaborNMHvN3p-4CSXbjkP2pXVaGsqw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywianRpIjoiSUQuU0lXWU44UXY5WVVjM3kydk83Y3pqN3lxUDlmN3ZIVE1JM1RQSnl3VzYxOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImEwNTYyNjcyNjk0MjU5OThmOTZkZDg5YzlmNjkwOTk0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IklVbE9lbTFJUkw1UGo1c013NlpCMkEifQ.BUZ4jqsKhwIvGKlxZEkK-beOkav5cFfRmwZF_5zWvWscNha-ozfnjDZLn2Rwj-5qAJkh9artiIQsSylk6y6KcJ_-Hp3Gq0Sx-O9XenCtyPYrrrPGvCAck_JSotK-HNRCO_sB33xBsY9Z_mOOwvB9L6cbmg-rbImmjOWKp1YYXeN5_23EbN9ADtR7Y_DNDsXY6V4cquptoQHwVMdmWbipwgqQefs0rNQ33UYT1mRoo--mt6Qgs_aM0lJ_ffO6MdDBj9zVKKzoHxWpLAuvcdQUnzpVQtG9Y6WlYktyK-NImjq7V62WswFUbgAHNSVRJOCdW2rd4YKcpPUpE0VIef05rg', 'expires_at': 1739898847, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895247, 'exp': 1739898847, 'jti': 'ID.SIWYN8Qv9YUc3y2vO7czj7yqP9f7vHTMI3TPJywW618', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a056267269425998f96dd89c9f690994', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'IUlOem1IRL5Pj5sMw6ZB2A'}}
[2025-02-18 16:14:08,570] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:14:50,950] [DEBUG] [app] : Asignamos nonce a la sesion actual: d91f6d1fbb059f3bdd6fd7aa713ef04b
[2025-02-18 16:14:50,950] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:50,951] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:51,561] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:52,568] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:52,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkpOOHZCUU9OQlV0dkN0U0trOTdDTFg5bDJJd2hERmhWZjhieE5POGtHa3MiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.DdG7sJXIv_nxpTaehpp6QX0sUiir8UqzXuYFjru3Zp7-ick1qmn2r3hjNiQ5V9f_ywuq_-e528iu7fMuyZ79LArH3wN788Kbz8r1Jqv0SJ99yRgwpyjEAcXSvLjdTYWYWSTM-SqAWd-0TkpV8IUo5Y-SSHogagbNJFsxcfXLr4atQP0W1blvJQk8nLVu3G5VBQTNbs26bX3YBJbUOJA--CCtQ8S1-fRn2baDlBxKaYaq-zh3LvMiqJySFWW4y0403pl250q3IoW__ro4wbB95ees0wA9Z_iIiu3fiC0dfVHhk-9tVOqF0q_mz1gCKRsvocaFOaA2WHa22LgbRNVqRg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwianRpIjoiSUQuRTFJUGtGOEN5RUFjMHhnSGU4ZHFQQWpuZ1ItemN5WXRyMWJLYXlReVVTZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5MWY2ZDFmYmIwNTlmM2JkZDZmZDdhYTcxM2VmMDRiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IkNwVENLZURoMTYwUmtMTG5Uem5oUVEifQ.kaszUMUpGXKRolv3WoL447Howq4bUOUTNobD3LKoC1rE_gf0sQiOI5TRcWFDht1kgpCrP0feh04PXohmWSDMKIsQUhglxK8gsjctX_nqWWQlI4XsGxmJ2MDU6h5OPFA9rRyWSFC854HuzhYjByCtegrK1v_mLNCcK8U66lyzOc09eQQepRs1ROjKKLxkc9uaq-fOKwSEu4UllSEJX40oBM4U_O0QDeEMwbIrMFVdUmmKiBVfsxXhL7sTCSuBqSgueWRZhpAm7cVdY9VsWoTuCN_ykWqKIBxpGqZPGtqBV24nvisIeb25lfXXn-4KBPtwQg0bTlzB4UMnqHG8cz1UEQ', 'expires_at': 1739898892, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895292, 'exp': 1739898892, 'jti': 'ID.E1IPkF8CyEAc0xgHe8dqPAjngR-zcyYtr1bKayQyUSg', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd91f6d1fbb059f3bdd6fd7aa713ef04b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'CpTCKeDh160RkLLnTznhQQ'}}
[2025-02-18 16:14:52,569] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:16:21,940] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:16:21,968] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:16:21] "[35m[1mGET /auth/callback?code=xgyjv1eFSMYrVezyl7YpM7Sxon6Ba6WQs3ZWzcywckc&state=03orraJbheoWeSqaEHNG0u8LOXcyi7 HTTP/1.1[0m" 500 -
[2025-02-18 16:17:06,993] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:17:06,995] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:17:06] "[35m[1mGET /auth/callback?code=8PR22tH5ZTDh_rUsLIDb7S9-0uvCxmF1kY56zzef_KY&state=GsOLibX7Aei9isYBEMXU2DabCmuyU0 HTTP/1.1[0m" 500 -
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:21:30,198] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:30,198] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:30] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:56,025] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:56,025] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:56] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:57,651] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf7ccc85472c20d872a3193ff3078b15
[2025-02-18 16:21:57,651] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:21:57,652] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:21:58,441] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:21:58,443] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:21:59,613] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:00,567] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:22:00,568] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:01,464] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:22:01,470] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmRUTm8yVWRZcWVRem1HNUJub2V2TXhtcTBqVFIzNVBrMllxTTdzZFFncE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.higEJV7I7jDzwOOzKItiGaZ3nSzWUJwSSiufAuUQa4tZqsyyOcwPxb3WvQDhRcqq7vdqjvL4wNr9SabDOGVYXaXpHvOc_E0qpsHoeXm813V3h28RObjl3juyDq0h5wkDEO7ozRPOnNYCS3W9tYkMGTtJV7glNxUketBCblzMLZe1-o9Qi2nazgzE-PdEgNqwdrlZ-UwopvFXLa2uontUdeQd1xYZdn-Kj4fM5qlg3X-NnISluoFkFxTaOaqNXcZmhBQSojapq9pfbctCR0G24A0Tm77ZspenlmXjCQOiSMBHxJqjE0WiRjOFP4lse6qbYHzz_bYWs_e-E6OlxLHo0A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwianRpIjoiSUQuQlducEdxRkxYUDFZeXE2eWxUc1hFTnVlczBaUkphTDk4T0JoendxeVZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmN2NjYzg1NDcyYzIwZDg3MmEzMTkzZmYzMDc4YjE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6Ik1zUk5GQjZqNk1CRnBBdVlmVjBwQWcifQ.HmxHHe3RNAonil3-TSMZEQBQSZKK_rjNy_T6GRAPsNv2jtY7Qxx7VUtcij5yC_vuh70wZE7nOnpZ2aGVYFQPebti0GG6I58FaWLHDqgt882QfYg2raExmiw1SF3VeyoEHPK6VBKmsw-UuyPP67mWAXlH6OvVnnHR3MePb1W0wkbCMhYHjeJf7pHH25mU7GMUk1rVQwZw9UAgvjBiksOiGWWpsBUYSmURqOB4PGt-sqWfQ91LnWrwOd0-Q9xUNnqT0uQZF8c9LwEq22-yVi1W67Rg2lvNoQgltf7EKx3UUF84WhbYLpBEtITmM7gYFHezi_B5AIZaIVP0WuJe8eRUyQ', 'expires_at': 1739899320, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895720, 'exp': 1739899320, 'jti': 'ID.BWnpGqFLXP1Yyq6ylTsXENues0ZRJaL98OBhzwqyVYE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf7ccc85472c20d872a3193ff3078b15', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'MsRNFB6j6MBFpAuYfV0pAg'}}
[2025-02-18 16:22:01,471] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:23:46,693] [INFO] [app] : Token de la sesion: None
[2025-02-18 16:23:46,693] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-18 16:23:46,693] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:23:46] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 16:24:17,073] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:24:17,080] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:17] "[35m[1mGET /auth/callback?code=6jl98Ng2_WHuw3nM3Nx5wTA3PcNGqaoqCsbZV2I0Ndc&state=AHmhCuccUSA0VpAuuy0g7g4l8wCee9 HTTP/1.1[0m" 500 -
[2025-02-18 16:24:54,087] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:24:54,087] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:54] "GET / HTTP/1.1" 200 -
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:32:28,038] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:32:28,038] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:28] "GET / HTTP/1.1" 200 -
[2025-02-18 16:32:28,637] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0109e1e4edf4bf5514c1d7e3eac5e0ff
[2025-02-18 16:32:28,638] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:32:28,639] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:29,449] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:32:29,454] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:32:30,601] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:31,635] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:32:31,638] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:32,597] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:32:32,606] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJvYm5QUmpaU0pRUnJKVU5XNVZFb1p5UGFiNWFvSENHZ2MtcmY2aXZXWGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM5ODk1ODgwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.OAeur4pcrKgcc8qTenpVSVDmfzS903P6MZOZ5JdoWq2P0eo8ertiawH0WVfDUy8Vi2OIaLzhRdIYoZUBI0aqbvg5OsFqljdrtvdDz5TluadCEdfnPb7iZUdTHOJZcd6jPH6Mv2z02P3X2pywb06OEA3WP_Z_z_OfWlqshw-5jFjH65Rf3QebczwrUPBv2SXZsUR-O8ay5-bF2MdfaLxcOB30v4ILtTi0qfsHX5PZo12I-ZMP49u6NSdgOevbLzyC96qmHyKMR5SLhHtRB0dlFJW1TyeEek0TW3ibHVAy2cClqNbT0h7YSRmtdqr3UwKHrsuc86UfQW3q4jAYzld6VQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwianRpIjoiSUQucnZIdU94Ni15b3lXdkhhTUE1ZU1JelJCdHN2bjk3UkpGNkxKU0ltVVRKQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAxMDllMWU0ZWRmNGJmNTUxNGMxZDdlM2VhYzVlMGZmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTg4MCwiYXRfaGFzaCI6ImVRbmN3Z0ZzZWJmdk5MME5ZNXlDbVEifQ.TyPgiH4uLiSsUlfMPnUuKTjUMFmJ0E1sOZlIk8FzqtJpqh47GU8Yw5EWF4JVMVMvPGUHkKJEIHkJghqwfbax8-tRolKU1Se51ZtlBX2alayzuReuM_tCcV2DvLDpiOHS3IIZJNOrBiidrlxKK3bkBPoPmgckz79oWgoy-i6xy0SX1CtcmTAmf0jjsG5moQHic4Xk99fFKXq7tXATxGJz_HumjFaTzIKoYdfbd5OwA3DgqkCMfxO4y-48eBNJdd6zj9yj7lq03KjL4wISL_marptZcW5Dt6YbbECPkt2F3nTEtoU4hYkPMtFqsreqw9osCVmrdvEa39LHulRNgNCbRA', 'expires_at': 1739899951, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739896351, 'exp': 1739899951, 'jti': 'ID.rvHuOx6-yoyWvHaMA5eMIzRBtsvn97RJF6LJSImUTJA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0109e1e4edf4bf5514c1d7e3eac5e0ff', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895880, 'at_hash': 'eQncwgFsebfvNL0NY5yCmQ'}}
[2025-02-18 16:32:32,607] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,652] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,653] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "[32mGET /auth/callback?code=qqzq5FsKeZVULLmbqdARkY_xVdYAsbWPN6tC8R5YkR8&state=UiSwfPP9aRrXUIhQXNi0H4Hn74OPP3 HTTP/1.1[0m" 302 -
[2025-02-18 16:32:32,655] [INFO] [app] : Usuario autenticado.
[2025-02-18 16:32:32,656] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "GET / HTTP/1.1" 200 -
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:19:21,573] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://127.0.0.1:5000
[2025-02-18 17:19:21,574] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:21:01,167] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:01,169] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:01,204] [ERROR] [app] : ERROR: page not found!
[2025-02-18 17:21:01,204] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 17:21:02,659] [DEBUG] [app] : Asignamos nonce a la sesion actual: 38c2da4fa2deaab7feec85ac19f8ccce
[2025-02-18 17:21:02,659] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:21:02,660] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:03,532] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:21:03,537] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:03] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:21:27,228] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:28,243] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:21:28,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:29,216] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:21:29,227] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFFMENkN1Z3ektfMzAxQU5FSDVtc3ZhdnZZYktsSi04U0p1SzlRYlAxMVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk5Mjg2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.NZzgerINvSg77CmuN7m43IqwPRscpmqFpkguQoMUV4cUpQiY7VZUtwNujtQvzfS6pQBCoK1gkoYJWSI705TlLfIrLwqkXzxvPlojc_jdVJv1asOA8ZdKz4qcYY-MSOKjdzkkMKKGKhO6jEvQUQqfHu0lBe7v9sS9LOPrGvJLtkgsTDCdwjf7kmR14JS6eSWvkTYEe63UBryF660VzVGKeFYdqCZbkqFqVGqrBZyVqqtW7Eqp1hLMN3bIT3ufCxwK_68SDNT8rfpJDbLowkcGDgl0fIZvwrkQMHBEb4mnHYCGYH-peddCE_Y9JIBpEu-DHZPT7icWPJQg7XiMZUiXiw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg', 'expires_at': 1739902888, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739899288, 'exp': 1739902888, 'jti': 'ID.5zLbJ4iIrqQNuhnTY6l2ZzVXs5QJQYgAdLLjCeOkXCo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '38c2da4fa2deaab7feec85ac19f8ccce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739899286, 'at_hash': 'ucU1MkeFD_4kC4Sz3Sfewg'}}
[2025-02-18 17:21:29,227] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,253] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,254] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "[32mGET /auth/callback?code=CBICkKZ3FQdW-_PbgRVdIHbyAA2v0M2x9YTPKCKvosM&state=u42qysWYaDgqmBTnJe4kVlILhAL3C5 HTTP/1.1[0m" 302 -
[2025-02-18 17:21:29,262] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:21:29,262] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:31,547] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,547] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,548] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:21:31,948] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:31,948] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "GET / HTTP/1.1" 200 -
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:35:07,562] [INFO] [app] : your_secret_key
[2025-02-18 17:35:07,562] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:35:07,563] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:07] "GET / HTTP/1.1" 200 -
[2025-02-18 17:35:10,734] [DEBUG] [app] : Asignamos nonce a la sesion actual: 8cf61c81af9526f1decb292a9b2f03fb
[2025-02-18 17:35:10,734] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:35:10,735] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:35:11,582] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:35:11,586] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:37:13,234] [INFO] [app] : cRXjsF7Uy7FajBWkKQRaM30/pWrDudWG+S5fo1rukCY=
[2025-02-18 17:37:13,234] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:37:13,235] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:37:13] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:39:37,735] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:39:37,736] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:37] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:46,622] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5dc1b71f59c7d01735e94f7e195f9a61
[2025-02-18 17:39:46,622] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:39:46,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:39:47,485] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:39:47,490] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:40:07,790] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:08,793] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:40:08,795] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:09,719] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:40:09,726] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNiWUNmeGtaLTFXSDNQZFRISUpGcTJXV1dqS0xQNXJSdVJXVEdyZThTS1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5OTAwNDA3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.QNpOtzBcyF3CWR35LQaCaZEFoBYDyUK57nbAQ28gcyJzj40GOfSU-OSIfRiuvF9cljR3OLdK0t_azBV6E_m7i-A07iK-jItEIxsdHFpRm9-ce_R-rdCq_HC5I6zYmpEivu7pusLApEDPa3wn82kFYXK_740rA0S2jhcgcHflNzMCfAJ-1KFkOq4RvWK5F5Csi4mmueQLAEAnwQV3yiDKkbr46mkuIIdeUdhxAUV2T17FpIzm_wIoFcEX3MKfnrVFkJGnl8q1uV46eePK3uPR5O0GUcVsEK5MGiXkKX7-IPIy-80J6YcyE52LVh273gQylndGD-eh1MF44vCmaBmWoA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ', 'expires_at': 1739904008, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739900408, 'exp': 1739904008, 'jti': 'ID.oTh1vKXB3YsFflA8FOKrTvMpZ-PgbA5jGlOCiJkFRnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5dc1b71f59c7d01735e94f7e195f9a61', 'preferred_username': 'user1@test.com', 'auth_time': 1739900407, 'at_hash': 'fUT5Zn1DJOYwrfn0Uve6YA'}}
[2025-02-18 17:40:09,726] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-18 17:40:09,739] [INFO] [app] : User found in db: user1@test.com
[2025-02-18 17:40:09,740] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "[32mGET /auth/callback?code=BdVOz7HwoteNx-Fl2ijJh_gNdUtx4a8X2sy_c-fCWdU&state=N4uelDffcL6e5EH1L9UZ63VcP9R1nJ HTTP/1.1[0m" 302 -
[2025-02-18 17:40:09,743] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:40:09,744] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "GET / HTTP/1.1" 200 -
[2025-02-18 17:40:16,676] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,676] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,677] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:16] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:40:17,282] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:40:17,282] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:17] "GET / HTTP/1.1" 200 -
[2025-02-27 16:56:37,830] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 16:56:37,831] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 16:57:36,204] [INFO] [app] : Usuario no autenticado.
[2025-02-27 16:57:36,204] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:36] "GET / HTTP/1.1" 200 -
[2025-02-27 16:57:36,308] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:57:36,308] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-27 16:57:38,849] [DEBUG] [app] : Asignamos nonce a la sesion actual: 933ddf0da210989518f789b3a4fc224b
[2025-02-27 16:57:38,849] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 16:57:38,851] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:39,659] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 16:57:39,664] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 16:57:40,297] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:41,295] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 16:57:41,300] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:42,248] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 16:57:42,257] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlRCU2NacG1iSm50QUptT3lsT3I4ZTZ2V0hVaEJRZE9JdHd0UzZ5N2d4QWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU0NjEsImV4cCI6MTc0MDY3OTA2MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNjc1Mjc0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.ocPXYPeY_IcVzhpBso1rmUY8wayjzD2Ox6tRNFM8eU6329WI3aUfTz0jcy1zm67oeUCHgP9yXhY28Bban2en8T1HCX-bpezULlCN1yWa8zhv7XlUbDWC6W0CmEcPiQ4OvCuB3CsFU425nbPsqPpWoLtI9Egi7VuGGBKezPyUsvTbdami-1EL_aqrwDFxBnN9sSiDzXSOCZiLcMJNYJ6YIvLnXQZ-iE_jIQT8_KgbxXRByZSzB6agYHl65q4iZnuci9n7YOwnNwDoz1fmzZ1EonswvaiNT1DrLVoprraOgpfOVYnrFmBxxOd3DTPPdneK23nuBFNXOFTcszPfvlQqVA', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU0NjEsImV4cCI6MTc0MDY3OTA2MSwianRpIjoiSUQuT2JQTERfaEJVSGpXa21WVExRWVBoLUJpVWRiTEFvck9IQ01RdkJLOTFPVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkzM2RkZjBkYTIxMDk4OTUxOGY3ODliM2E0ZmMyMjRiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6IjBScWdfQzNOR1cyNnpyZkhjeTg3N0EifQ.PZCAIsUpnsv7LNuTPlLQRaXb-NUZ31HezB6Tp0ciz2Ne5GZdhhFA1eyQ3QLm-CP5HkAFc5XRz-w3_ndW214EByH-JwtbkvRkJPI9rc8g19Js7kHywMv5p3We070prE0WSo6fxNr9hr2yIhWXAt7U1psnmCo-bxwliP8y-HWR8ZE_192vK7i-sY968-HSX6lCrHqf6U243uYZBoDoTqixTaivvo-c-g7UBdMe7QJTO44lp5-byZ0Tp8Xc95hpbwy_S9o4yp5kzKxBop5RqaK_C-qi3co1nOfpcdXCu9KukzOLAsjq7Rxhrf2iRG4aLfeNfqEYjbavpXOv76Nk3Xw9Rg', 'expires_at': 1740679061, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675461, 'exp': 1740679061, 'jti': 'ID.ObPLD_hBUHjWkmVTLQYPh-BiUdbLAorOHCMQvBK91OU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '933ddf0da210989518f789b3a4fc224b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675274, 'at_hash': '0Rqg_C3NGW26zrfHcy877A'}}
[2025-02-27 16:57:42,258] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 16:57:42,299] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 16:57:42,300] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:42] "[32mGET /auth/callback?code=6x3mwND_Kt4Mc3pEAQO_Z8LMIRs2AMfRDVsR92NOlCQ&state=l0nhik7m7v9Op7sGOS6nBZxYcz7cL8 HTTP/1.1[0m" 302 -
[2025-02-27 16:57:42,303] [INFO] [app] : Usuario autenticado.
[2025-02-27 16:57:42,303] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:42] "GET / HTTP/1.1" 200 -
[2025-02-27 16:57:46,423] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:57:46,423] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:46] "[33mGET /lklk HTTP/1.1[0m" 404 -
[2025-02-27 16:58:11,875] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 16:58:11,875] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 16:58:20,483] [INFO] [app] : Usuario autenticado.
[2025-02-27 16:58:20,483] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:58:20] "GET / HTTP/1.1" 200 -
[2025-02-27 16:58:24,096] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:58:24,096] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-27 16:58:24,097] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:58:24] "[33mGET /klj HTTP/1.1[0m" 404 -
[2025-02-27 17:03:08,621] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:03:08,621] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:03:25,942] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:03:25,943] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:25] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:27,431] [DEBUG] [app] : Asignamos nonce a la sesion actual: 778a26d300fadfdf7d55bbf0c09b3bbf
[2025-02-27 17:03:27,431] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:03:27,433] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:28,247] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:03:28,251] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:28] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:03:43,981] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:44,988] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:03:44,993] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:45,882] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:03:45,885] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRpbDA5VEpJdGFUcy01VzlUc2daUmFSV2kxVTBDQ0c0WW9nS1JRX3pCX0EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwNjc1ODIzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.LqvE_BlXce_1ZvG1fu8ewHZ9fJJZYE3ebr0NNZSuNCv2ORxN2IIR3CexacLazf3GjAy9Y8UIbhoejTCrTo5X4Y5yjMgduuabQ-6RqL82csSE3urh_yKdmx3PIFQUsVtzxkpjZF7Qhi2Gomc50CCnTrwkCwBtPMOR9KMMPXR30nwEK7uThgSC3zgb_O9ebGoX17af-CdvhY3KGui2w0gKRnzquQnLuXwpnTejglnBVSkV-dcFbzC-aerfLrQjxVi_zk6orgvoGrpQABv5OYaQ6fpr2YimcdyuuzHr0Y0KqtBnEtKMxRz1g8bMDoGczP6HcjzvC02uoUIndc05_e2uPg', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA', 'expires_at': 1740679424, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675824, 'exp': 1740679424, 'jti': 'ID.NmDns6o935Yxj7UznsrRuI-_GO54YHK-BBTXGuhfOXs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '778a26d300fadfdf7d55bbf0c09b3bbf', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675823, 'at_hash': '3Ws6Y6BtHL1Rwl-uoUBu0w'}}
[2025-02-27 17:03:45,885] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:03:45,898] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:03:45,899] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:45] "[32mGET /auth/callback?code=PpBu5_AfrnoSR-ihLisO-OpqFXw__dxlIVZX4RRmNNI&state=HKDBZpNf2ObNcXB88dt67m925pTifQ HTTP/1.1[0m" 302 -
[2025-02-27 17:03:45,902] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:03:45,903] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:45] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:49,869] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA
[2025-02-27 17:03:49,869] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA
[2025-02-27 17:03:49,870] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:49] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:03:50,463] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:03:50,464] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:50] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:51,719] [DEBUG] [app] : Asignamos nonce a la sesion actual: ce70bd84a14f6ecd14cd23e7943e93d8
[2025-02-27 17:03:51,719] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:03:51,720] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:51] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:04:10,250] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:04:10,250] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:04:25,102] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:04:25,103] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:25] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:26,696] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1cf8b3ddf1e94e18a02ef001ceaf46a5
[2025-02-27 17:04:26,697] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:04:26,698] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:27,380] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:04:27,384] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:04:39,392] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:40,377] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:04:40,380] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:41,292] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:04:41,302] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmhpajFWTDZZUE9aVERBdV9rdHRuRWxiNzg0NENBWkhWRXkwWkhtb3lRMFkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNjc1ODc4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.Jj9K3Po3sbSirnf45JBPAPP78BZf1kDCTTc5a9YOjHtzsYqJw2d7jo2D8K8yMDgbFFPjUGkMn0K_w0zTYxv_-qvys7j_yjTrTk5NnYR2QdqGZDDyX-yAdk_gddo77ZgFOIrgt_anvQcP0J9ZumRwslE1oFYN9ERlN5S-VRZxxjhc5CyxPQUXRxHdCH0t_aSV9QmjgU80ocFGKKMHPOdCLqmuX8bXm0CL6M8bsaSNy3mySaz-TMOuqpOtc5gJO6NrizgTIsDoxcP54jDO0oGQmOunPzcHk_1oxGpwnK6IwmLaQg46In_Qej1zuPrkU5bwQPy77mEMUFUdW37sE-KTMA', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA', 'expires_at': 1740679480, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675880, 'exp': 1740679480, 'jti': 'ID.w6b3bi2kCLg6w8CdUxr8FA3KD_xEezOr9uZUGeb6aVE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1cf8b3ddf1e94e18a02ef001ceaf46a5', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675878, 'at_hash': 'WLNtryK_E52s9E8FKWKUoA'}}
[2025-02-27 17:04:41,302] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:04:41,315] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:04:41,316] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:41] "[32mGET /auth/callback?code=m2LIbEEY-hnlttDwUG5SKjuzcwFJ9YhjRBXpvsM5Sqg&state=SMuDOfEEv2fzcnnvzMHj7JcvWaTM3r HTTP/1.1[0m" 302 -
[2025-02-27 17:04:41,319] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:04:41,320] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:41] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:48,389] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-27 17:04:48,390] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:48] "[33mGET /asd HTTP/1.1[0m" 404 -
[2025-02-27 17:04:50,549] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:04:50,549] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:50] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:51,473] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA
[2025-02-27 17:04:51,473] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA
[2025-02-27 17:04:51,473] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:51] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:04:52,104] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:04:52,104] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:52] "GET / HTTP/1.1" 200 -
[2025-02-27 17:24:21,580] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:24:21,580] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:24:27,334] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:24:27,334] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:27] "GET / HTTP/1.1" 200 -
[2025-02-27 17:24:29,011] [DEBUG] [app] : Asignamos nonce a la sesion actual: 03e2472cdee74caa7d6bb4e2c4d55d98
[2025-02-27 17:24:29,011] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:24:29,012] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:29,820] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:24:29,826] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:24:31,054] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:32,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:24:32,047] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:32,947] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:24:32,953] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmNSdjUtTUdVVGdnRVkwME1rRjJXemFDUURaWnB1RlNoTm5CeWlTZE5qNjQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwNjc1Mjc0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.On28ndWwr0-f26SUGiGXoeEiM8unwqB7c6sVx85TiwE8-MjpcvfVpvgCBZRyC9Zg8Q_A3IxktvDc1gnKmjE7acJ27A8vlDq7qtPLRA3fJiyDCbWe6EDFtGFeQ49Nu2WhCjWjiNNGDAlsXjmWft0u9pJVz9YOYMxR5UsOs_mhapO9Z10WbV4doCC7JTkFn4MtHd7rIGQFtnlnaVHu3yXpX4-EZnm6RTKHLnf4D6JUIUJqAJrIkkOAhtqDhPiT6-FV_p4pkrjcV6Peeazuv6z3pNmZR1orRyVsaLwcZLzJwUvneyJGOMkTbk9dWke6Qz8AcM4A0HcSOgYxPY5EnQLd6A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A', 'expires_at': 1740680672, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740677071, 'exp': 1740680671, 'jti': 'ID.DmbtaR-HGL4NzhGT61b1X-L_g-eEdSagRpQckyRH9rs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '03e2472cdee74caa7d6bb4e2c4d55d98', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675274, 'at_hash': 'x71As5Hr8rBFQVKQLnAGZQ'}}
[2025-02-27 17:24:32,954] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:24:32,966] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:24:32,966] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:32] "[32mGET /auth/callback?code=wU6o6nrusEMyOKXThOeeTUiVmt9y8kKjAhw3TMkrK7g&state=GlzJ7PkYT0C7ehXiB3Z41Hsrp4CIlB HTTP/1.1[0m" 302 -
[2025-02-27 17:24:32,971] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:24:32,971] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:32] "GET / HTTP/1.1" 200 -
[2025-02-27 17:27:12,184] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A
[2025-02-27 17:27:12,184] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A
[2025-02-27 17:27:12,184] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:27:12] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:27:22,800] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:27:22,801] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:27:22] "GET / HTTP/1.1" 200 -
[2025-02-28 17:00:11,546] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:00:11,547] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:02:02,352] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:02:02,352] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:02:10,742] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:02:10,743] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:10] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:10,791] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:02:10,791] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-28 17:02:17,457] [DEBUG] [app] : Asignamos nonce a la sesion actual: 84a0cf0b9472ad86d137820050ca4d49
[2025-02-28 17:02:17,457] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:02:17,459] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:18,265] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:02:18,269] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:18] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:02:35,455] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:36,456] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:02:36,460] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:37,381] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:02:37,394] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmVFRXdMYkRUMXZJV25TZE1xaG42bEtPbDk3dU1vRTM2OUJxOUMwaEJ4bzAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyMTU0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.CmD0TyxvTQsVtnYzHfnBXEmOg0hN_y6OlnSgsh8QySoNfj9i9KJ2WXbso9nQOb0fHc0ZSQZf9nG35GrhoMWPVGLcrXmMUpsjeE3wYWbFM6B_EUhR6MUJIgQVSr5bJzDcao_MDrQpowrtMpoAH6JbfVBZQIfJlXI0bSpJigja0nM1sr42jFXHXGn3Ym8KDySBS12Nyv7Lz1LSABxT5WV2MqTjudJPpXqsfi99-p_YXIqqRf4vUSmc6pMSlc0j7RU6Y-hdEzvJd45V7KWw5-rMWcel3Md1mviijm8Tns1ikwAz6cEOEtkvtgu9YZWEIvFTeJpRtPIgyl-n2g68Bh3F0Q', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ', 'expires_at': 1740765756, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762156, 'exp': 1740765756, 'jti': 'ID.JHvLDAMnTH3vkydTVIEdteEimZqI7zMoit0IR0YgP-Q', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '84a0cf0b9472ad86d137820050ca4d49', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762154, 'at_hash': '-wQRq6VeFWsKHtPXlyz5kg'}}
[2025-02-28 17:02:37,395] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:02:37,435] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:02:37,436] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:37] "[32mGET /auth/callback?code=rEpYMsgPXvfdl3AeWRct5MY4x3I_kjE-GS_j9U6hTns&state=UqwvIayfCwKXngl4cVC0KD4YngkpEw HTTP/1.1[0m" 302 -
[2025-02-28 17:02:37,439] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:02:37,441] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:37] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:43,812] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ
[2025-02-28 17:02:43,812] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ
[2025-02-28 17:02:43,812] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:43] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:02:44,204] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:02:44,204] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:44] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:46,200] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0d9a160386a5d0d710025440ab3175fc
[2025-02-28 17:02:46,200] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:02:46,200] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:46] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:03:11,878] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:03:12,838] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:03:12,839] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmxkenpyWjd3WHlpNkpRaERWcnI1ckZoS0lCMWpwSFgtUzhubFhSazlScTQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyMTkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.biRizmjtiZk_pOhK20LD_kNGTVa-zVFwH8Ny9vTN0k7jLzK-DPYUwE6HLyJWTZ85F2Yn6lpPYXRneUB407Gv_wCXnWa7oALFZN-wkyjxCbfzeDUFQVZcxsCnWLiD6lU3MBDijM7YJvRBLRM82_jUu0K2AkKnlzG2Gm-snkcgtWbYyc97L__Bbx1lO90USRu8hdq_0tXfq0BgVDwKCu1dFCwkkuTNXwh3bYIjEnd-Pn-RJhCwLS4KZBZbD1nBL_DknC3nOwatFIP4WxCSPfCFuFGbqwoCHa7h-AuGMu6djZ4j3CDcIg4MoPTJwKjOiQd08QvzzcvD3cFxN9zEXh8uTg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw', 'expires_at': 1740765792, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762192, 'exp': 1740765792, 'jti': 'ID.MxqC_QhnejnlitERSQU8zsdyY3waS4EdSXHDpGn9oDM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0d9a160386a5d0d710025440ab3175fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762191, 'at_hash': 'oD6jPF5Sds2MHn4DF6hNkw'}}
[2025-02-28 17:03:12,839] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:03:12,841] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:03:12,842] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:12] "[32mGET /auth/callback?code=AzOOaeooZvYVYorlmwbgWxGgRnxMFJwfXXfs9MM9RF0&state=E2QbgztbCBkCxUXiU4MROUVgoNvfka HTTP/1.1[0m" 302 -
[2025-02-28 17:03:12,845] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:03:12,845] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:12] "GET / HTTP/1.1" 200 -
[2025-02-28 17:03:13,934] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:03:13,935] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:13] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:03:20,621] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:03:20,622] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:20] "GET / HTTP/1.1" 200 -
[2025-02-28 17:03:35,073] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw
[2025-02-28 17:03:35,073] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw
[2025-02-28 17:03:35,073] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:35] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:03:35,485] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:03:35,485] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:35] "GET / HTTP/1.1" 200 -
[2025-02-28 17:05:49,418] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:05:49,418] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:06:11,281] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:06:11,284] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:06:11] "GET / HTTP/1.1" 200 -
[2025-02-28 17:07:06,251] [DEBUG] [app] : Asignamos nonce a la sesion actual: b9998a2cf7e1d2beced155d6343d4e08
[2025-02-28 17:07:06,252] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:07:06,253] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:07:07,023] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:07:07,028] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:07:07] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:10:14,219] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:10:14,220] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:10:50,310] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:10:50,310] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:11:02,197] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:02,201] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:02] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:08,175] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:08,175] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:08] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:09,222] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:09,223] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:09] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:49,943] [DEBUG] [app] : Asignamos nonce a la sesion actual: 3550bae2ffd8bd2e5d8fccaf418ed18f
[2025-02-28 17:11:49,943] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:11:49,945] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:11:50,722] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:11:50,724] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:12:05,710] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:12:06,664] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:12:06,670] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:12:07,569] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:12:07,585] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkxZRUZyNTFjU0xKa1cwVDBlc25NZzhGcGRZVml1aTl0WlZHM0NlcEdZREUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyNzI0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.RL9qo6acJEvgAwmRXYJi4axEkNYXuzELcJp4xKKktw769byVAD0Fpi_njY0fabP3ffLxZZbfGvbuW0oPn8-Hw71uvm7vutSKKqs7KTIo8GCU0z3sS_Y2Aem1LNeGI9mNNxerAEciKlXKQu6IGiDoWkpGfaSKBMCArHNCLNJddkweCrsMtWEInJQXEvDMFlQOm2w5_CVSPIpzKx6RdxzycV_bpLrfSJz1K3SaCwFRCMkHxBV1gCjWmGPIgEhOx3VlCxVTUxgboviImAhe3NIdEO7CiaAfpYXrBbalh_Gh_jkUIBjkyCtVh46b-dIBMxmVzeVcF3dA-jK74iKl_S7syQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ', 'expires_at': 1740766326, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762726, 'exp': 1740766326, 'jti': 'ID.7tN_iORfZFVXnbL-9qnNXS_5DjIRgR9qvsiUbzfGe7g', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3550bae2ffd8bd2e5d8fccaf418ed18f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762724, 'at_hash': 'kBjrhw_4Ef-g8fa7zLm6sQ'}}
[2025-02-28 17:12:07,586] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:12:07,612] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:12:07,613] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:07] "[32mGET /auth/callback?code=bbcfx0FeUSqkz87aN4yftiYpGaYJIjo4JVS_9OHtp4g&state=G8DZpg2r14Cl1q67BpohTnhn6h8TGs HTTP/1.1[0m" 302 -
[2025-02-28 17:12:07,616] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:12:07,618] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:07] "GET / HTTP/1.1" 200 -
[2025-02-28 17:12:10,024] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:12:10,025] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:10] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:13:12,744] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:13:12,745] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:12] "GET / HTTP/1.1" 200 -
[2025-02-28 17:13:27,908] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ
[2025-02-28 17:13:27,908] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ
[2025-02-28 17:13:27,909] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:27] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:13:28,538] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:13:28,538] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:28] "GET / HTTP/1.1" 200 -
[2025-02-28 17:16:42,057] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:16:42,057] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:16:51,261] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:16:51,265] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:16:51] "GET / HTTP/1.1" 200 -
[2025-02-28 17:17:22,530] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:17:22,530] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:17:22] "[33mGET /login.html HTTP/1.1[0m" 404 -
[2025-02-28 17:18:08,173] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:18:08,173] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:18:08] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:04,047] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:20:04,047] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:20:09,342] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:09,345] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:09] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:11,212] [DEBUG] [app] : Asignamos nonce a la sesion actual: 8a93ca5a0adf85c7a37aa062918551ca
[2025-02-28 17:20:11,212] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:20:11,213] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:12,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:20:12,047] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:20:27,483] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:28,261] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:20:28,263] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:29,155] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:20:29,159] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnQwYk81Wll6Ym1vTy1XNHJyc3B5WE51dzVBa29uNlNpeEd4emludl9FeDgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQwNzYzMjI2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.NqgXSuvZE3s_d7Q2lBg1Ad5WjzO6s5Pj88vSN0BoNIX8K3t7-1M8zOEzRYQJxFOjHOtP0Rf_2K30ohakKFGDdNyG7amkbDAfeyKE5Bo4R21UMWekxoH6Zj6-MTnqfZFb0eDV81Y9DmC724QBYA_HEassGKpvhG4hF3TrgsfZiPa8f5cGl_cLm9AG9uwIwLkWOG6j0GXE_HQwSIO6c2vvtFulxD67Et32mwP2TvnuZmeLuDALTptx3zbKX65vB0aQ_BITc4lYIPYBSQbTiXxpBz1nNATjbO6MErMWgK6YKbM3z2sUwrd6-32CA4fJFGCSv5vc2SzL-hR-pcY2l3B-nQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg', 'expires_at': 1740766828, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740763228, 'exp': 1740766828, 'jti': 'ID.Sw-LadGxFhSBF8FV2F8OsltlZDmCoHiiiJ291BQ6L3w', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8a93ca5a0adf85c7a37aa062918551ca', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740763226, 'at_hash': 'xwV95ikWgTJ2JCU9vMUY7Q'}}
[2025-02-28 17:20:29,159] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:20:29,171] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:20:29,172] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:29] "[32mGET /auth/callback?code=FFTZAP3zTPOa6OdkEzKxzvha9QAYWZMz4m2HtzKeui0&state=hKG5hHf2WPtqxTDSoJ3J5BVHPO9UkA HTTP/1.1[0m" 302 -
[2025-02-28 17:20:29,177] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:20:29,178] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:29] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:41,162] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:20:41,162] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:41] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:20:50,733] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:20:50,734] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:50] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:52,635] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg
[2025-02-28 17:20:52,635] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg
[2025-02-28 17:20:52,635] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:52] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:20:53,211] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:53,211] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:53] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:59,451] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:59,451] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:59] "GET / HTTP/1.1" 200 -
[2025-02-28 17:28:26,812] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:28:26,812] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:28:38,616] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:28:38,619] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:38] "GET / HTTP/1.1" 200 -
[2025-02-28 17:28:40,039] [DEBUG] [app] : Asignamos nonce a la sesion actual: 624b067e380a16dbeea4ee52f0b987c0
[2025-02-28 17:28:40,039] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:28:40,040] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:40,853] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:28:40,857] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:40] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:28:57,081] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:58,045] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:28:58,050] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:58,940] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:28:58,948] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhOVzU1YmZ0NnJ4NEp3WGtOcW1zdnBWbVFGUmEySElpUVlvV1E0aFhCaGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjM3MzcsImV4cCI6MTc0MDc2NzMzNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYzNzM2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.qE17OQSmhxQUl4T2Hw0FJhp_k2dnqGWkli8sgxfgdDghgs3mnLjrpYFsnzdBUbEdzYrF2uzb42e6Hqnom-Yp-w2HzCO_dSbv5Tzwp9fqvd3SPH49cfSNz3vrfrntRWPkpJAiC3eCrs3EEUR3tirhfgnG-lw2leGLRaCywkFqm4HiDWkPNTpMRbxf-Wkz_RjPe55IzpeBBCwxIXv8qc4tmOVNyM8v3_r8DZofnDEIElYFQRv-rwWO3pqIPtmf1Gt3iaFaHG_QK3swO8Kh7P_13SDnsoh_w5wb_ykMzqXIuoVocHQ4Df_eSdbTiiZPfWz7VRce7xIwk0KrzikP7rIsUw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjM3MzcsImV4cCI6MTc0MDc2NzMzNywianRpIjoiSUQuMEYyRWZGNF84U1RhOU9zc1czNS1ITHpYdURVNWpVcjVTUGlWb3hfNzZNRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjYyNGIwNjdlMzgwYTE2ZGJlZWE0ZWU1MmYwYjk4N2MwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzczNiwiYXRfaGFzaCI6InFtQ3dnT2JnQnlXb0dpcHQ5RmNYMWcifQ.hsZQY5QLYvOBj5goce0l3HpFASRbZVmqG83yFSRre2ayw3uWGAtST5CmpDhwZ200OUAyEl7E9eitT3rROvFpVuGEiHfZj5npMC7gOKK_wzXi1oUMmOHNskAMmpMN8tHs6i1u74QehoJDWLKZcRPTCdmU0eVEQJ98sCnvDdDOZU9Da0oOOVGuBPKqcwu4P_zWl4W_yy1FGtpvQc9uHBnSJHhoPZcVnQsQO0YDQt1L1uzWGnCiNWdGFaGMqg_Yn55WFxrXOKT4XnGX-WPw_vjkAkYDl3tvcIWZJ6m8YsWqoX4mYW5zfEqSbWTTYk5owU8bFvHKjdec7VXL5Uf6msOGWQ', 'expires_at': 1740767338, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740763737, 'exp': 1740767337, 'jti': 'ID.0F2EfF4_8STa9OssW35-HLzXuDU5jUr5SPiVox_76ME', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '624b067e380a16dbeea4ee52f0b987c0', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740763736, 'at_hash': 'qmCwgObgByWoGipt9FcX1g'}}
[2025-02-28 17:28:58,949] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:28:58,960] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:28:58,961] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:58] "[32mGET /auth/callback?code=JM-ymer7jX3NlrGgay2hzU8eVTNhEQwAWTv89lCgNJQ&state=Fs6YcmpDpLPYwj4jem07W5WQnajNnQ HTTP/1.1[0m" 302 -
[2025-02-28 17:28:58,965] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:28:58,966] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:58] "GET / HTTP/1.1" 200 -
[2025-02-28 17:29:40,040] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:29:40] "GET /profile HTTP/1.1" 200 -
[2025-02-28 17:30:01,492] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:30:01] "[31m[1mPOST /profile HTTP/1.1[0m" 405 -
[2025-03-01 11:19:53,889] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:19:53,890] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:40:37,160] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:40:37,160] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:40:41,287] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:40:41,291] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:41] "GET / HTTP/1.1" 200 -
[2025-03-01 11:40:41,386] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 11:40:41,387] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 11:40:42,893] [DEBUG] [app] : Asignem nonce a la sessio actual: a9e54bae409b634c36531be3c0024e6c
[2025-03-01 11:40:42,894] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 11:40:42,895] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:40:43,907] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 11:40:43,908] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:43] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 11:40:59,146] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:41:00,099] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 11:41:00,100] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:41:00,983] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 11:41:00,997] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBhUjAzMUFhXzJPbWJOMGdUdzN6XzdScTFIbU8xZm1EcHgxZ2NWLVU0YWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODI5MjU4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.mr4aSzHOl-ykJdR6OZRoKDKmNsdvQmhCM8isqxpGHtNNw73lmQBf83LoNQU-WgQbLCpSpdmGGx5VWPUa98wxtGLJ4QRXFZ2c5iacVbcLWz3DNlUVUce3vDP_CZSH-b2pH0fJy1u_mZ4f77VZKy28zm5pCiZZ57AGJcJPxqm_EX-TPutRDqthvnixnLBWtekT3HTSdbFaSIK4u2hMcdySdkXjIiAdqJ_HwuTSNZnDGvNqjVugcJcMni7LuO5IAfmtXF4hXgNED3RJhvlEY7fnrYuxWDgh2oPHi6uSYwX63Jczfv3ZvKboD91_J1053t2ujePHoo3rCUsIItIMjuw3pw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA', 'expires_at': 1740832860, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740829259, 'exp': 1740832859, 'jti': 'ID.LIfkVtRKDukUwpWX01ScKVKsVfVD7g6HLHqgc227ftY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a9e54bae409b634c36531be3c0024e6c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740829258, 'at_hash': 'Z4x-ACVCFllio0HevBbauA'}}
[2025-03-01 11:41:00,998] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:41:01,044] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:41:01,045] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:01] "[32mGET /auth/callback?code=QRzZEfX3sgrLHF5VsPVrE2B08CLca9CoJ49wsiYubBA&state=9JEnGWs6Gb93EpgwUQlDttkcUvP7jj HTTP/1.1[0m" 302 -
[2025-03-01 11:41:01,049] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:41:01,049] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:01] "GET / HTTP/1.1" 200 -
[2025-03-01 11:41:04,267] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:41:04,269] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:04] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:41:32,355] [ERROR] [app] : Exception on /update_profile [POST]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 187, in update_profile
    flash('Tots els camps són obligatoris', 'error')
    ^^^^^
NameError: name 'flash' is not defined. Did you mean: 'Flask'?
[2025-03-01 11:41:32,359] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:32] "[35m[1mPOST /update_profile HTTP/1.1[0m" 500 -
[2025-03-01 11:43:53,347] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:43:53,347] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:44:09,227] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:44:09,231] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:09] "GET / HTTP/1.1" 200 -
[2025-03-01 11:44:13,295] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:13,297] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:13] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:21,596] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:21] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 11:44:21,601] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:21,602] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:21] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:30,116] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:44:30,116] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:30] "GET / HTTP/1.1" 200 -
[2025-03-01 11:44:37,287] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:37,288] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:37] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:50,832] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA
[2025-03-01 11:44:50,832] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA
[2025-03-01 11:44:50,833] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:50] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 11:44:51,556] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:44:51,557] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:51] "GET / HTTP/1.1" 200 -
[2025-03-01 11:49:51,513] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:49:51,513] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:49:54,553] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:49:54,555] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:49:54] "GET / HTTP/1.1" 200 -
[2025-03-01 11:49:57,138] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:49:57,138] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:49:57] "GET / HTTP/1.1" 200 -
[2025-03-01 11:50:01,040] [DEBUG] [app] : Asignem nonce a la sessio actual: ca63e4a0c76269cf3cbed01f6e36f2e1
[2025-03-01 11:50:01,040] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 11:50:01,041] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:01,815] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 11:50:01,820] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 11:50:02,405] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:03,334] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 11:50:03,339] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:04,221] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 11:50:04,229] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkVENFAzSFZwQjVHN0c4ZzMxS1lDSGFpRmJPT0NFOS1reE9YM3poWjZfV1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4Mjk4MDMsImV4cCI6MTc0MDgzMzQwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODI5NTA5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.SJ0RUnNshowtszjZaFD4Y7bZuJjXmpCbU0AhrIWJUzlI1R8-V0e0eMV5Ii8hZDx68SE5vpjCvMEe7LHan-J7qYK8Wgn6kV9XU_UyZSPvNAthth9EaCPI4XHc2UgnTDXKRGDjA2XaywnCeSPlfAgxjG2LvXE277kiL7R4mEr_xaf9FOi_0F3IzDhwddO6GMYURTTAbKuOFI5M6UqX-gQuNXqyR7EFQdynuqrjMVPwntkh-OCyWEZcz6mAp49EBnltefhsPOOSqTY95UevSMigxdlOnlGfNaaE7yG0rXHlyX9J9LzAJ6IYIpY6GvnwQotQVUoluZ0QvIcg4aWL-XAk1Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4Mjk4MDMsImV4cCI6MTc0MDgzMzQwMywianRpIjoiSUQuMXkycEx1aHAyTlgxUGlhRTZNM3o0VE9rZHdhVmxpWjkxY1lsZTU5eE5WayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhNjNlNGEwYzc2MjY5Y2YzY2JlZDAxZjZlMzZmMmUxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTUwOSwiYXRfaGFzaCI6IlpsdlIzeFE5a2F6X2VKNHdsM2cwX2cifQ.PGQsS2kMWPy9lDT28mw5mQtmwQvPrzGKxPBUQOnK323nO_6OoeaECL-FqwR21P5aabkIJog64lTSrxo2P_Y9ZiwMj5pUF-wGEUUumgCA8PoEyhhTR7phFJCWkDEC4jPghSx_IdSdvFnn22s72kqS7_c_jvsZnPMEaLKnaIG2jFgOAwoZkKiA4m7S11U4BhfHHhtlUTvIryqkhsHZ84-WUpD-lEdkTVZzaRxempQTFDSTgX6GT1CAqhd4WyzZ_mbHdTR85Z1eKzyfHjW-KDHyT-av-ZsbCY7uXxNTS6Dx_SWk3caK-vMqHzHMrS-QDVvxOpBPE0GOABhFPvXcpdOGQQ', 'expires_at': 1740833403, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740829803, 'exp': 1740833403, 'jti': 'ID.1y2pLuhp2NX1PiaE6M3z4TOkdwaVliZ91cYle59xNVk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ca63e4a0c76269cf3cbed01f6e36f2e1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740829509, 'at_hash': 'ZlvR3xQ9kaz_eJ4wl3g0_g'}}
[2025-03-01 11:50:04,230] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:50:04,242] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:50:04,243] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:04] "[32mGET /auth/callback?code=Yx3wxixjKYKW5vkorwg5DrjSLfn62U57cYXjTocbwyE&state=swYwqEd1kiIXObXxZNREgc7VZ39F93 HTTP/1.1[0m" 302 -
[2025-03-01 11:50:04,248] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:50:04,248] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:04] "GET / HTTP/1.1" 200 -
[2025-03-01 11:50:23,368] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:50:23,370] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:23] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:51:54,598] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 11:51:54,598] [INFO] [app] : full_name: None
[2025-03-01 11:51:54,598] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:51:54] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 11:51:54,606] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:51:54,607] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:51:54] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:02:32,538] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:02:32,538] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:02:39,898] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:02:39,901] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:39] "GET / HTTP/1.1" 200 -
[2025-03-01 12:02:43,937] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:02:43,940] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:02:55,363] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:02:55,363] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:02:55,366] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:02:56,259] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/None HTTP/1.1" 404 None
[2025-03-01 12:02:56,260] [ERROR] [app] : Error obtenint usuari d'Okta: {"errorCode":"E0000007","errorSummary":"Not found: Resource not found: None (User)","errorLink":"E0000007","errorId":"oaeUJ7XyYRgRyWE6R8CQTGfjA","errorCauses":[]}
[2025-03-01 12:02:56,261] [INFO] [app] : okta_user_id: None
[2025-03-01 12:02:56,262] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:56] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:02:56,268] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:02:56,269] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:56] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:08:38,114] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:08:38,114] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:08:48,299] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:08:48,302] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:48] "GET / HTTP/1.1" 200 -
[2025-03-01 12:08:49,660] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:08:49,663] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:49] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:08:57,929] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:08:57,929] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:08:57,930] [ERROR] [app] : Error en actualitzar el perfil: 'dict' object has no attribute 'email'
[2025-03-01 12:08:57,931] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:57] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:08:57,935] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:08:57,936] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:57] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:11:42,906] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:11:42,906] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:11:47,417] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:11:47,419] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:47] "GET / HTTP/1.1" 200 -
[2025-03-01 12:11:52,105] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:11:52,107] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:52] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:11:57,199] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:11:57,200] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:11:57,200] [ERROR] [app] : Exception on /update_profile [POST]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 185, in update_profile
    app.logger.info(f"email: {user.email}")
                              ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'email'
[2025-03-01 12:11:57,202] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:57] "[35m[1mPOST /update_profile HTTP/1.1[0m" 500 -
[2025-03-01 12:14:43,664] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:14:43,664] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:16:04,338] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:16:04,341] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:04] "GET / HTTP/1.1" 200 -
[2025-03-01 12:16:07,395] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:16:07,398] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:07] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:16:10,500] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:16:10,500] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:16:10,500] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:16:10,503] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:16:11,410] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:16:11,411] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:16:11,411] [INFO] [app] : okta_user_id: 00umxga28fj2SXH2P5d7
[2025-03-01 12:16:11,412] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:16:12,414] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:16:12,415] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-01 12:16:12,421] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:12] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:16:12,426] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:16:12,427] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:12] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:26:05,209] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:26:05,209] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:26:15,774] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:26:15,777] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:15] "GET / HTTP/1.1" 200 -
[2025-03-01 12:26:28,338] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:26:28,341] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:28] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:26:41,364] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-01 12:26:41,365] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-01 12:26:41,365] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:26:41,367] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:26:42,409] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:26:42,409] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:26:42,410] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:26:43,386] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:26:43,387] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-01 12:26:43,392] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:43] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:26:43,398] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:26:43,399] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:28:26,907] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:28:26,908] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:28:30,285] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:28:30,289] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:30] "GET / HTTP/1.1" 200 -
[2025-03-01 12:28:31,398] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:28:31,401] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:31] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:28:40,818] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:28:40,818] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-03-01 12:28:40,818] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:28:40,821] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:28:41,832] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:28:41,835] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:28:41,837] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:28:42,832] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:28:42,833] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-01 12:28:42,837] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:42] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:28:42,842] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:28:42,843] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:42] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:29:32,409] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:29:32,409] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:29:35,481] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:29:35,484] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:35] "GET / HTTP/1.1" 200 -
[2025-03-01 12:29:36,261] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:29:36,264] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:36] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:29:41,589] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-01 12:29:41,589] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-01 12:29:41,589] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:29:41,592] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:29:42,618] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:29:42,621] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:29:42,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:29:43,597] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:29:43,599] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-01 12:29:43,606] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:43] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:29:43,611] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:29:43,612] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:30:09,682] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:30:09,683] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:30:09] "GET / HTTP/1.1" 200 -
[2025-03-01 17:35:47,444] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:35:47,445] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:36:09,823] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:36:09,823] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:36:13,019] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:36:13,022] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:13] "GET / HTTP/1.1" 200 -
[2025-03-01 17:36:13,106] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 17:36:13,107] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 17:36:34,056] [DEBUG] [app] : Asignem nonce a la sessio actual: ca0bc85c7161cc42aaf7e3d09d578c34
[2025-03-01 17:36:34,056] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:36:34,058] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:35,061] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 17:36:35,062] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:36:41,424] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:42,384] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:36:42,389] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:43,261] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 17:36:43,275] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBpLURaNUR2X2pGWVdWSEVfYzA2cldCU2daWWlwZjR4S3RFOU1lTG02NjQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODUwNjAwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.CyYEIzokpshw53rzM3cnCfk1BX981a46F0OJj527WdDnQoBagRN1ysEt7-xhPGQm7Ze7sYcbrexP70KoAJ9yCx9XSLspEY22ldEseT3T5ASKy5WhpRlVBbPLpo5MXCJJV-K8JQ7Vnwlc0I2X8tEMIYyniEhgRcgrF0w58f9aC-3_ZBhGuowICp_K7SQqmkyaL_vWWvhZm77CzK8ZDfEYC7p8UJrjn-VEAghOWFQNvMCrUIbJBkywEN8SBh2Olvg1uZpHHymiASCDOuJo6QjxCMytKcEvYiHIzm87fKtarw8roFpv9gx_pgdifXm5QvH3-jXJ3V3Ob96ZV9KcVtPadA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ', 'expires_at': 1740854202, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740850602, 'exp': 1740854202, 'jti': 'ID.Vg29i4lI5ha58ZOgxpOzgjK2U3hJTJe8CZz2AByNLX4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ca0bc85c7161cc42aaf7e3d09d578c34', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740850600, 'at_hash': '_UbBJkZICqdHdWaJIqxTPQ'}}
[2025-03-01 17:36:43,276] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:36:43,325] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:36:43,326] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:43] "[32mGET /auth/callback?code=nUX6PbAI6z5EC2P8II3DolsZPDCh3BewJSSsGM0szRI&state=61Hv2ICE9Dx9CCp6gpGorqVaIhn5uQ HTTP/1.1[0m" 302 -
[2025-03-01 17:36:43,330] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:36:43,330] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:43] "GET / HTTP/1.1" 200 -
[2025-03-01 17:36:57,241] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 17:36:57,244] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:57] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:37:15,545] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:37:15] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:37:24,035] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:37:24,035] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:37:24] "GET / HTTP/1.1" 200 -
[2025-03-01 17:38:06,293] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ
[2025-03-01 17:38:06,294] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ
[2025-03-01 17:38:06,294] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:38:06] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 17:38:06,931] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:38:06,931] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:38:06] "GET / HTTP/1.1" 200 -
[2025-03-01 17:42:27,166] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:42:27,170] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:42:27] "GET / HTTP/1.1" 200 -
[2025-03-01 17:42:27,664] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 17:42:27,665] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:42:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 17:43:14,741] [DEBUG] [app] : Asignem nonce a la sessio actual: 97869256f07a92b6a936656dadc24539
[2025-03-01 17:43:14,741] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:43:14,743] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:14] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:43:15,379] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:43:16,469] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:43:16,475] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRXNUpNUmpUdXdPTnJwSG5SLXFyUURmSFMwTktWbjdhQ2djeW83MkZ3UHMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwODUwOTY1LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.bck_XGvuKjKkSHX13848lDYrcU5xSA3KLxYJEfh8CoTBr8CBpC82RpAxqZPWjzT9kmTzQgg1UHBk0S2UcceIAXtVOkd868e7g5-EHCknjTXrYw6dprDMg07XGXsobdCFcbxd4aLyOTcfLxCiPNObELbaNRA-dXg0lhnyJVWYFQHIimXsXlyHwzLqAuXICKXhecOMfwFMe6VxzE63jvCqu1VCDWB8zjPFlRhEjVcd_bPihVP9K2o9xfY2L6Sjl7wnHew1iJxV2IcUlP0InnzM_p5C3yxA2xgVNcMe2ljXYDPp_DrUJKLMmsNHhU2DDU3AiiINzvmWA9bjnd43y8CZDQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q', 'expires_at': 1740854596, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740850996, 'exp': 1740854596, 'jti': 'ID.0pwb-nu2XmZIFDDr6wUPFFfRWY32JZRG-VdV-IkhJc4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '97869256f07a92b6a936656dadc24539', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740850965, 'at_hash': '45dXz8LynZ41rr16_cefAQ'}}
[2025-03-01 17:43:16,475] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:43:16,477] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:43:16,478] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:16] "[32mGET /auth/callback?code=UV-T8DUDdjwKC_U_Jh7hRxISACfozMXcl6b4b09j5U8&state=3N7WchqsdCEHlKsqjVbjJQv7hna97x HTTP/1.1[0m" 302 -
[2025-03-01 17:43:16,481] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:43:16,482] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:16] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:21,109] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q
[2025-03-01 17:43:21,109] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q
[2025-03-01 17:43:21,109] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:21] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 17:43:21,957] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:43:21,958] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:21] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:23,001] [DEBUG] [app] : Asignem nonce a la sessio actual: b179bbeb9a11ccca7aae83b688aee3b7
[2025-03-01 17:43:23,002] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:43:23,002] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:43:36,382] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:43:37,332] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:43:37,336] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnpvZ2tETmN2VndacThIclo2SmNSMnl4TkpPMk1jeWZRdlBhS0N5aW9nV1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTEwMTcsImV4cCI6MTc0MDg1NDYxNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODUxMDE1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Tprbwd7XvLIj7_cgdE5ZmRt7XGAsxiVM1InJZUCla22YAJjPjOYOABisVurWldPZr2AFQQ8VaIPwM-cNYx9j0r4RxW81OxPHmMYs0dsFSpL5fn4Sa4qarplBieXnYEgWuVuVaolC_miea6owGADnLvRVUoX-g5MsYcuTyjhj2MemBPUyyR_3kdC6nqeQvJZ3bb_1-09kfTBeF7tAcRSzyeCOycBd6HhxQAeIJz127mnHBs0vhA2QUgC2gtMwuPoSqLRH0oYhOTSBRH6jf16esovgaUVXLTvK8rrC-NVv1BlZ7VcHz7lCjWIm2pavZkeAFyTY9pDFR1cnxaq3AQlktA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTEwMTcsImV4cCI6MTc0MDg1NDYxNywianRpIjoiSUQubHpyQkNRNjFyWnJUSG5zdEE5UEJZalQ4VXp3cEFGMlFDWXpjMHFLUWpySSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImIxNzliYmViOWExMWNjY2E3YWFlODNiNjg4YWVlM2I3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDA4NTEwMTUsImF0X2hhc2giOiJ0c3JRLVd0TERPT09od0lUakFORlBRIn0.G-X1mcCHLGhrZXmnhCpOVZPui4neDSU5G61U46ChA11snKkHDkxGBkTJtOmxsl9WADve-yFdeu0D-oRh17lnHbhSTGvVVu6ocVNPrufem_6GQ1Sb_2ffCPFfXmfpa99rRLLSd66aAtTIci0epof15e-wjFyEp8bP7zul3t0f8jAVtgWPz-zpXKLRgPp6th8RIMo8hP906EwfZ_hA_bDBY8bYqMQGkUi79N99u4OeIcSE3eRQtcGdBzl4YuIKmARmbPi4QOCmZ5DAc9oYG-25PZqKfq-4BdIrb1hi5oAWBm6fofzrqFD_DtMjiAqDtwbSOXGlg19ROVipk5n3yysrog', 'expires_at': 1740854617, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740851017, 'exp': 1740854617, 'jti': 'ID.lzrBCQ61rZrTHnstA9PBYjT8UzwpAF2QCYzc0qKQjrI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b179bbeb9a11ccca7aae83b688aee3b7', 'preferred_username': 'user1@test.com', 'auth_time': 1740851015, 'at_hash': 'tsrQ-WtLDOOOhwITjANFPQ'}}
[2025-03-01 17:43:37,337] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-03-01 17:43:37,339] [INFO] [app] : User trobat in db: user1@test.com
[2025-03-01 17:43:37,340] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:37] "[32mGET /auth/callback?code=4Wv5bf_7_P5dMTwWZHPk4K6y90UhGo8uuvDao6zbqHo&state=nVK1w3IWtgT7ghJ0lJ0x9yW1rJZ80z HTTP/1.1[0m" 302 -
[2025-03-01 17:43:37,344] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:43:37,344] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:37] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:39,067] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:43:39,067] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:39] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:44:00,513] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:44:00,513] [INFO] [app] : NEW full_name: user1
[2025-03-01 17:44:00,513] [INFO] [app] : email: user1@test.com
[2025-03-01 17:44:00,515] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:44:01,442] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:44:01,445] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:44:01,447] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:44:02,331] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 400 None
[2025-03-01 17:44:02,333] [ERROR] [app] : Error actualitzant perfil d'usuari a Okta: {"errorCode":"E0000001","errorSummary":"Api validation failed: lastName","errorLink":"E0000001","errorId":"oaeskjPE6oiRTK4yDoFdBoHQQ","errorCauses":[{"errorSummary":"lastName: The field cannot be left blank"}]}
[2025-03-01 17:44:02,336] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:02] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 17:44:02,341] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:44:02,342] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:02] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:44:26,950] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:26] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:45:04,400] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:45:04,400] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:45:04] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:45:04,405] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:45:04] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:46:51,196] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:46:51,197] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:46:51] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:46:51,202] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:46:51] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:49:21,978] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:49:21,978] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:49:30,023] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:49:30,026] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:30] "GET / HTTP/1.1" 200 -
[2025-03-01 17:49:35,195] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:49:35,198] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:35] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:49:48,798] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:49:48,799] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:48] "GET / HTTP/1.1" 200 -
[2025-03-01 17:49:52,068] [DEBUG] [app] : Asignem nonce a la sessio actual: 35de7eab7b756dcd4c0501edfc641b7e
[2025-03-01 17:49:52,068] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:49:52,069] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:49:53,026] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 17:49:53,027] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:53] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:50:06,203] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:50:07,156] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:50:07,157] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:50:08,049] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 17:50:08,058] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm5kNTBEMVVmVFZ4VW1oQURwaWRtMWp4bm1qUkcyd0JCSHl5Uk5hZ1A5MzAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTE0MDcsImV4cCI6MTc0MDg1NTAwNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwODUxNDA1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Dnxx3ZDMlzT8lpAFITO_l5FNz55rvbBNkuenHnBtHYyTw7odrz--G-HyPX7qzbQZsv7nDME5uhhNUs9mS7xsePPTrkxf-8GAUs0Gf30J3qYKR-iZLEAQv6_PnJmZEcd3ZN2BMv1p94gTXw9OOrE45MNs6HcNt1K3x7gBKT-FrFHWUrZkEZRKqD2aFBWaf7IeAMFCHTDO1sdgfwtbtUYmW6r41d6gR0kL2-lytG5K3GbuMbSPJgjdl00r8HHAvjkkImNMCIUsQoKKZxQPmhSajfkPooczamwZkPyQSyeA45EMRjBZ1Oo8SUcCx3UX4X9cx2FXFUq1CTpeR5-h5aTbOw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTE0MDcsImV4cCI6MTc0MDg1NTAwNywianRpIjoiSUQuS2Uydkg2QVAyeHp5bnFlUWxJZ21nTXEtLVRVME5NMVpGRVlhUGZBOS1NVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1ZGU3ZWFiN2I3NTZkY2Q0YzA1MDFlZGZjNjQxYjdlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDA4NTE0MDUsImF0X2hhc2giOiJGUjJMWmZ6bTBtdnhRbTlKZ19lSXZRIn0.pSIh_vOqt9pyUnmsyCtvYD_eTmBih7rTzI_0m2baHrVUSTrGIQvsJll6JrFRQ66Fpir6MvyPXypZC3c1oQj2VyWnBPWloj4ANmT9pDO7c6LGJK3euhNJZIbfbJFG0F76oPBPdxHm2CkG4SPD5dhtRandUHlm2ciBNWyzUeWjTBZdgjPRq-o_aGngUiwYD3cK0AnIkiREMrkX_GS6-Fjch4P-QfAw3VXUwmZfDW3cdWHz7XQh-MvqpLzEMoFYCJHp9ZefAqjLrC8az6oGvOpzLMEe9ep57JTv11_M-JH7FLsTNCtSkabW6BEVbuPJIWXz48lJczVq7_f7K13oCDhrqw', 'expires_at': 1740855007, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740851407, 'exp': 1740855007, 'jti': 'ID.Ke2vH6AP2xzynqeQlIgmgMq--TU0NM1ZFEYaPfA9-MU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '35de7eab7b756dcd4c0501edfc641b7e', 'preferred_username': 'user1@test.com', 'auth_time': 1740851405, 'at_hash': 'FR2LZfzm0mvxQm9Jg_eIvQ'}}
[2025-03-01 17:50:08,059] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-03-01 17:50:08,061] [INFO] [app] : User trobat in db: user1@test.com
[2025-03-01 17:50:08,062] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:08] "[32mGET /auth/callback?code=BLbdKk7A-toIMs0iZsujDIflO4hSuSfdA9cR_nSS7co&state=2p6kIJeskVfYkUGdTqmu3ChVpbOk4M HTTP/1.1[0m" 302 -
[2025-03-01 17:50:08,065] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:50:08,066] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:08] "GET / HTTP/1.1" 200 -
[2025-03-01 17:50:12,897] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:50:12,898] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:12] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:50:17,646] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:17] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:50:34,415] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:50:34,416] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:34] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:50:34,420] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:34] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:51:53,581] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:51:53,582] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:51:53] "GET / HTTP/1.1" 200 -
[2025-03-01 17:52:47,567] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:52:47,567] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:52:58,545] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:52:58,548] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:52:58] "GET / HTTP/1.1" 200 -
[2025-03-01 17:53:03,881] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:53:03,885] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:03] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:53:07,470] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:07] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:53:21,225] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:53:21,226] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:53:22,158] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:53:22,159] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:53:22,159] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:53:22,159] [INFO] [app] : newpwd:user1user1
[2025-03-01 17:53:22,160] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:53:23,323] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 403 None
[2025-03-01 17:53:23,324] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeMhxV4Gc0QV-hcpKcoE8DGQ","errorCauses":[{"errorSummary":"This password was found in a list of commonly used passwords. Please try another password."}]}
[2025-03-01 17:53:23,325] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:23] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:53:23,329] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:53:23,330] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:23] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:54:17,163] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:17] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:54:49,584] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:54:49,585] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:54:50,563] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:54:50,566] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:54:50,566] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:54:50,567] [INFO] [app] : newpwd:Test123!
[2025-03-01 17:54:50,568] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:54:51,754] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 403 None
[2025-03-01 17:54:51,757] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeB-DuRrBuTa-nSH8WqF6qkQ","errorCauses":[{"errorSummary":"Password requirements were not met. Password requirements: at least 8 characters, no parts of your username. Your password cannot be any of your last 4 password(s)."}]}
[2025-03-01 17:54:51,759] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:51] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:54:51,764] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:54:51,765] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:51] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:55:23,384] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:55:23] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:56:01,697] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:56:01,698] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:56:02,750] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:56:02,752] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:56:02,753] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:56:02,753] [INFO] [app] : newpwd:PruebaPrueba123!
[2025-03-01 17:56:02,755] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:56:04,045] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 200 None
[2025-03-01 17:56:04,047] [INFO] [app] : Contrasenya actualitzada a Okta
[2025-03-01 17:56:04,049] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:04] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:56:04,053] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:56:04,054] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:04] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:56:13,152] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:13] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:56:14,471] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:56:14,472] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:14] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:57:50,562] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:57:50] "GET /password HTTP/1.1" 200 -
[2025-03-31 16:39:11,375] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 16:39:11,376] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 16:40:41,591] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 16:40:41,591] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 16:40:49,288] [INFO] [app] : Usuari no autenticat.
[2025-03-31 16:40:49,292] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:49] "GET / HTTP/1.1" 200 -
[2025-03-31 16:40:49,362] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-31 16:40:49,362] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-31 16:40:52,195] [DEBUG] [app] : Asignem nonce a la sessio actual: da637ad2d8923c68c5f9573365a6f215
[2025-03-31 16:40:52,195] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-31 16:40:52,197] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:53,044] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-31 16:40:53,046] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:53] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-31 16:40:53,685] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:54,677] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-31 16:40:54,679] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:55,575] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-31 16:40:55,589] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlUzeUU4NU1FQ3VGTXFMY2hBMlUwSHFkNUFRVmpLTHR1TS14VHF0STVzLW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM0MzkyNTQsImV4cCI6MTc0MzQ0Mjg1NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNDM4Mzk0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.AvMwWc7oX9MqLOZ1Gt0YEU2v_Y7r47jm0dPVN_9sqi3KkQp363YB5sEs3TqK6A-ehAcAODXdnC7AF7X-YPdAl3k6j1s4rAkgTIJDvFzOByHQHVOW9Vp9UR04tc9QVDR4Ynd-z7bTR6fsGpvzGQjGtmiWEK7DGqkDunmmIz-BkNDsJzIur8VyVeHCUdd23ks4vzGwaNpvz8JzLXnHvbSkDjPQ2CTOrjB-pGy9bl51rdSwdoH34Y6hR4QK4ZuZbJlWguT57k08s8A6eYoQVGJM-Lf3fL7fYrHY4fyZYd3pcEX6ughjWjxy_605897POOqW5deSdNv-bniOUZV3NAsKXw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM0MzkyNTQsImV4cCI6MTc0MzQ0Mjg1NCwianRpIjoiSUQuR0xBbk96WDRxWWxNdEdYNUVKLTQ3MW80R0VkM1VyMHZIY1laQzY1eERTcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRhNjM3YWQyZDg5MjNjNjhjNWY5NTczMzY1YTZmMjE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzQzODM5NCwiYXRfaGFzaCI6IjBNSDRfd0s2ZEVuYkotVHUwdkRQN3cifQ.Tmhl1_8dgDkuXiBPXY4oD6J3Pk2-PLY45dngBsRkUbR2oWJeVKKvDbz616FAxR7b08w0CxudDXbOdTxhdJ6Fn4yBQUnq83v2naFWr41XflQIHvj_qTxo1muhg3TY4f-Qn-fisUibJf6sYzaMy--oycQbg8pqaSQPhcnZvDMFUKfRKsaDh3J6vVoVcXDI-EO52t64zHTCE8UBwdZkkmrx7K_I0xtL3TWXGVxWadg7LZ_ARJfP2JCLZmzgJSghE0ZyaibjkuxA74E_iC0gP87iFZ89tDxLYwrg-ec8WA5-G_hh3OE2dQ91gw0teTlYnSsVE8GAjahVmvJkrv7HHEII0w', 'expires_at': 1743442854, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743439254, 'exp': 1743442854, 'jti': 'ID.GLAnOzX4qYlMtGX5EJ-471o4GEd3Ur0vHcYZC65xDSs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'da637ad2d8923c68c5f9573365a6f215', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743438394, 'at_hash': '0MH4_wK6dEnbJ-Tu0vDP7w'}}
[2025-03-31 16:40:55,589] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:40:55,633] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:40:55,634] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:55] "[32mGET /auth/callback?code=OBlSit2P5mMevH0oU0lQlX1s_B7ZvaqKME_6IJvAxmM&state=0rzcU7DwuDraEVHbEwf7umR5wXbRd0 HTTP/1.1[0m" 302 -
[2025-03-31 16:40:55,642] [INFO] [app] : Usuari autenticat.
[2025-03-31 16:40:55,642] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:55] "GET / HTTP/1.1" 200 -
[2025-03-31 16:40:58,624] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 16:40:58,627] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:58] "GET /profile HTTP/1.1" 200 -
[2025-03-31 16:42:55,272] [INFO] [app] : upduser user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-31 16:42:55,275] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-03-31 16:42:55,275] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:42:55,276] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:42:56,245] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-31 16:42:56,247] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-31 16:42:56,248] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:42:57,292] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-31 16:42:57,293] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-31 16:42:57,299] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:42:57] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-31 16:42:57,312] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 16:42:57,313] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:42:57] "GET /profile HTTP/1.1" 200 -
[2025-03-31 16:43:03,747] [INFO] [app] : Usuari autenticat.
[2025-03-31 16:43:03,747] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:43:03] "GET / HTTP/1.1" 200 -
[2025-03-31 17:33:16,762] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:33:16,763] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:51:55,982] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:51:55,985] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:52:20,602] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:52:20,603] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:52:31,905] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:52:31,908] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:52:31] "GET / HTTP/1.1" 200 -
[2025-03-31 17:52:38,092] [ERROR] [app] : Exception on /profile [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "None" to address: Temporary failure in name resolution


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 194, in profile
    db_user = User.query.filter_by(email=user["email"]).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name "None" to address: Temporary failure in name resolution

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-03-31 17:52:38,103] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:52:38] "[35m[1mGET /profile HTTP/1.1[0m" 500 -
[2025-03-31 17:54:13,544] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:54:13,544] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:54:20,264] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:20,266] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:20] "GET / HTTP/1.1" 200 -
[2025-03-31 17:54:21,739] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:21,742] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:21] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:28,406] [INFO] [app] : upduser user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-31 17:54:28,407] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-31 17:54:28,407] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 17:54:28,408] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 17:54:29,480] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-31 17:54:29,481] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-31 17:54:29,482] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 17:54:30,503] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-31 17:54:30,504] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-31 17:54:30,509] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:30] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-31 17:54:30,522] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:30,523] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:30] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:35,271] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:35,272] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:35] "GET / HTTP/1.1" 200 -
[2025-03-31 17:54:36,643] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:36,644] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:36] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:38,511] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:38,511] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:38] "GET / HTTP/1.1" 200 -
[2025-04-02 15:42:54,601] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 15:42:54,602] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 17:43:11,730] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 17:43:11,730] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:03:22,708] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:03:22,712] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:22] "GET / HTTP/1.1" 200 -
[2025-04-02 18:03:22,792] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-02 18:03:22,793] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-02 18:03:23,997] [DEBUG] [app] : Asignem nonce a la sessio actual: c18bbe75545511a43e2fb9a189692414
[2025-04-02 18:03:23,997] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:03:23,999] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:24,845] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:03:24,847] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:24] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:03:25,508] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:26,521] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:03:26,524] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:27,471] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:03:27,488] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlJwYjJBemdELWc0SUdyOTVia29JVktBWUJsMlFwbm1Mek16cUw5a3FHc0kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTcwMDYsImV4cCI6MTc0MzYyMDYwNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjE2ODA3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Yjku3Ie65PuWnluu4YrBSHSY_Z5MNJ47yPvwIX0DmsmkC1ahKUd3sCPQHX0qnqCVFswR4q3d_x-ycZAbXuJdZyINpuePBOlgdX_aKE9YUe5aXTEWFUaWQ2Yj--QauEbhLD1jPkeeYDHvXgnrSjF4-Eh3PtLc6XChnn37X7cHTbaY07lUX3MYLpZ2RopLPPJVKIynFgyyz-jOJedn2htz00KU9AtjhSYMoVNBMXETOKPFkLKhRvnWMlAzBZZwDIUPGUjJWPWvOZtBzTOIYKEpdQg5sedglwfnMlbinFdrufAUn3ZhFwIoZk8YqES0pibDN9czcKPIJ506RzbKk-xceg', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTcwMDYsImV4cCI6MTc0MzYyMDYwNiwianRpIjoiSUQuV3FURVRnWTJLSklUSUVWZW9vbDJuaDItQjRaTVhDa1VUSGpJNm9wX3BydyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImMxOGJiZTc1NTQ1NTExYTQzZTJmYjlhMTg5NjkyNDE0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzYxNjgwNywiYXRfaGFzaCI6IkFhWmtOTFV0QzBTamdlYmN3V2p6bWcifQ.mN0bM65Lc6eI5ojDGs2bus54rWj7SjTF3vnLaSFS5NSvF-gZEo8TC733M3lBFv6Z6xD5NWn-L4aV2zyMo2RkYBB-ISKEOJK0Y5sVe9OEby6TezaMgOn-OdtJh2l63cmfNklhmSYoNn5Kxl9ejRQZ1KXqKhY6rbSJ3bioGwsKzV6AZM5Z-mSsgRrLofgV6k1j3O0idOfl8_wluBiJGyZWRoZbmLb1ejWP1QTWM-rk43WtxVebGGs1y-WnU2Lb7fAlO_rCvsk2MPVlxNgJOdKtXsosqc9Pq7Mm7uyxb-3UEhSAfHEOilT-ya7-oc8Pn1ALGR7K7z0s5LCr3CpuidVfFA', 'expires_at': 1743620606, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617006, 'exp': 1743620606, 'jti': 'ID.WqTETgY2KJITIEVeool2nh2-B4ZMXCkUTHjI6op_prw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c18bbe75545511a43e2fb9a189692414', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743616807, 'at_hash': 'AaZkNLUtC0SjgebcwWjzmg'}}
[2025-04-02 18:03:27,489] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:03:27,509] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:03:27,510] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:27] "[32mGET /auth/callback?code=ZLdfR4wDh0fQ11R3dHeQbkvadM7m-ezi0twyiSo-Ndo&state=Cnz2JkO7Eb2L0F90B3ZUvReeAsllT4 HTTP/1.1[0m" 302 -
[2025-04-02 18:03:27,518] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:03:27,518] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:27] "GET / HTTP/1.1" 200 -
[2025-04-02 18:07:43,958] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:07:43,958] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:07:43] "GET / HTTP/1.1" 200 -
[2025-04-02 18:07:52,906] [DEBUG] [app] : Asignem nonce a la sessio actual: 2a75d251023fc921da6eb515ddd4c3b2
[2025-04-02 18:07:52,906] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:07:52,907] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:07:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:08:09,382] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:08:10,323] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:08:10,327] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJuci1Nb1FHSGpubWJaRHNIOTdpZUJ1Z0dLbGlBNkVuTE1QakxIbU81bTgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTcyOTAsImV4cCI6MTc0MzYyMDg5MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE3Mjg4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.gYH__HcaJH2xjmwBW2Qjv-ee2CCmUR2FfTfwmRDRoZfW-CYJ1p-Oc9-y-NRXFfeo-o9U2cT4tAViX-H4PRJz18bPVtP6lS37y9_-YXqkCo3dpsuEHAs0LD9bbC3lMSwijiJ9HjhljY47av1b42gocrUJu3g6-Ftx-51GcUKFmyCKHClPlW1sYL52E38XE50hkGeYuUcDrM7koAlp5CqM1D6DPBvZt_0N96Aa8Uh7GyJltd2nMVQjzzvqpjly4ubdrd2eOqNfepuyGauWn3hRwxLXj7uBrnXOn7cWOzyLc6CzeyvRGFXkWqOLOwCW3a9dLglHJkZoYoFVgoAE-TaO0A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTcyOTAsImV4cCI6MTc0MzYyMDg5MCwianRpIjoiSUQuNFBwNWJRTHVGT2Y5V1JZQlJCNmlTZlNJaGtzUkljR0RsVEVrbmt2TWlUWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjJhNzVkMjUxMDIzZmM5MjFkYTZlYjUxNWRkZDRjM2IyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzYxNzI4OCwiYXRfaGFzaCI6InJjN3d5R1JRTmpmRVB4Z29lVVMwZ3cifQ.Ao13MXqNYkdZ-VFQrR2AWBGA6F-dCzBMjlRWuNYz7N5fZeXi06zqVT8kxRZGtdyJzxzdQ1I6uspSTFz74dZs6cqp6PGUe7MEOQCZevAIY9wLsgi6uFe-r-tdYpCQbM8ud0PdXNkoLataUdsVRRg1HM9-XkKGMX_YBSiMPZ4s44OQW_b_Q8PsLwVSTyZcciswWQ_ZIaSkfWbgQihSX1NYbSeH8uV1kB4qAK__yLI3blt7zWKO74KIERHwJWkZyk-INm11ENu0azmR7dIb_UVeufsxA1Xj-Fgr7g2Kl4XznD-gWgwVaIcIGnsAbXtYEmX5N66jOemVe8-hQKqUM0wfiQ', 'expires_at': 1743620890, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617290, 'exp': 1743620890, 'jti': 'ID.4Pp5bQLuFOf9WRYBRB6iSfSIhksRIcGDlTEknkvMiTY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2a75d251023fc921da6eb515ddd4c3b2', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743617288, 'at_hash': 'rc7wyGRQNjfEPxgoeUS0gw'}}
[2025-04-02 18:08:10,328] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:08:10,333] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:08:10,334] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:08:10] "[32mGET /auth/callback?code=ItZ_bM0JnD8qSMN1pGeRORcqMulppTI5Kt86tAEe7aE&state=f9TsoyHfV6Zx7D3Mjwq8sXne74TVrX HTTP/1.1[0m" 302 -
[2025-04-02 18:08:10,345] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:08:10,345] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:08:10] "GET / HTTP/1.1" 200 -
[2025-04-02 18:13:30,209] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:13:30,209] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:13:41,903] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:13:41,906] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:13:41] "GET / HTTP/1.1" 200 -
[2025-04-02 18:13:49,543] [DEBUG] [app] : Asignem nonce a la sessio actual: 0e6ca07b4edabb0bf1258a3577993a16
[2025-04-02 18:13:49,544] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:13:49,544] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:13:50,427] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:13:50,429] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:13:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:14:29,742] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:14:30,697] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:14:30,699] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:14:31,623] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:14:31,629] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhyVkxzRE5ERkxqRWlGSkFhY0RKb0ZwaEo2UmhYN2lUbmtBM1lyXzZqVmMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTc2NzAsImV4cCI6MTc0MzYyMTI3MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjE3NjY5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.k1ZZBRpYmW5eWMje4Ix0wkO1Pc3DFFvJra5y9S_U8cK0Pbcc3IsRPQs4MvQTD6yNQ55Uhzf2N8R3nrmaPbFDXr31zfvdaqsODmHbv1f4Aet_zJJvJ-JWfK9TolW12GB9CdR2D-nVb1rpSyQE6A-pIGLOFSTWWXl0-3a3FSTB1Vrn8zefI9KT5hzpV0s0mINXgeDP2oK6wyHIcKx4Ye63cEZo3YI-fjexJo5ViMBPFuLISPrixNX8sGryMRCMQ1fNZXZfLq67zocYM8ERT6f_Nj_bHbVsM7E9kbN2HRxH-JGdPjFkICZ9UKPER08ADfSHxtoT2pEfRSpGK4e2e2n74A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTc2NzAsImV4cCI6MTc0MzYyMTI3MCwianRpIjoiSUQuRXNodmtGY0FRamEwVE5fQUlkTFN1dlZzTDRaUF9QSDkxdkwzQWNlMWVxdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBlNmNhMDdiNGVkYWJiMGJmMTI1OGEzNTc3OTkzYTE2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTc2NjksImF0X2hhc2giOiJPRV9RSXJvMDAwbHo5QnpjM0N3NEVRIn0.goRNN5gs4w7RRAUuOyyneSp5InhzJbZ7WrIUU17B7_HSDM120oyFbAB7Vm2ukBHzCWftFW226ChTRoMcJBw08I4M0xrMlE0uiuWW2jxgoOL_4s5u9zB8A9qUwF-qAjJDMl59rguAWI4Mzd1Qtb2OIFaYyEwUbsCkgAQd4pSqXNeYphEbEd8erl0Yymo2Wzv58esiZwXpAZKlOWFjVGO3uC4lZTcqUIaoM_v1LZZUfY-8ZRV5sX5XrW6x-ld7komMjjK_jHiR2UtXLhw04QckNrMAsW7cVXMdLKqZbt9fqFBSKKJa5xnFmgb3STBH9QIjUSbWtzNKgIPFBc7mXB0KSg', 'expires_at': 1743621270, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617670, 'exp': 1743621270, 'jti': 'ID.EshvkFcAQja0TN_AIdLSuvVsL4ZP_PH91vL3Ace1eqw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0e6ca07b4edabb0bf1258a3577993a16', 'preferred_username': 'user1@test.com', 'auth_time': 1743617669, 'at_hash': 'OE_QIro000lz9Bzc3Cw4EQ'}}
[2025-04-02 18:14:31,630] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 168, in auth
    "eid": user_info["eid"]
           ~~~~~~~~~^^^^^^^
KeyError: 'eid'
[2025-04-02 18:14:31,633] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:14:31] "[35m[1mGET /auth/callback?code=6WZ9v3qsiZi0rVaz2ND07ICf2d__b3KXZPtC5ZIy-bI&state=QRHWwhk55j7euYaYx6A3BkR9SYVM3B HTTP/1.1[0m" 500 -
[2025-04-02 18:18:15,476] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:18:15,476] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:18:32,349] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:18:32,353] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:32] "GET / HTTP/1.1" 200 -
[2025-04-02 18:18:33,305] [DEBUG] [app] : Asignem nonce a la sessio actual: 2041ce7b2b284f28a4337306345d32fc
[2025-04-02 18:18:33,306] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:18:33,307] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:34,042] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:18:34,047] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:34] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:18:51,626] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:52,577] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:18:52,580] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:53,477] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:18:53,482] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhkcU83RG5vY25CeXQwdlFCVGRMR3F6a0g1eWFIcGRSVUYyb1BQRzFjWm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTc5MzIsImV4cCI6MTc0MzYyMTUzMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE3OTMwLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.R9GmGgau85xFNXYwRNPjrWoBsy950O76n_9t8j3YSqYHB98l9y5WDkQp3RBZLZQ583MiGnuyEOPDa9yhAlTcHan1L_aqDH6_ICJXusO3p4m8qD6kqQXsLe3F1031YNowIv78FLc0PIKBHbuugyCu9Ezqx4x8SOG-OnMutU96Zll_dEKJOTpyfzob9Q2_Z7teRJKEmNfP_bRX3u07CKvEwSN0WT7BmtPzzeaO64XUF5BFzK05BNAPVZ-kDWtcv5-eJTgMswjwt2caCzdFUL0qnVzHlqxaD9X14NJyfAziWqEdSJSTyjnZwrsJ0ln_ydN3MqMxAZH8P9G3O5GGClt_lA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTc5MzIsImV4cCI6MTc0MzYyMTUzMiwianRpIjoiSUQudHNMdmRLdWlZVXVsNlFqWHlqV0xvYUhUMTNaa3ZMMzRDNXNESDJIU3RrbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIwNDFjZTdiMmIyODRmMjhhNDMzNzMwNjM0NWQzMmZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTc5MzAsImF0X2hhc2giOiJ4NkQ2ZU5yanhWUDliUVA0OWloOTN3In0.PotwepJY0aL5M-xpVSbpXKVBXoY79S9xz4E6R15dXqqS26HmDRWvifDKRz9pbEaV6yKC3EIcrY9aXxLEYdS8RWAJXVbGr76CkubnJKOT0AG0AzpJuKL-_RGSEo7riPvYs7MFN44OkC2PMEJisVYiK1YdNVmS4fP8IdA8BHHsJNjpCX6SN-ebFaCzjvklSft2KP4Tu2qiA0BvDrt6umM7KeFLZIuORiPzlplJeLc5SI9BEerHbDSzGIeKbsFCDu6BhYST4wryxwDXR-q0v3OmQ8GpzwHZjFjlWlciI9XaDv8GoloJUuHSrHn0cIQgqkKo0sNbKAwSnypJpqiSDCjgEg', 'expires_at': 1743621532, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617932, 'exp': 1743621532, 'jti': 'ID.tsLvdKuiYUul6QjXyjWLoaHT13ZkvL34C5sDH2HStko', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2041ce7b2b284f28a4337306345d32fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743617930, 'at_hash': 'x6D6eNrjxVP9bQP49ih93w'}}
[2025-04-02 18:18:53,483] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617932, 'exp': 1743621532, 'jti': 'ID.tsLvdKuiYUul6QjXyjWLoaHT13ZkvL34C5sDH2HStko', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2041ce7b2b284f28a4337306345d32fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743617930, 'at_hash': 'x6D6eNrjxVP9bQP49ih93w'}
[2025-04-02 18:18:53,483] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 169, in auth
    "eid": user_info["eid"]
           ~~~~~~~~~^^^^^^^
KeyError: 'eid'
[2025-04-02 18:18:53,485] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:53] "[35m[1mGET /auth/callback?code=UNYiEVOsUp3ihGe50ZuzpDhzxxGUqKu9MpwvxwNT8ok&state=el09nbNba3kQL7eOOY63INZFMhs2J8 HTTP/1.1[0m" 500 -
[2025-04-02 18:26:48,794] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:26:48,795] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:27:09,555] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:27:09,560] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:09] "GET / HTTP/1.1" 200 -
[2025-04-02 18:27:11,083] [DEBUG] [app] : Asignem nonce a la sessio actual: b3e9962717ef5e0c794407fd3eab1022
[2025-04-02 18:27:11,083] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:27:11,084] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:12,074] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:27:12,079] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:27:30,326] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:31,320] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:27:31,323] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:32,022] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:27:32,027] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRmVHkzMTd4ZUpEb3ozMk45T0hqM2NOYjg3VFE5WV9zczNoZWI3dW5SLUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTg0NTEsImV4cCI6MTc0MzYyMjA1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE4NDQ5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.XqecZ5sN4FOnIaFZydcv6eQqlaGyQd6QFaHHqPKMJTCtCM3gKhpIputpmnOzwS_j8lG5vtgE2L5oC-5_TkGfAUz_E9stao_zLaXsNBuHglrpCDGI7X6j0r37SPGO_VXuP2Pmp4yTyMhEfFiDkkil3fmq7i_8gm1qTSul6a-Wo9-lNo-IWMdBljDIqWBgcIrHW0pEIOiMv7puL_iQXIfd0QTun_9KTlvR5CfLtKM7oq80tOaNKKECrD7pCHwgWo6GhxzaakeXt_CgG4HTpCAiJDaGOUkWr5EbEXXGK2fLLufzI7-jEfAKowd9a0oh5QKUEL8piQd5iyH0ctwm7s8ZsQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTg0NTEsImV4cCI6MTc0MzYyMjA1MSwianRpIjoiSUQuZnlEWTVEWmlncFhaTmpuM2NWajh0S3NkNjRxd21QcGgtQ05VX3E1bG9PVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImIzZTk5NjI3MTdlZjVlMGM3OTQ0MDdmZDNlYWIxMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTg0NDksImF0X2hhc2giOiJkS1I3VWNWY1pQaXVFUDByOUZfVlZ3IiwiZWlkIjoiMDAwMVkifQ.aIV0_X9kKUxj_PyC9XsMh5CxS0xK9hiRSuTQEAaKE-ozFNAIRgPh92bppWKy5S41fGciLKWYNhoDOs4Gvzsx1IR-KDji3giltLaEUuJakrYdU3D-Ag6DPpJFxFtFd6Ot8SpkmFDGl_6N5fmNbYgF2YzteiinAeTfm3xfm-F61XKlGBX5REgwNrAW0zGmHiJTXCHqy2S4o8DlfJukxLbAdq59cB51xxyaV1FQX7VVINsc7hLiDF2weP6gQhpb1ZyWcRw3fsSThhiRnBhbpWEpKvoaEREkJ7HuRkOg_xBwPb4g8kr3W9WvSJwfbArziQ8flNaia-jyWjX3n5AFXVeOEA', 'expires_at': 1743622051, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618451, 'exp': 1743622051, 'jti': 'ID.fyDY5DZigpXZNjn3cVj8tKsd64qwmPph-CNU_q5loOU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b3e9962717ef5e0c794407fd3eab1022', 'preferred_username': 'user1@test.com', 'auth_time': 1743618449, 'at_hash': 'dKR7UcVcZPiuEP0r9F_VVw', 'eid': '0001Y'}}
[2025-04-02 18:27:32,028] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618451, 'exp': 1743622051, 'jti': 'ID.fyDY5DZigpXZNjn3cVj8tKsd64qwmPph-CNU_q5loOU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b3e9962717ef5e0c794407fd3eab1022', 'preferred_username': 'user1@test.com', 'auth_time': 1743618449, 'at_hash': 'dKR7UcVcZPiuEP0r9F_VVw', 'eid': '0001Y'}
[2025-04-02 18:27:32,028] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-02 18:27:32,046] [INFO] [app] : User user1 user1 no guardat en db
[2025-04-02 18:27:32,050] [INFO] [app] : User user1 user1 guardat en db
[2025-04-02 18:27:32,050] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:32] "[32mGET /auth/callback?code=RXRY627xsF-uNyEjgrBDBjrlFNbrYEzhlbU80Mn27nQ&state=HdTQfc2DRdDPV8SG6NprKzBlDMO8XT HTTP/1.1[0m" 302 -
[2025-04-02 18:27:32,072] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:27:32,073] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:32] "GET / HTTP/1.1" 200 -
[2025-04-02 18:29:22,692] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:29:22,692] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:22] "GET / HTTP/1.1" 200 -
[2025-04-02 18:29:23,980] [DEBUG] [app] : Asignem nonce a la sessio actual: d3973a2c0b0635739ee64100b76645fc
[2025-04-02 18:29:23,981] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:29:23,981] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:29:40,456] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:29:41,419] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:29:41,423] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmR2MGVJRVZWS2tFYjlUb090OEZTRXJwY2M3c2FCQWlnNXRqTXU4WVM2VU0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTg1ODEsImV4cCI6MTc0MzYyMjE4MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE4NTc5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.LyzCdHQxyqNy7lZ37XNExFwMWHEIhSMrzoHJiqZPmZN078n_L1r2V-m_-E_j64BNdsk6kAZfnsjDkGRzhkyHcxAED8RS2xhDPMMcWT7hJarR_XTCec4meU6-IYNmtTl3DQWLwAKLytoqjtljqiy0NEol-2SnhUdSxupxVV28Dzw5IZ7JG0H1QZHa3rxuwr0CSUJlHcvhoNcWwa51iSCKRxOkr3ZSguFo4M6znlvB-2GjcGfDB5pxwNm3os6YYrNjBYaRadWzWlkkCc8BiCIRnbghHXjzRqMU04TOTAzGpcKQkngYPG3iG-w41hp_w5XNN9y3mfqNveTO48Snoy1o2g', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTg1ODEsImV4cCI6MTc0MzYyMjE4MSwianRpIjoiSUQud29PU01oclNjbGlPWUJwdkFxZkE2aFA0VnI1MGVwVlNTcGtiaG1iS092VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQzOTczYTJjMGIwNjM1NzM5ZWU2NDEwMGI3NjY0NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTg1NzksImF0X2hhc2giOiJRVnZvSFBhMDFKeVl0Qk5xa0JLMGFBIiwiZWlkIjoiMDAwMVkifQ.X2QYp9R5JDgXdGQ3Ls3WxUZA6XM_4FcbFrE0krQvDsDSGZQdOrgq6dxUVVcy3pORScZrxkC3ZWfskq2GsM8Iw08s_KSkZ4o6Xr8pXZa3K07T-gfeB7x8GUftb57OILM3OZzFvVo775A_PIlmjhm2O18zgYl2kzV9PRcRcvzJVYpdyj4z9FPWPjcXAqOZ9hH_spXblhlX0iXb2nuxwJnVVf49RDKFA-MApWVi_685gtmGAqU-9-QzFAeDSU0DUHqXQRiYgkcZsHOynFf4Pf9zKjp6O0affVnSXuwA_1jrVqxDRu8fNWtMTPXwEr3m3xr_fAjErUflPUDXkmiMWFvFAQ', 'expires_at': 1743622181, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618581, 'exp': 1743622181, 'jti': 'ID.woOSMhrScliOYBpvAqfA6hP4Vr50epVSSpkbhmbKOvU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd3973a2c0b0635739ee64100b76645fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743618579, 'at_hash': 'QVvoHPa01JyYtBNqkBK0aA', 'eid': '0001Y'}}
[2025-04-02 18:29:41,424] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618581, 'exp': 1743622181, 'jti': 'ID.woOSMhrScliOYBpvAqfA6hP4Vr50epVSSpkbhmbKOvU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd3973a2c0b0635739ee64100b76645fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743618579, 'at_hash': 'QVvoHPa01JyYtBNqkBK0aA', 'eid': '0001Y'}
[2025-04-02 18:29:41,424] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-02 18:29:41,426] [INFO] [app] : User user1 user1 no guardat en db
[2025-04-02 18:29:41,429] [INFO] [app] : User user1 user1 guardat en db
[2025-04-02 18:29:41,429] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:41] "[32mGET /auth/callback?code=L71uYI1ysRAHwlw58BOxqq-7kU18yjlJLCPn5fvQdIY&state=W8qlBb9uvEbLdTTl3pcNenspRUvQcW HTTP/1.1[0m" 302 -
[2025-04-02 18:29:41,449] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:29:41,449] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:41] "GET / HTTP/1.1" 200 -
[2025-04-03 14:52:13,546] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:13,547] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:52:48,407] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:48,407] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:52:59,803] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:59,803] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:53:16,034] [INFO] [app] : Usuari no autenticat.
[2025-04-03 14:53:16,038] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:53:16] "GET / HTTP/1.1" 200 -
[2025-04-03 14:53:16,110] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-03 14:53:16,110] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:53:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-03 14:53:56,019] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:53:56,020] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:54:06,500] [INFO] [app] : Usuari no autenticat.
[2025-04-03 14:54:06,504] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:54:06] "GET / HTTP/1.1" 200 -
[2025-04-03 14:54:09,379] [DEBUG] [app] : Asignem nonce a la sessio actual: 8bf9f435b87cdb9d97a2094d9ed526d9
[2025-04-03 14:54:09,379] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 14:54:09,381] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 14:54:10,193] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 14:54:10,197] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:54:10] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:04:05,277] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:04:05,278] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:04:35,517] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:04:35,517] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:04:42,439] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:04:42,444] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:42] "GET / HTTP/1.1" 200 -
[2025-04-03 15:04:43,504] [DEBUG] [app] : Asignem nonce a la sessio actual: ce8676c787c70cf3c59e179dc47cd0c9
[2025-04-03 15:04:43,505] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:04:43,508] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:44,340] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 15:04:44,344] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:44] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:04:45,003] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:45,989] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:04:45,992] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:46,902] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 15:04:46,917] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmVXZnlsbVZfcy1qeWw0aTFJTGltQ0ZOOG1kcnRTSjNYNjk0YzRJYW9ZeUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjkyMzc2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.BZ0gD62ZRFELX4oehXPcQGI-mhKBOOO2BQ3KDGKSTiY2CEZyQTy-gT7TPCNPv66Vh47mF_AuqoAg4p_NiXa6Wundsbccpc9ljO8gvj_oDimkZimjBr76LzITbTakTR25i_lcIPyzbq-dWPx4zTtw-xHAXniz5OiORbhQRbpKsXx74KIBtECtaEsp62_ZyTdqkz6ZPxLvXiuyZ2s2o1LzcXogrPfa22_Uko2fpsFuexDl7CxezlcjVsht2mJiBFbaEa9Vf7jfoRY4HlBxQucVNzMMCQelAyRcEYlEQSRmn3d9ai_51TxZ7soZqFkIhWPi_o1mO8OoAol3_wgXglPyAQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg', 'expires_at': 1743696285, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692685, 'exp': 1743696285, 'jti': 'ID.afPHtOeoyuMxC4ETB_iyP7Kxxc8t3R1qUo8y52Iep6c', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ce8676c787c70cf3c59e179dc47cd0c9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743692376, 'at_hash': 'drvE5fQHVxXkWfwdS6y4eQ', 'eid': '0000A'}}
[2025-04-03 15:04:46,918] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692685, 'exp': 1743696285, 'jti': 'ID.afPHtOeoyuMxC4ETB_iyP7Kxxc8t3R1qUo8y52Iep6c', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ce8676c787c70cf3c59e179dc47cd0c9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743692376, 'at_hash': 'drvE5fQHVxXkWfwdS6y4eQ', 'eid': '0000A'}
[2025-04-03 15:04:46,918] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 15:04:46,987] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 15:04:46,988] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:46] "[32mGET /auth/callback?code=EIsSVCSiRte5BLwuexAeMj1sqH1L9ZavqcXzJzl0Xns&state=kQJhdqyhcFkUXI7Wwt3KuyBBamMsFm HTTP/1.1[0m" 302 -
[2025-04-03 15:04:46,997] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:04:46,998] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:46] "GET / HTTP/1.1" 200 -
[2025-04-03 15:04:59,328] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg
[2025-04-03 15:04:59,329] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg
[2025-04-03 15:04:59,329] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:59] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-03 15:05:00,161] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:05:00,162] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:00] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:10,267] [DEBUG] [app] : Asignem nonce a la sessio actual: 8e46371ae77f0568bbe1edce8c84ad13
[2025-04-03 15:05:10,267] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:05:10,269] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:10] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:05:27,204] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:28,150] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:05:28,151] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjRsTzlPNVpsT2hXQ0M2N0Z0dWpWV0lpNjlJVXQwSzJUSEhiZkM3U0JpSzgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjkyNzI2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.mr5hxxB2SnZcMWZslbX8QaVsqGwd6dVG1JIaIsZCfogVdQC8MRtP2jIN2289ljm5J_76Ck3bzsCiJYpZhdWTvNZctOi4iHhNHlJLpBgXdU9k7hUPVoPemOcNDTcEobex2dpfzcQWmwsM-d5R1-mMrNtqSraqg7Z79WqPed8dwjM8Inz7hG87cmR195zYubG-AYPQxJU8kqh0ZGpadtxPhiVNw2Mtb3G8KGMv3HdMIbTthb4JgZY7fWv1o3Zv87_xlCNfIVUXKCegbYlcjFzfCSGLgdd0xijyJEO0Et-Q02Mr9S-xu0c0SU37KFhCH3ztX8yOTC_RaBVAlz__kvUukw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g', 'expires_at': 1743696328, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692728, 'exp': 1743696328, 'jti': 'ID.kzvOuGT06zZunERdE9NFEriKRnVp3SQZkChVmTsDBhk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8e46371ae77f0568bbe1edce8c84ad13', 'preferred_username': 'user1@test.com', 'auth_time': 1743692726, 'at_hash': 'edhqLCzXyUeY28AYVoc22g', 'eid': '0001Y'}}
[2025-04-03 15:05:28,151] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692728, 'exp': 1743696328, 'jti': 'ID.kzvOuGT06zZunERdE9NFEriKRnVp3SQZkChVmTsDBhk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8e46371ae77f0568bbe1edce8c84ad13', 'preferred_username': 'user1@test.com', 'auth_time': 1743692726, 'at_hash': 'edhqLCzXyUeY28AYVoc22g', 'eid': '0001Y'}
[2025-04-03 15:05:28,152] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-03 15:05:28,156] [INFO] [app] : User trobat in db: user1@test.com
[2025-04-03 15:05:28,157] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:28] "[32mGET /auth/callback?code=i-UEXNSvage5l3nCcrueN73nAuqV_XAp2kBG6NMVnoc&state=s200eckA58jqfMXeZFwXPMShlnkQ21 HTTP/1.1[0m" 302 -
[2025-04-03 15:05:28,176] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:05:28,178] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:28] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:33,310] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:33,314] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:33] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:05:46,350] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:05:46,354] [INFO] [app] : NEW full_name: user1 user1test
[2025-04-03 15:05:46,354] [INFO] [app] : email: user1@test.com
[2025-04-03 15:05:46,357] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:47,287] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:05:47,289] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:05:47,291] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:48,266] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:05:48,268] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}
[2025-04-03 15:05:48,278] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:48] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:05:48,292] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:48,293] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:48] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:05:56,148] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:05:56,149] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:56] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:57,736] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:57,737] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:57] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:06:02,727] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:06:02,732] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:06:02,732] [INFO] [app] : email: user1@test.com
[2025-04-03 15:06:02,734] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:06:03,634] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:06:03,637] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:06:03,638] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:06:03,639] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:03] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:06:03,653] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:06:03,654] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:03] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:06:17,760] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:06:17,765] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:06:17,765] [INFO] [app] : email: user1@test.com
[2025-04-03 15:06:17,767] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:06:18,536] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:06:18,536] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:06:18,537] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:06:18,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:18] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:06:18,546] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:06:18,548] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:18] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:09:14,806] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:09:14,806] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:09:21,879] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:09:21,880] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:09:31,157] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:09:31,161] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:31] "GET / HTTP/1.1" 200 -
[2025-04-03 15:09:33,148] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:09:33,151] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:33] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:09:36,602] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:09:36,606] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:09:36,606] [INFO] [app] : email: user1@test.com
[2025-04-03 15:09:36,609] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:09:37,644] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:09:37,645] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:09:37,647] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:09:37,647] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:37] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:09:37,656] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:09:37,657] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:37] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:15,168] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:16:15,173] [INFO] [app] : NEW full_name: user1 user1testtest
[2025-04-03 15:16:15,173] [INFO] [app] : email: user1@test.com
[2025-04-03 15:16:15,175] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:16:16,248] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:16:16,249] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:16:16,249] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:16:16,250] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:16] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:16:16,265] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:16,266] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:16] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:20,137] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:16:20,138] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:20] "GET / HTTP/1.1" 200 -
[2025-04-03 15:16:21,208] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:21,209] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:21] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:23,431] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:16:23,434] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:16:23,434] [INFO] [app] : email: user1@test.com
[2025-04-03 15:16:23,435] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:16:24,351] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:16:24,353] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:16:24,355] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:16:24,356] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:24] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:16:24,365] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:24,365] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:24] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:03,350] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:20:03,350] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:20:05,859] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:20:05,861] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:05] "GET / HTTP/1.1" 200 -
[2025-04-03 15:20:07,429] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:07,431] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:07] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:17,416] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:20:17,416] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:17] "GET / HTTP/1.1" 200 -
[2025-04-03 15:20:19,786] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:19,786] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:19] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:41,492] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:20:41,497] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:20:41,497] [INFO] [app] : email: user1@test.com
[2025-04-03 15:20:41,499] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:20:42,467] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:20:42,468] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:20:42,469] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:20:42,470] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:42] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:20:42,478] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:42,479] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:42] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:21:34,277] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g
[2025-04-03 15:21:34,277] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g
[2025-04-03 15:21:34,278] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:34] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-03 15:21:35,655] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:21:35,656] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:35] "GET / HTTP/1.1" 200 -
[2025-04-03 15:21:36,821] [DEBUG] [app] : Asignem nonce a la sessio actual: 077a2938f66c1ac5529419e2a69ee427
[2025-04-03 15:21:36,822] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:21:36,822] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:37,536] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 15:21:37,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:37] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:21:57,395] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:58,348] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:21:58,352] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:59,245] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 15:21:59,255] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm5uY2xIcDdkX3lxQ1RkcmJsRmhWMHYzMEROQi1MNFJaMTY3aTRqOUFSMTAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTM3MTgsImV4cCI6MTc0MzY5NzMxOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjkzNzE2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.VtY2mqc9I17XwhzNKzafY3j3LVXCoGF_2_DKH8Yqkge0cik6RFWG95498qfJdF8KOpGlFhHeWM40jgsQFrSmcTcumNjaB39CtghFVmzGFJcjp_0NlEItH38_6TlFhShnsgNeQmiZwvrm0q2_3cCvgfkenTwp5mYVxBuQpOC4iGvzWB3MeZXdH_Iw971_euG_0kCyP_x_9hZS3jZ1ED8JCCj0YNLR_W6FgwHr6FVa95SbFWRAYMCdVzGfU1n6Ir8WX1vLZ9pk_bfiXHKty8rWmbZFy30OxyhOUAh29R0TU0SlHx0Rk6-ADtY7x0cxJZX-NiGqOzta9FX0ArWad3Ru5Q', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMXRlc3QiLCJlbWFpbCI6InVzZXIxQHRlc3QuY29tIiwidmVyIjoxLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6IjBvYW15NzVxZjNCUlk3VVJSNWQ3IiwiaWF0IjoxNzQzNjkzNzE4LCJleHAiOjE3NDM2OTczMTgsImp0aSI6IklELjJGLXRrZWpDaTE2TjkzYWRBeFVHSTV3RDlIWGVuWmRRazhsT0FrckNqblkiLCJhbXIiOlsibWZhIiwib3RwIiwicHdkIl0sImlkcCI6IjAwb214Z2EyMzJUcnZmWjNJNWQ3Iiwibm9uY2UiOiIwNzdhMjkzOGY2NmMxYWM1NTI5NDE5ZTJhNjllZTQyNyIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXIxQHRlc3QuY29tIiwiYXV0aF90aW1lIjoxNzQzNjkzNzE2LCJhdF9oYXNoIjoiNXlNbmFDQ3EtbnR1MUR2MnFTTkhpQSIsImVpZCI6IjAwMDFZIn0.UL84AGk755Up4232iTp2r2mti-ebdpo_BYTSs-lG_frM7QCxZkyKBumXQ7PNB3D0AOc5KqgnCxxurYSIQa7iRkEkFhygtxk7EH1qhw4kX0Tez8gJbDfPmEHGz1u9RbVAwyO8u4QCiW3sMjVjva4OdWmNd68-Clft3AVcDNueqQsaNkzfFY2ojuRGR6KED8c-e6L7K0zUj7T5SgCqqRHmGueqifgTfv3BTacZKN1XZLTGztzuZbuvTskF5vxsLfPGw_RcIOIo7P3IQIajV4dEarpQLCJW0SEgamF-vqMKmyYYpOdlk5dFugn2gXl9KoImOhBXrfFYwdzLB5379J4swg', 'expires_at': 1743697318, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1test', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743693718, 'exp': 1743697318, 'jti': 'ID.2F-tkejCi16N93adAxUGI5wD9HXenZdQk8lOAkrCjnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '077a2938f66c1ac5529419e2a69ee427', 'preferred_username': 'user1@test.com', 'auth_time': 1743693716, 'at_hash': '5yMnaCCq-ntu1Dv2qSNHiA', 'eid': '0001Y'}}
[2025-04-03 15:21:59,255] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1test', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743693718, 'exp': 1743697318, 'jti': 'ID.2F-tkejCi16N93adAxUGI5wD9HXenZdQk8lOAkrCjnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '077a2938f66c1ac5529419e2a69ee427', 'preferred_username': 'user1@test.com', 'auth_time': 1743693716, 'at_hash': '5yMnaCCq-ntu1Dv2qSNHiA', 'eid': '0001Y'}
[2025-04-03 15:21:59,255] [INFO] [app] : Sessio info usuari: user1 user1test, email: user1@test.com, eid: 0001Y
[2025-04-03 15:21:59,257] [INFO] [app] : User trobat in db: user1@test.com
[2025-04-03 15:21:59,258] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:59] "[32mGET /auth/callback?code=nPrgO-cufhfzEXGUI_aDxwMuGzqaTSm9TwmsxNwn8_0&state=yAxv4A0jEjTpcdB9qRpzmu2ZYHDkt3 HTTP/1.1[0m" 302 -
[2025-04-03 15:21:59,277] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:21:59,277] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:59] "GET / HTTP/1.1" 200 -
[2025-04-03 15:22:04,963] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:04,963] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:04] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:22:07,527] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:22:07,527] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:22:07,527] [INFO] [app] : email: user1@test.com
[2025-04-03 15:22:07,529] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:22:08,480] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:22:08,482] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:22:08,483] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:22:08,484] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:22:09,437] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:22:09,439] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:22:09,444] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:09] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:22:09,453] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:09,453] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:09] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:22:52,976] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:22:52,976] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:52] "GET / HTTP/1.1" 200 -
[2025-04-03 15:22:57,860] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:57,861] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:57] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:00,862] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:23:00,866] [INFO] [app] : NEW full_name: user1 user1test
[2025-04-03 15:23:00,866] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:00,868] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:01,825] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:01,828] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:01,829] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:01,831] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:02,806] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:02,809] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:02,813] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:02] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:02,822] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:02,823] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:02] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:08,697] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:23:08,701] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:23:08,701] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:08,703] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:09,615] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:09,616] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:09,616] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:09,616] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:10,622] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:10,623] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:10,628] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:10] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:10,641] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:10,643] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:10] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:13,675] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:13,675] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:13] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:18,163] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:18,163] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:18] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:19,810] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:19,812] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:19] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:25,045] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:23:25,049] [INFO] [app] : NEW full_name: user1 user1testtest
[2025-04-03 15:23:25,050] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:25,051] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:25,950] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:25,951] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:25,952] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1testtest', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1testtest', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:25,952] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:26,996] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:26,997] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1testtest', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1testtest', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:27,001] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:27,013] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:27,015] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:27] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:31,944] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:31,944] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:31] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:34,645] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:34,646] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:34] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:36,618] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1testtest'}
[2025-04-03 15:23:36,623] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:23:36,623] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:36,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:37,543] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:37,546] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:37,547] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:37,549] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:38,539] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:38,543] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:38,546] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:38] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:38,556] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:38,557] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:38] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:42,648] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:42,648] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:42] "GET / HTTP/1.1" 200 -
[2025-04-03 16:25:20,421] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:25:20,422] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:25:39,629] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:25:39,629] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:26:59,027] [INFO] [app] : Usuari no autenticat.
[2025-04-03 16:26:59,031] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:26:59] "GET / HTTP/1.1" 200 -
[2025-04-03 16:26:59,107] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:26:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-03 16:27:00,909] [DEBUG] [app] : Asignem nonce a la sessio actual: 7bd1ddc759815f15302e87200dd6495c
[2025-04-03 16:27:00,909] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:27:00,911] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:01,802] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:27:01,804] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:27:03,046] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:04,032] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:27:04,034] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:04,947] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:27:04,957] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk54T0dRQU82Tk5wb2VUREdXeVJnaUZtTXZRMHoxMzd0amZxRjRuSl96a1EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc2MjMsImV4cCI6MTc0MzcwMTIyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.fpIl4o-sUNFE6gd6vsXlHU_q7sGCARnG-4aOFmkfTRGSm49ezUtoqDW-VQ4KWV5hlqt9GZFaNzYJURQ6zGaq9ZJub_OiXiOn012BWVioVE0TiqJXwe4N2nCGdS0FS4rDMAq7sXJk-qfgQ2Zvcoah9o4r4ec6m-BoWDyihthONX5QlWtOeQihVUhKnMHqFt5ukBurhNua0GUp_Le1dIzCeswDReKw-2GdVgwJU371o26cQtiDdATb4URrl9SJ34wdDeAMrVMHWWphgS14Tw39t0ezaYyVREqv8CTn97l_Q7QkrOtPRu7_fhbJehUNbWm-1TJ1VGbydKhZFr-oH7JbmQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc2MjMsImV4cCI6MTc0MzcwMTIyMywianRpIjoiSUQuem02NVpwTjV1Q0V2RjVtSmM2RGxINFp0ZjhaeFFQU3Y2OGllYmZwOUZrcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjdiZDFkZGM3NTk4MTVmMTUzMDJlODcyMDBkZDY0OTVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IjdRckVNZlVnSHJSWXZFTUZ3S0ttTmciLCJlaWQiOiIwMDAwQSJ9.cZ9i88kZSpE2FvMtjjnARp8qbHKwkcNf5Ug_6zoaEI3D09mIqElMrtVVh_x2zRTvavR0wuoo7D0YqokbrcwFzJ3ySN1RPoL4HksHS_4e2YFcqEVI2hMzRwFvLthDsZX9EVoZa8fTTlVhFllxHFD9qI3chQ_3iGsVANonUOoj48Q--rw0a5wsIT_B-uJiuum-1BzAdoHIeizl8V4W8fNYHF1_B2s-r1CXtKRJp2RzOdg4XBWTjEwnTp72ljCR-_tdSg8fqzQYd5zNETowKS1IE1WVPBCx4tjamXd0lF5lJKdNDMFrfCoT5degrJs9Oiv-0MTlBctuwvbSPj1d68fl8A', 'expires_at': 1743701224, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697623, 'exp': 1743701223, 'jti': 'ID.zm65ZpN5uCEvF5mJc6DlH4Ztf8ZxQPSv68iebfp9Fks', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '7bd1ddc759815f15302e87200dd6495c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7QrEMfUgHrRYvEMFwKKmNg', 'eid': '0000A'}}
[2025-04-03 16:27:04,959] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697623, 'exp': 1743701223, 'jti': 'ID.zm65ZpN5uCEvF5mJc6DlH4Ztf8ZxQPSv68iebfp9Fks', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '7bd1ddc759815f15302e87200dd6495c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7QrEMfUgHrRYvEMFwKKmNg', 'eid': '0000A'}
[2025-04-03 16:27:04,959] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:27:04,996] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:04,997] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:04] "[32mGET /auth/callback?code=ArMHlKwulfFUlRe4Jo5bZShXIQIliwpPrMzupMPBA-Y&state=nNuGmwGsWm4D9W1FrqUaCisj9MK6Ux HTTP/1.1[0m" 302 -
[2025-04-03 16:27:05,010] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:27:05,011] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:05] "GET / HTTP/1.1" 200 -
[2025-04-03 16:27:17,020] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:17,025] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:17] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:27,028] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-03 16:27:27,034] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-03 16:27:27,034] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:27,038] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:27,954] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:27:27,956] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:27:27,956] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-03 16:27:27,958] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:28,961] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:27:28,962] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-03 16:27:28,969] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:28] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:27:28,982] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:28,983] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:28] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:32,138] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:27:32,139] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:32] "GET / HTTP/1.1" 200 -
[2025-04-03 16:27:34,576] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:34,578] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:34] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:38,841] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-03 16:27:38,846] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-03 16:27:38,846] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:38,849] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:39,766] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:27:39,768] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:27:39,770] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-03 16:27:39,772] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:40,513] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:27:40,514] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-03 16:27:40,517] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:40] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:27:40,530] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:40,531] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:40] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:28:10,522] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:28:10,522] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:10] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:28:25,849] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-03 16:28:25,854] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-03 16:28:25,854] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:28:25,857] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:28:26,792] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:28:26,794] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:28:26,796] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-03 16:28:26,797] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:28:27,521] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:28:27,521] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-03 16:28:27,524] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:28:27,536] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:28:27,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:27] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:31:24,388] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:31:24,389] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:31:32,388] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:32,392] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:32] "GET / HTTP/1.1" 200 -
[2025-04-03 16:31:35,139] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:31:35,140] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:35] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:31:35,156] [DEBUG] [app] : Asignem nonce a la sessio actual: 4d10d1c0de6e491cfa1fe33adca3b43b
[2025-04-03 16:31:35,157] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:31:35,158] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:35,881] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:31:35,883] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:31:36,556] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:37,554] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:31:37,557] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:38,460] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:31:38,464] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkdSTXlHdDhGX2ZmVjhtN0liNjI5LWY1WTFTWnlYMmdKajRNUW53NlhMakUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc4OTcsImV4cCI6MTc0MzcwMTQ5NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Nlu1nmhQRX1qzsXU1-8cce6PyUcnktSi2Fy-XwaoH43p9uP6zt-vCYIq_t4v_6OQ8axv9L3Nj9RcYN12VnmYCek5DVT5eiKcAiOwFQ9pARDu70xf0orWnf7bvZfd1CDxb2s8VpWqG5dhMMLP03aUkwtupfHJz0NyLtOvVv8j9elAsuJ7sSsdZ4MrldrmNlCgiVTp15wk51SLRvJ3T6rfnofpLLv6kxythKC2bZVOaApVNBVmy22C_4VZSwOdwqXp5DhXqFI6zHfNDOAEs7KK6358ribniXk6yOzyPhE63S4FDfsDXLlF7M9KnD1ulERP6sP4Cgawvq6lGVVbX8G6hg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc4OTcsImV4cCI6MTc0MzcwMTQ5NywianRpIjoiSUQucm5tMm1GYkdZcEFxMnpRakoyX2xSRGRscUFJWlVjcmxuTXQwOXVTMzl0SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjRkMTBkMWMwZGU2ZTQ5MWNmYTFmZTMzYWRjYTNiNDNiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImpWTmZOQ3RSQy1nYWxSMk5fdzNmLVEiLCJlaWQiOiIwMDAwQSJ9.E8enTwdKtuQIBT2W0N38eWtMd_c_XgkfGrtf8kPwbXQwwHNy3BeXcaXauw8PDCfE8QktP912qYxubwmv1YK60vQARLmIBqusHmSEAxc49jnCqlmrpVDVBSjTvgvEA9q7PpcjRK2LNqURc0tMidlUPUXVkvIPVgQLr0uScGlbEGRwiok9IA6mt-5lNfvxDyLE9tYrqPc2AQ8hIktAjAdm3T3h9Ef-wIWMZyVs-1b3tBpx-oPy_lfS4Q-kN61V3flddDRu5vYFcHid54wSy0f3oyxor9NRIndL-1wsWJim75GYWYTipH-Rr1GI6shsa4eZTDaaqSfUMudQaje17UUH0w', 'expires_at': 1743701497, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697897, 'exp': 1743701497, 'jti': 'ID.rnm2mFbGYpAq2zQjJ2_lRDdlqAIZUcrlnMt09uS39tI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4d10d1c0de6e491cfa1fe33adca3b43b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jVNfNCtRC-galR2N_w3f-Q', 'eid': '0000A'}}
[2025-04-03 16:31:38,465] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697897, 'exp': 1743701497, 'jti': 'ID.rnm2mFbGYpAq2zQjJ2_lRDdlqAIZUcrlnMt09uS39tI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4d10d1c0de6e491cfa1fe33adca3b43b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jVNfNCtRC-galR2N_w3f-Q', 'eid': '0000A'}
[2025-04-03 16:31:38,465] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:31:38,477] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:31:38,479] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:38] "[32mGET /auth/callback?code=X77QcyzKARXRkfUs8ISZg_bNcZExV12ajKdy4BfMf2k&state=LARb8yBKuvutPgBLjY8ofHafKKPYQV HTTP/1.1[0m" 302 -
[2025-04-03 16:31:38,489] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:38,489] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:38] "GET / HTTP/1.1" 200 -
[2025-04-03 16:31:52,718] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:31:52,719] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:52] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:31:52,727] [DEBUG] [app] : Asignem nonce a la sessio actual: d5638b8aa39520dc49981557f0a43b77
[2025-04-03 16:31:52,728] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:31:52,728] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:31:53,321] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:54,263] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:31:54,266] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRRME52VmtWYU83YnZDSVkyazlRb3ZXdDhwWG5scldDaW5ReEh4X1hvMFkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MTQsImV4cCI6MTc0MzcwMTUxNCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Kc4IYSJE8U-dVQf6L943WrUX8lrg6C2lXjQivuRGNb8T0RplC-Zjwf-isnd9_5XIlxXcLXLJG_u4h89VInnF0PNKzSzaitP3NG7L9BlQNAvJagD6cNrt38tEurLsjLTYejWZId19o2aFetVfVhIZilqyc48f8awrv11hWsBwdgdi7yiGl7_o7MIrjMkfc7nAw6kiRE8tPmV4heMIL96n-cW-6YFERdxDRND2PtaPb6moMOHMDVvue9agY3XYztSOELjy60TO603SKZoqr1kt3JJ5GttbgBilMZEZHPIEfWHuMe4NgQ-470ZGxug4enkxHH9NODd9rcgaYemz97At_Q', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MTQsImV4cCI6MTc0MzcwMTUxNCwianRpIjoiSUQucFF6MzVkaUtkUENGQVBCWjk3RnhIZTc5Uks2LW82Mm1VYVdoaHRoTHRwayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ1NjM4YjhhYTM5NTIwZGM0OTk4MTU1N2YwYTQzYjc3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImRJWUNKTEMxNGpoc2E0T1U0QUtJb1EiLCJlaWQiOiIwMDAwQSJ9.JZalXy68pjxeZohmAdNi4maxDnDAWlmvtnlR_2b0JnAB6oP2xppBD9PJEdgeSYF6K37JpZCS4wJlwWAPzGxtAZS7MpK3vmkMO-4Rq2PO1r6-di6K37Gc0PXOcg0_6e1j53X-BaoUn7uinND0uFPL7GRPSkanq3Oy84ube1QKPNw4yPFeagiSJnjhiXeUgxNH8bWuWxOj73iNVD2f2Hz-X_m1Hw25E3NPXmsHRjnjbDeVSWVb3hDGdHu94g6xObIRz6Uptbo-yKSTmBgu3exWP5-G0Jn7NNZYBUTJzJgIc5Y8pQpIHaf127mKZL1CuR_pJ7CLbrxZ71iVETZn_0VFeg', 'expires_at': 1743701514, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697914, 'exp': 1743701514, 'jti': 'ID.pQz35diKdPCFAPBZ97FxHe79RK6-o62mUaWhhthLtpk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd5638b8aa39520dc49981557f0a43b77', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'dIYCJLC14jhsa4OU4AKIoQ', 'eid': '0000A'}}
[2025-04-03 16:31:54,267] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697914, 'exp': 1743701514, 'jti': 'ID.pQz35diKdPCFAPBZ97FxHe79RK6-o62mUaWhhthLtpk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd5638b8aa39520dc49981557f0a43b77', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'dIYCJLC14jhsa4OU4AKIoQ', 'eid': '0000A'}
[2025-04-03 16:31:54,267] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:31:54,270] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:31:54,271] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:54] "[32mGET /auth/callback?code=Vx8V38fayrJ0hRePFoD90x8su1jSZ3FLSuaU4NxNcrs&state=tqSYdkDbefyorw1XHns5yeFA1ZpwMe HTTP/1.1[0m" 302 -
[2025-04-03 16:31:54,288] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:54,289] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:54] "GET / HTTP/1.1" 200 -
[2025-04-03 16:32:02,483] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:32:02,484] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:02] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:32:02,492] [DEBUG] [app] : Asignem nonce a la sessio actual: dd1d92e3048d6f724cac33fa3ddae52d
[2025-04-03 16:32:02,492] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:32:02,493] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:02] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:32:03,079] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:32:04,071] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:32:04,073] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmF1c2tlYXpxNERCcnJuY2E2WGdSRm1naDN4RXdKVW05VXYzRUpfa0JkNmciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MjMsImV4cCI6MTc0MzcwMTUyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.oNR4iPyKDU5Ub_LtWByTgkfh0UxoXXNH5rrEBzSDJXBtKwvvQ2rWhxEYoJcXwT4H9QFUSaze7Er_bDfAQTdYqWlnu3grmTtgc0IzVxbteSlX4XjsyX0ra-u3-tPWhwQKin_tC3XEHi4OyGoTvvfOj7dkiN1RJsRbn_uOJZQ7ZPyWxLs1Py99AkGybZlCTnicQiIVjoN48PoFJjLY8NOl-i9cajRlsRcvC6KGxQ1PK7v0n1c7DKV-itUlQIYqtC6G3oQaenJN8Z8HGBdpRucYU5iHOFjkPT_08a1cCVDXVd0zMmRskiSqqvpls7t9Z13P3iD7cYAuWzLNUxj4bxVfoA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MjMsImV4cCI6MTc0MzcwMTUyMywianRpIjoiSUQuVHIwUlloT1BseE5qS095aG5JLTJqeGxnSENqdl95UjFDc1NPZHNna1NkMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRkMWQ5MmUzMDQ4ZDZmNzI0Y2FjMzNmYTNkZGFlNTJkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IkxKSEpWa25nQW5Kb0JDdEhEYlZGNlEiLCJlaWQiOiIwMDAwQSJ9.SaMGIRXkAbrP40-rI1ojBPBgVA-OA4NP_MrTsa784tTgSUSaCcMk5kHXuAuTNNmryrHwBqPnxjz17Xu8iiQvLeA-4p1gDO2qcrqWNSlfFKeMe7kcpG_vv_lzbxyFkzWAS5cLdZlDT0QCLUNs4dp6FumZ9tkRkYbwBUQRerJmBT5-G8HiCZbKvHHnabFSyu1zmrVCrBEUYOhhK4Qv6M0ckazTGEGIiPFAblXMoiXEKRaCDOWtX5lXk78QKp5GAsUBiaiuB4louDgL1WMYFskWGp0BrtKUSkQtK-SA7h_5jViQOnxgwWsDBSl7tLibC_zQBjrMmvvBekC6cgIcRt_--w', 'expires_at': 1743701524, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697923, 'exp': 1743701523, 'jti': 'ID.Tr0RYhOPlxNjKOyhnI-2jxlgHCjv_yR1CsSOdsgkSd0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'dd1d92e3048d6f724cac33fa3ddae52d', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'LJHJVkngAnJoBCtHDbVF6Q', 'eid': '0000A'}}
[2025-04-03 16:32:04,074] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697923, 'exp': 1743701523, 'jti': 'ID.Tr0RYhOPlxNjKOyhnI-2jxlgHCjv_yR1CsSOdsgkSd0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'dd1d92e3048d6f724cac33fa3ddae52d', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'LJHJVkngAnJoBCtHDbVF6Q', 'eid': '0000A'}
[2025-04-03 16:32:04,074] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:32:04,077] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:32:04,078] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:04] "[32mGET /auth/callback?code=b5P1D-HE84JaWCtDq5na3fNIcnq7ONUhNb-64PxcCiU&state=nCusvO7XJFrjWRWh9gJGsSu5b0pVzw HTTP/1.1[0m" 302 -
[2025-04-03 16:32:04,090] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:32:04,090] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:04] "GET / HTTP/1.1" 200 -
[2025-04-03 16:32:16,653] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:32:16,653] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:16] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:32:16,661] [DEBUG] [app] : Asignem nonce a la sessio actual: 46a0d047283b66fee4c7a2f9444d8015
[2025-04-03 16:32:16,661] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:32:16,662] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:16] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:32:17,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:32:18,190] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:32:18,195] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkJvVkU5LW1aWTVPeGlEZE13YVFpc21VdklzRGNKU2t3TjZaZ0V2RmlsYVEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MzgsImV4cCI6MTc0MzcwMTUzOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.pgv_rlycoMi9XDTrODb2LcGyTWGPUWp52VUKXPVl2TXJAI8nWzJdlVe_k10_EWlVKQxKAKkbax9sz-d0AqijbnhPQ9PHC_-NrdwsYyFI4mLIbijYTvnxm9HAeQUhQUpA_BLMAYI4vsgEVtQLG99oudMpBVNQUPjcRDl3x1DMwV5aACii5Leq1hy0vsc8dxnd8JMYuYXjb7TNqzFRg6yTbB5uCqzNgCrA_3n7aFhfVxJN_NpXhdhTRunTMraRntwWJf5dmpwfbZliriwwnYvlu1HIpOUnZGpX2PTvQES5_XzGcLVX5m6BXlQrU10FiccrvpOAs603Zb65Fcg8-vDYwg', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MzgsImV4cCI6MTc0MzcwMTUzOCwianRpIjoiSUQud19jVjlJZ3prbUFTSjlHY0tZVGx5XzJtMHAyVFV6ZURXcjBLUW5qaFdIWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ2YTBkMDQ3MjgzYjY2ZmVlNGM3YTJmOTQ0NGQ4MDE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6Ims5UkpEa0E4bmw5RGEwY3ZvLXB3a0EiLCJlaWQiOiIwMDAwQSJ9.S8pz3hNWC02xqcCunGLrEIe8JPGxXH7xMnP58OtQWCeli6mRhzLlho9_CYn8o_J8z_gIl6aNtN7KWNEwhEKNc4RGvOQ43rLwnbN0DwvfKEpxACQXi4F9nDuvS2610zvmk9Ik-s4_FHF6V4YW2Npyq6CkRJGKlBfNxv3-iGfxwd7neXT-vjis0FLhlJaGPfWxpzK-_P7ux7i80yeJ6ZUJkTpT3nBqIWVU76fxkzlXGHun2pcilFxErunaUJF4j2g31qlgyhXx3a-DtdIG-RE1vu2vls5ALPAd85r0MY4lVTID1YEz3wKDUlUorxZuhUuIM2CWhW3bX_DI6d3qlKQpJQ', 'expires_at': 1743701538, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697938, 'exp': 1743701538, 'jti': 'ID.w_cV9IgzkmASJ9GcKYTly_2m0p2TUzeDWr0KQnjhWHY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '46a0d047283b66fee4c7a2f9444d8015', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'k9RJDkA8nl9Da0cvo-pwkA', 'eid': '0000A'}}
[2025-04-03 16:32:18,196] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697938, 'exp': 1743701538, 'jti': 'ID.w_cV9IgzkmASJ9GcKYTly_2m0p2TUzeDWr0KQnjhWHY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '46a0d047283b66fee4c7a2f9444d8015', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'k9RJDkA8nl9Da0cvo-pwkA', 'eid': '0000A'}
[2025-04-03 16:32:18,196] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:32:18,199] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:32:18,200] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:18] "[32mGET /auth/callback?code=W-yC44loMGPk0XEsowqA6gMzX2YuAv334hswlcDW_Wk&state=59h4t9vTyXvGrddjKVOQllYkjWZoRg HTTP/1.1[0m" 302 -
[2025-04-03 16:32:18,213] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:32:18,214] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:18] "GET / HTTP/1.1" 200 -
[2025-04-03 16:35:34,707] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:35:34,707] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:35:46,779] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:35:46,781] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:46] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:35:46,788] [DEBUG] [app] : Asignem nonce a la sessio actual: f3d86fb5d8e7a743e6104a7188cd010f
[2025-04-03 16:35:46,788] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:35:46,789] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:47,540] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:35:47,542] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:35:48,172] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:49,146] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:35:49,149] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:50,052] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:35:50,060] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJaRUMxQ3ZSalZ5dDM5MkRDMkRxNGNLWlVIaHUtMWhYLUo0TjhWLUtGMjgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgxNDksImV4cCI6MTc0MzcwMTc0OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.eM4YwTHsGrXbLxuTBThL8QNk6Wd0FRU1liKQMv_jRL28vv4r5nKVLz3s6YFj7nFYYQHgGdateomxqxjbED7pU3Qs42O2YKR54q1lrJeUMd9jNKpWjKwIlPkmnrX3kWb0Xx02r6ZOkYzEmmbSaLADj1GZbsD9NVcbxPS8z1QtMVhZSQlCMUYOaJ9SijYh5ywWn0_tI8my2SefdFsTQqVbOUcI-8KzQk5YtwQaDvAZKAgvMSXn8gdgHGInPiSqEd_uD6WOxKU9KFwoggq5k3TmC2hUJMYdUCV8EN38H-Dk4WWQkhakBtqVRffhVXs-ECU6fLvx2b1T1d4hNt0yYQ0rGg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgxNDksImV4cCI6MTc0MzcwMTc0OSwianRpIjoiSUQuVWxkcW9fYlV1TFVTRndGZ1ktVXZRUHJ5UWFmMlNISTcyWUdBMi0yX3NCayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYzZDg2ZmI1ZDhlN2E3NDNlNjEwNGE3MTg4Y2QwMTBmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImdyM29xRUpNTU5vSkE4LVo2TnF5b1EiLCJlaWQiOiIwMDAwQSJ9.REGtTVasqSAKIWQtdF8YfLBLtk59CtKZmaT78Wf-rnq5BF2sIjs9NbfjreukISbTC8LR-BHS9Z_ZFUZLVU23Alpg136CaxrDZOEWnWAUdts7HmpbRdkXwHv-aJzRBi2G-LrebEV8PshYvZTqBh30Up9dqMN6a3OGShLhudMVaxfSEtVuEAgwHENYSHpaTHTYCPYmNCdSy5AEYC3oNL740TExjupTfwNmIBbpKuPQ_QKdGPXLdoEoMjiVEa6A30cPvajruo6HszTaYWxuOVOifopJPyt_dQAvoYDkMYxXxaIQ-fUffNJMaO1PHBB7F90qWnQUb71_nfhXtdZbkqkzRw', 'expires_at': 1743701749, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698149, 'exp': 1743701749, 'jti': 'ID.Uldqo_bUuLUSFwFgY-UvQPryQaf2SHI72YGA2-2_sBk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f3d86fb5d8e7a743e6104a7188cd010f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'gr3oqEJMMNoJA8-Z6NqyoQ', 'eid': '0000A'}}
[2025-04-03 16:35:50,061] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698149, 'exp': 1743701749, 'jti': 'ID.Uldqo_bUuLUSFwFgY-UvQPryQaf2SHI72YGA2-2_sBk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f3d86fb5d8e7a743e6104a7188cd010f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'gr3oqEJMMNoJA8-Z6NqyoQ', 'eid': '0000A'}
[2025-04-03 16:35:50,061] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:35:50,080] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:35:50,082] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:50] "[32mGET /auth/callback?code=_jiWiriXMP6CebAHj3bwzAM8KCQfE6EFX4BPeW8ncLk&state=zQLCDzKDWmHGN9iYaDEOYvXsqPQwBG HTTP/1.1[0m" 302 -
[2025-04-03 16:35:50,095] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:35:50,098] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:50] "GET / HTTP/1.1" 200 -
[2025-04-03 16:35:57,780] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:35:57,780] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:57] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:35:57,787] [DEBUG] [app] : Asignem nonce a la sessio actual: c8645ff0581dab1bfbc4a96089c8f655
[2025-04-03 16:35:57,787] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:35:57,788] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:35:58,409] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:59,372] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:35:59,373] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlZCSnEwUHNQY25zcVNhOEhjNnh1Ti1IU3ZlOFdLWExCRTRjWllodkNWX2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgxNTksImV4cCI6MTc0MzcwMTc1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.c43SMISIqNkP-lUOtoEvTVo1Xz7IFVnUFlBmgGfd6cmsWL1ooJP-V5u6nXN47_a8EFihK97wfrUlQoR7Ny4qf8vtq7uvAZ4HWSXyIBhyjCA56kcohkilNzpOD2Qxa_wgQcXRaVnInBHfbgZGpO20KwI1l_YUqbqMjNKuNYIePbwe9s2Ri1YTy4BXZuKR0urzRB98_ExxQ1MxCy-IRLsTrIt6QIzOIvFsXNWoZF9u5b1rxJlxHJ35Smu2gj_wpH52-GQvbWzhz6--u8i_Lgg_T1JcLcU39P24wC02anh060KSw0IxrS0d8KWD4sj77y7uBIBCvD1Rb1N-We48bVbYuQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgxNTksImV4cCI6MTc0MzcwMTc1OSwianRpIjoiSUQuem1leGJiaTNua3RpM2hhVUJzOHJrMndtNlBkQ3pPR0hOMDhuNnA0NlRjWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM4NjQ1ZmYwNTgxZGFiMWJmYmM0YTk2MDg5YzhmNjU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6Ijd5UDF1S21YS2NOZ1VyTXE5bFZCSHciLCJlaWQiOiIwMDAwQSJ9.i5DwdjtbceLsM6kM2GJ2exL2FIbKMl_7kBRVecqHnSHj458HGeTgwCCnIpeFsMGr8eetwQJ-6bieXv-ZZoMH0RoXXKo2hi7T5A9MJ-zkDrAQvw5ewGt7hs8KfWHlGcr5R2P6cXT9EEvCTutEr8LXPEed13aQ91xmUqYLRVN0CoHk4aVB7sayhTuxUugr8hsw4xdKADmByVisJ2DcPo6NpXZTYUnKourX4ffUewyyVaZ5C6Crc5Cp4aFtIPeqTnz2ENXCdu0HEoWyFo4I81lh3gLZP0QPy6dAIXsppW28BVwg6FRgrZIbf77JkAG7hm6T854hDkYtR4alH6aRgNOm1w', 'expires_at': 1743701759, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698159, 'exp': 1743701759, 'jti': 'ID.zmexbbi3nkti3haUBs8rk2wm6PdCzOGHN08n6p46TcY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8645ff0581dab1bfbc4a96089c8f655', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7yP1uKmXKcNgUrMq9lVBHw', 'eid': '0000A'}}
[2025-04-03 16:35:59,375] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698159, 'exp': 1743701759, 'jti': 'ID.zmexbbi3nkti3haUBs8rk2wm6PdCzOGHN08n6p46TcY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8645ff0581dab1bfbc4a96089c8f655', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7yP1uKmXKcNgUrMq9lVBHw', 'eid': '0000A'}
[2025-04-03 16:35:59,375] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:35:59,378] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:35:59,380] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:59] "[32mGET /auth/callback?code=4I3-XwD6IN-RSDXf3-vUb8KcX9JB6Rv2OeNLHX-fsLY&state=QR8gNCwwgFtxqlPtBhdxJc3j2aELC8 HTTP/1.1[0m" 302 -
[2025-04-03 16:35:59,396] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:35:59,396] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:59] "GET / HTTP/1.1" 200 -
[2025-04-03 16:37:48,821] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:37:48,821] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:37:55,868] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:37:55,869] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:55] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:37:55,878] [DEBUG] [app] : Asignem nonce a la sessio actual: 39cdf98fff5ef25f1804da993aff22ce
[2025-04-03 16:37:55,878] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:37:55,879] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:56,649] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:37:56,654] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:56] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:37:57,294] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:58,289] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:37:58,292] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:58,865] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:37:58,869] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:58] "GET / HTTP/1.1" 200 -
[2025-04-03 16:37:59,253] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:37:59,260] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkhVb2tEMlk4ZGRBMlhIamJBRF82aHRrNWZSM1BnRUN3Ykx6WjVUWWdSdlkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgyNzgsImV4cCI6MTc0MzcwMTg3OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.dH1_LcQpaLEZjOkc9-BteDDmos6_s3XU7xqr199ebwzBNZWj1dct9bWF3zp5-5TvmN0WOZhBQx6dPIpA8AueRnKxAHbN9cdbUPRf855ZC4UjELOCBCJl8wunYVCyAHMlBoyIvttcT9FXWnQxJ4DsIhEP73qCAwWW0KcutDJHBwikC2D9rS7UyXDglYcaCY2qLRR8s7hIEywlbVGm4NO2xXdlw4RhZLu3dHkeGHKI4B-PS8wW5ypcaKn6u33i6XtAkzsJ9NJRm7s9tbmXzipz7Z4lDozyNK2p4xhFmhp2UrbnXqWtUgaOH-I7su2WqRXVyxy7HV6tEyZmHtQaXfWYaA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgyNzgsImV4cCI6MTc0MzcwMTg3OCwianRpIjoiSUQuekRIdU5ucEVraVJKTzNnck92TnpublJFNWNVN0RPNjNZaEg2cGpUY2VwdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM5Y2RmOThmZmY1ZWYyNWYxODA0ZGE5OTNhZmYyMmNlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IkkyV2lmUkFOaGJ2eG9hSW5FSjE0UlEiLCJlaWQiOiIwMDAwQSJ9.ReeNEH1q_iLFCZzYpQcTeUjbH9L7Y3vfKssY2PKZwrfjR_xHhIHjXWdS9senJyzUMxrLwkNKs_7A1wus9c8dqGBaOIk9e1Omh9TqXT3oZMMhGfLavsjWC4Y9CqqIHCY8DStWsvyn6ZaHMusNwYAHNchx3uvMj4bTV_KSLF7ry0BKuRv9Og-DouWtYdJJ6M2ZwQAQAyJWNGtNy8gdLKiJAiUBPPJ1jPKpdQpJxcScCIWo89hOCRI0oESZ3Od_YJIqcqSOS7e7CMxTqq3bV5-IrNhsSBaylaTgLZvuh_b2rBXU3dOg2zc52xwlZUig38Y3URe1EnbhLUGc7H_Uov9jyg', 'expires_at': 1743701878, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698278, 'exp': 1743701878, 'jti': 'ID.zDHuNnpEkiRJO3grOvNznnRE5cU7DO63YhH6pjTcepw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '39cdf98fff5ef25f1804da993aff22ce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'I2WifRANhbvxoaInEJ14RQ', 'eid': '0000A'}}
[2025-04-03 16:37:59,261] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698278, 'exp': 1743701878, 'jti': 'ID.zDHuNnpEkiRJO3grOvNznnRE5cU7DO63YhH6pjTcepw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '39cdf98fff5ef25f1804da993aff22ce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'I2WifRANhbvxoaInEJ14RQ', 'eid': '0000A'}
[2025-04-03 16:37:59,261] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:37:59,285] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:37:59,290] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:59] "[32mGET /auth/callback?code=TBCtoRb3r5-jJUwXSzdBAjAY6cIASS0BgoS6qijIYkE&state=xTmFDGUwt7CMqufEjHjCq8uHFuS724 HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,202] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:38:04,203] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:04] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,214] [DEBUG] [app] : Asignem nonce a la sessio actual: 3038912e4b67eb423d49c5efd38db6bc
[2025-04-03 16:38:04,214] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:38:04,215] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:04] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,831] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:38:05,789] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:38:05,790] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmo5eEozQ1RJQTVJakhUVlFlZFdDWHlGd21KMlpKblZQbDVjTklVcHBEN28iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgyODUsImV4cCI6MTc0MzcwMTg4NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.UchmyLpzk1dhBud81U_wMauRVF7RKJx-9y09q1OvSDGXhHatNgUBrnuhg-dDuAJOmMk2873KWdIU-ht1Q8bMuMSH5vpnMUaPWdbQmuTtlHuN6_02thG97wYtwJ5JYYncOy6e2OmB1-Ky4YFYsoeCKCd2KaxcB_GgF4NSTZFSPYKvqM3Du5mqYpaJCnEFI_w0so8lfJavaKawRi8skwcpqZ-tBRnzekjxcIrWJoHG-ptr7yMPLFLERz_cVgagxK63HMtfBqIpFJZbAuNOiQPmXgar07BPh_KFEsn3SqMrbD5Ot_fgbOQ0dx7hdde4w5S6HASCGMZG_bovVkfMRKNFrg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgyODUsImV4cCI6MTc0MzcwMTg4NSwianRpIjoiSUQuWXNWWDUwVW1CZGlBZXc2bE9Ha3NYNHRRR3pqbVRpVlE0dnl2UVk1QUp0NCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMwMzg5MTJlNGI2N2ViNDIzZDQ5YzVlZmQzOGRiNmJjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IlJLUXBNS0FxTGlwMklFVS1vdXpEMEEiLCJlaWQiOiIwMDAwQSJ9.VxcS_D6MuMXug6h2dG5tYLTjEtu3FuLZP3qUsPVmAQR7TWdH5IktDkT8s6XlVlcy7ksfrXDYjLHaoyehuO3Ud6Eyn6KTA_Narn7lBIG0fMKP_RB7eVOz3ig541uikvvZQ5070A7HVm5TMDXXxm-DmtLyqMFowf4tJ2LzLEBY5xpABqrV8s6-iCw8BptV5Vrc7v8NnSG9JBWPWvbKAl6lq-dVsDPybG1Z-YUaCF7hPODLhLC20Uf0rEuILFA4eph4hQJK7i3bypJ4ydYcD-P2vls_jJEsxLUtcM7Wgbm460oPaxs3olTywH9O4N3hoelmsp-lVWM9ySrNFjhQ3Dpn7w', 'expires_at': 1743701885, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698285, 'exp': 1743701885, 'jti': 'ID.YsVX50UmBdiAew6lOGksX4tQGzjmTiVQ4vyvQY5AJt4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3038912e4b67eb423d49c5efd38db6bc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'RKQpMKAqLip2IEU-ouzD0A', 'eid': '0000A'}}
[2025-04-03 16:38:05,791] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698285, 'exp': 1743701885, 'jti': 'ID.YsVX50UmBdiAew6lOGksX4tQGzjmTiVQ4vyvQY5AJt4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3038912e4b67eb423d49c5efd38db6bc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'RKQpMKAqLip2IEU-ouzD0A', 'eid': '0000A'}
[2025-04-03 16:38:05,791] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:38:05,793] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:38:05,793] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:05] "[32mGET /auth/callback?code=Nxa9NAGdqImJgezitylWRqWShqRhAVTh97eS51jMvTY&state=p5XsMn3NT4Lpykp6VIBF0rVtvVmhbr HTTP/1.1[0m" 302 -
[2025-04-03 16:38:05,805] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:38:05,806] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:05] "GET / HTTP/1.1" 200 -
[2025-04-03 16:52:05,369] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:52:05,369] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:52:08,605] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:52:08,609] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:08] "GET / HTTP/1.1" 200 -
[2025-04-03 16:52:14,211] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:52:14,212] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:14] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:52:14,220] [DEBUG] [app] : Asignem nonce a la sessio actual: 499f7ad70038068184791eb925e248ad
[2025-04-03 16:52:14,220] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:52:14,221] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:14,904] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:52:14,906] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:14] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:52:16,068] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:17,074] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:52:17,076] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:17,989] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:52:17,996] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjA5dkV4VVdDeTZCUkY3RHlEYXRtZzRXMEo1S2hLTGkxMGM1T1llVWpJZ1kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTkxMzYsImV4cCI6MTc0MzcwMjczNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.l_sMMVrUYttl7yxSn3KIZjJe20aP3y-vT3q002lZIf5k3Y8xClQ77Kg_G9o8VkRTTRHTihR0OFhowde8KCYLTwv4VgEaJN0KvMtpvOdYolsuDX103iayC9qA5cxWWrGTiCJRujsQdHUuFCPaUYSUg9p5O6E_yXX9DMjf20U7PT-i2Hu3nqS-984GFnsEWU5hy6ur0POdVAUWZjwGQ4w2NLCcqtvS58yuUNTXsb9HdNSQPrKNZC4amGhw3kfMjk6Wx9P-5Qwd78kRLTWYkY-u2VKpFw8MiJsj1u4dffa5nG5wE-qqp1A29JSwpeqPUpo_gxTDBCHHXIR60fn8_08x6A', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTkxMzYsImV4cCI6MTc0MzcwMjczNiwianRpIjoiSUQuYXB3UUtiMUEzTnRuc1c5aDBWdmlRZUxaMUNvRHdGNV9XVDdxRHNXMW9PcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5OWY3YWQ3MDAzODA2ODE4NDc5MWViOTI1ZTI0OGFkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImpKZWU4eHFQdlFhN0tyZVdsMUVMLWciLCJlaWQiOiIwMDAwQSJ9.W8IKMZHQN3QPKeIhlUw7An74r2kAPXpH2x69PvKpQOUBD44c-9OpQ_a8VySt7rKpDqbbK-QIj1pclmwDiAOUE6-dn6hBozPTBB4B_VmFp7L3pDjd-yaP1LmzEDgOgIngEGboeY61O57jcb-wAmZrClBW2q8EopN6qE8XEc-HdDTftj9ffVHnRyphvFqF375rOYb1X2OLMVByi8ln9Mu0GfS6zfSFmU9lYhnNG_A-t6wVTE_F4SGIHBoRbD5LwMHZhevMF9PSRbzREuWPtWenAaGYLZkVxu67Lur4zObaVu6CrqHo9olcLyLZIf94QagXm225fr2xq7nuNebINi-VhA', 'expires_at': 1743702737, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743699136, 'exp': 1743702736, 'jti': 'ID.apwQKb1A3NtnsW9h0VviQeLZ1CoDwF5_WT7qDsW1oOs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '499f7ad70038068184791eb925e248ad', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jJee8xqPvQa7KreWl1EL-g', 'eid': '0000A'}}
[2025-04-03 16:52:17,996] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743699136, 'exp': 1743702736, 'jti': 'ID.apwQKb1A3NtnsW9h0VviQeLZ1CoDwF5_WT7qDsW1oOs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '499f7ad70038068184791eb925e248ad', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jJee8xqPvQa7KreWl1EL-g', 'eid': '0000A'}
[2025-04-03 16:52:17,997] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:52:18,009] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:52:18,011] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:18] "[32mGET /auth/callback?code=e6-BiB8b9jvyvkZJmRMsvPMjcYnB-IpvW6JtAOvPDxk&state=rQrVUvTfre6LakR6M8JS0ehaMJmlb9 HTTP/1.1[0m" 302 -
[2025-04-03 16:52:18,021] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:52:18,022] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:18] "GET / HTTP/1.1" 200 -
[2025-04-04 15:32:26,642] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:32:26,644] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:32:37,213] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:32:37,214] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:32:52,510] [INFO] [app] : Usuari no autenticat.
[2025-04-04 15:32:52,516] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:52] "GET / HTTP/1.1" 200 -
[2025-04-04 15:32:52,988] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-04 15:32:54,296] [DEBUG] [app] : Asignem nonce a la sessio actual: 5201ffccb93f51b564bfb1e50879c7a9
[2025-04-04 15:32:54,296] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-04 15:32:54,298] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:32:55,197] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-04 15:32:55,200] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:55] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-04 15:33:11,784] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:12,801] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-04 15:33:12,806] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:13,751] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-04 15:33:13,766] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjV4V1pUcE1mdEhjNHFMM204MmlUNUVfU05JcjdKS1lXRzctZ0R3TmRQelEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM3ODA3OTIsImV4cCI6MTc0Mzc4NDM5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNzgwNzkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.iRvKnRTYYg6fVF8m1YIdGIE20S3YUH5abrBuege7VnxE3o3Hsmvw8Q6jsTu2TlwAFGNNIa8OVDw-ZKy5usSlB4XwKKdZRGO50gV19MrDMQN6WT9XrbyI7Fn0z-llTGl36vB5m57M3mZLe-3PPrb9Nac3a__-S2AmFlUb1COA_DCt3tdLzJGSBZNfSW59S5BOMFwpaW-sPtBY4vtt3iTqNgy8y3xgMbJfJbPLEm3EwejL2IqC0qg09uOycR6lF64XapRlqE9NNiNRiQ5jslFyt6D915v-Tu9au_iISruZjJmURSdAqv9rgEJrixRNcAJQFyHqtH4lgj_c2jbwkH-Twg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM3ODA3OTIsImV4cCI6MTc0Mzc4NDM5MiwianRpIjoiSUQuc29udS1HbnJQSU9RMW5EWXUxMXVUZWpMMm5lc3phU1hEMzgzMjJGdExrVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjUyMDFmZmNjYjkzZjUxYjU2NGJmYjFlNTA4NzljN2E5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Mzc4MDc5MSwiYXRfaGFzaCI6ImxQWVdYNXp1VlVEd1RVcDRkNzRsWEEiLCJlaWQiOiIwMDAwQSJ9.cO67zgiYTWdjRLATeUEWNO6T6qcRgzM3MLwVcxyH_R75xqMHeK1-ECCqNCAG0i-yHzZ3FcJpKgkNNZcHLfC9UEth0RqTzTxVZ3uydZed_9v8X51Vhfh2lXOs_S84Yy5r9-AnRK_JW8XFKatjEzpRbb74n14zLDX7b_2uAd8WLKwGNv56mVgJs7dtzJyeRyivps-8BD3oR9FCgC4kSEt_4PJ9jwqVW3ES8q6y5OxsGQU-a-WZrL6ZbH7CW4T1zvsoyj6fw2wi4zC6Xqy_Z-s7enFMBtC55P9jz9nCsNbks5UGR_0_at6nBEOo-uvdy44Fx9HSSgcjuHNNtE53ZC3cDQ', 'expires_at': 1743784392, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780792, 'exp': 1743784392, 'jti': 'ID.sonu-GnrPIOQ1nDYu11uTejL2neszaSXD38322FtLkU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5201ffccb93f51b564bfb1e50879c7a9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'lPYWX5zuVUDwTUp4d74lXA', 'eid': '0000A'}}
[2025-04-04 15:33:13,767] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780792, 'exp': 1743784392, 'jti': 'ID.sonu-GnrPIOQ1nDYu11uTejL2neszaSXD38322FtLkU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5201ffccb93f51b564bfb1e50879c7a9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'lPYWX5zuVUDwTUp4d74lXA', 'eid': '0000A'}
[2025-04-04 15:33:13,767] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-04 15:33:13,817] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:33:13,819] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:13] "[32mGET /auth/callback?code=37R9gNTDR4Xxpgfe-URVUNy6eQvi-F7xurv3LEU3tnA&state=qtPlLsEKUw0PCaMJ4K5w97zxyZFpLa HTTP/1.1[0m" 302 -
[2025-04-04 15:33:13,828] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:33:13,828] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:13] "GET / HTTP/1.1" 200 -
[2025-04-04 15:33:18,226] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-04 15:33:18,227] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:18] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-04 15:33:18,237] [DEBUG] [app] : Asignem nonce a la sessio actual: a83e0807b8426a0b4bb88409438dab90
[2025-04-04 15:33:18,237] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-04 15:33:18,238] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:18] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-04 15:33:18,864] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:19,892] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-04 15:33:19,896] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjc2a2ZveXpSam1iZi1xd2NqaXBXQ19fTmY1V2Z0YlJxYTJzOE9FTUdZa1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM3ODA3OTksImV4cCI6MTc0Mzc4NDM5OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNzgwNzkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.edtVMSUukCbazdO4xlpjDBw9CFUFDZIA1e8ba0MCQfBHwMO_H0_ibT-Pk2j7kmgFDAPo673vnztF1v7kvgHKLeEiqKlSN28MSv6P2gr21RACwQxGekFvDQ7uadBIKscpAhz-4tQ9EIP73R8BGa4MVT-EKlbbUHTLBKo03GHSiJib-af4BPnsoPSyfONgbEBDlmH6wXYQoW6q4X8ge6QpLWnMDM2ojVOsb6LFxoxHxdLtMt-3i1LRE7ngvhWVb14oB7aIkM2fDQHxO7oUiqREPeSdJN9rJ88Sy4PIj8gyGAtqKiOL97zKNGUC8zUtmEgwvzn-H4MHLxinagYS9oVLiA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM3ODA3OTksImV4cCI6MTc0Mzc4NDM5OSwianRpIjoiSUQuNFBWWEd6UWV3Yzl4MUM5MkVpQjdQRFg4VHlrcmw1YlI5WE5VNEJhRUp1SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE4M2UwODA3Yjg0MjZhMGI0YmI4ODQwOTQzOGRhYjkwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Mzc4MDc5MSwiYXRfaGFzaCI6IkNhSzRudnRDZjVORk9BS0UtVGhVNUEiLCJlaWQiOiIwMDAwQSJ9.optIlpvRlxevR306fNR2XD5hyfVBfOPPlst_91BM8aq8vjeNcu7yvfkf-T0BVprtW_Kjvhm6PPE-_hkk3Sm87cemrR9WyT0z80KMCxZRjdQ3VuMOTOgaJMSAe3o4VarKc1jSwugXHYmb2eNAM-JMxPQAwe2EiTi_Yxogb4tXS4Hd0GhBCTcpk-A5Gya6dz7jDDJxJBum0EpmnnLM7GtKZYqkDk6c99kqmiMeO3RDEtAf2wGd3xUcg8EvgwllYStBgKtK6evVEBc_aLHyuZkZSbuUeIgL7-KwxuLg7h6L0mf7eDN_SWLDcNIcoh77wdELMx6n7wX20SvKVCIW0hd7GQ', 'expires_at': 1743784399, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780799, 'exp': 1743784399, 'jti': 'ID.4PVXGzQewc9x1C92EiB7PDX8Tykrl5bR9XNU4BaEJuI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a83e0807b8426a0b4bb88409438dab90', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'CaK4nvtCf5NFOAKE-ThU5A', 'eid': '0000A'}}
[2025-04-04 15:33:19,897] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780799, 'exp': 1743784399, 'jti': 'ID.4PVXGzQewc9x1C92EiB7PDX8Tykrl5bR9XNU4BaEJuI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a83e0807b8426a0b4bb88409438dab90', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'CaK4nvtCf5NFOAKE-ThU5A', 'eid': '0000A'}
[2025-04-04 15:33:19,897] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-04 15:33:19,899] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:33:19,900] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:19] "[32mGET /auth/callback?code=UWpgHHTI4Cw2SIicp1nYqN8K7CLjOrB3uLq-UQPZlJY&state=Wgjvq7b0HxibJeP70vQBhMovo72dyj HTTP/1.1[0m" 302 -
[2025-04-04 15:33:19,912] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:33:19,913] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:19] "GET / HTTP/1.1" 200 -
[2025-04-04 15:45:37,923] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:45:37,923] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:45:51,791] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:45:51,796] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:45:51] "GET / HTTP/1.1" 200 -
[2025-04-04 15:45:58,747] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:45:58,760] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:45:58,763] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:45:58] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:46:58,996] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:46:58,996] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 15:46:59,003] [INFO] [app] : NEW full_name: PAblo Franco Carrasco
[2025-04-04 15:46:59,003] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:46:59,006] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:00,058] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-04 15:47:00,063] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-04 15:47:00,064] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'PAblo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'PAblo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-04 15:47:00,066] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:01,160] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-04 15:47:01,162] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'PAblo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'PAblo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-04 15:47:01,170] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:01] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-04 15:47:01,181] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:01,183] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:01,184] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:01] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:47:03,714] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:47:03,714] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:03] "GET / HTTP/1.1" 200 -
[2025-04-04 15:47:05,431] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:05,433] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:05,435] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:05] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:47:11,814] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:11,814] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'PAblo Franco Carrasco'}
[2025-04-04 15:47:11,819] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-04 15:47:11,819] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:47:11,821] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:12,804] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-04 15:47:12,805] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-04 15:47:12,805] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-04 15:47:12,806] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:13,792] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-04 15:47:13,795] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-04 15:47:13,799] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:13] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-04 15:47:13,811] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:13,813] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:13,814] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:13] "GET /profile HTTP/1.1" 200 -
[2025-04-04 16:05:57,703] [INFO] [app] : Usuari autenticat.
[2025-04-04 16:05:57,704] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:05:57] "GET / HTTP/1.1" 200 -
[2025-04-04 16:08:47,170] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 16:08:47,170] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 16:08:48,977] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 16:08:48,980] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:48] "GET / HTTP/1.1" 200 -
[2025-04-04 16:08:51,446] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 16:08:51,458] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 16:08:51,461] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:51] "GET /profile HTTP/1.1" 200 -
[2025-04-04 16:08:52,579] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 16:08:52,579] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:52] "GET / HTTP/1.1" 200 -
[2025-04-10 14:38:33,893] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-10 14:38:33,893] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-12 16:54:05,387] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-12 16:54:05,387] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-12 17:27:23,205] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-12 17:27:23,205] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:20:45,538] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:20:45,539] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:21:00,460] [INFO] [app] : Usuari no autenticat.
[2025-04-17 09:21:00,465] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:00] "GET / HTTP/1.1" 200 -
[2025-04-17 09:21:00,956] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-17 09:21:07,216] [DEBUG] [app] : Asignem nonce a la sessio actual: 33ef1c0c00bb8ec0c5f74e75691405a1
[2025-04-17 09:21:07,216] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-17 09:21:07,218] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:21:08,187] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-17 09:21:08,192] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:08] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-17 09:22:05,684] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:22:06,660] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-17 09:22:06,664] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:22:07,565] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-17 09:22:07,576] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm9XRjNxYWtTaWVESkxFbzR1a2tGc3FPSTZzR2Y4T09oQXpzLUw3YUdIQWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ0ODgxNzI0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.fSgOxHc8QGHkXMeBaGqNHsrzm3O284fPOO89OL7vHp8zrSSMx0PqQQKUkj2iF5rDwTyiGOViUO7rUqSBS7NR-RS2-p1BMhQPPakCYaHw6WgOP9dEEFbyTam4QDET4PuH18VG9YXJJHN7QsYV78itFYIqJettQunVdVuD-nl0EgSG2ID2ImjwUY44xoc71TRivGvjS7G06-8l445DpgeZfMYZx8_YhoYq72gimNUuSMPN2CadKtWlwVLnkg9bo3bk9o3l3f_mbhIBYMUO5P2e58PEoXH4yKS3PJjE1ghXnnhKwzP95yp2EJ0z2c8ad8i0zHGZdeOwmWyGc3B5VcoqyA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA', 'expires_at': 1744885326, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744881726, 'exp': 1744885326, 'jti': 'ID.XTm15FbxT7XeOStrkvJZ0Gfe6LsLk79x4p3holTFyZY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '33ef1c0c00bb8ec0c5f74e75691405a1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744881724, 'at_hash': 'hjhz6BzG0jSr6UFgjOh3IA', 'eid': '0000A'}}
[2025-04-17 09:22:07,576] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744881726, 'exp': 1744885326, 'jti': 'ID.XTm15FbxT7XeOStrkvJZ0Gfe6LsLk79x4p3holTFyZY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '33ef1c0c00bb8ec0c5f74e75691405a1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744881724, 'at_hash': 'hjhz6BzG0jSr6UFgjOh3IA', 'eid': '0000A'}
[2025-04-17 09:22:07,576] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-17 09:22:07,619] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-17 09:22:07,620] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:22:07] "[32mGET /auth/callback?code=ATOQq1-9A9lDjtrmYzQ33qVHHWt1OYMaTgegTpN7Njs&state=tXesNui4CpFCOA2jKyclzeMjBDI2Lx HTTP/1.1[0m" 302 -
[2025-04-17 09:22:07,628] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:22:07,628] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:22:07] "GET / HTTP/1.1" 200 -
[2025-04-17 09:26:50,871] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.oWF3qakSieDJLEo4ukkFsqOI6sGf8OOhAzs-L7aGHAk', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744881726, 'exp': 1744885326, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744881724, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-17 09:26:50,873] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-17 09:26:50,876] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:26:50] "GET /profile HTTP/1.1" 200 -
[2025-04-17 09:27:05,300] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:27:05,301] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:27:05] "GET / HTTP/1.1" 200 -
[2025-04-17 09:36:43,317] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:36:43,317] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:36:53,106] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:36:53,111] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:53] "GET / HTTP/1.1" 200 -
[2025-04-17 09:36:56,677] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:56] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-17 09:36:56,686] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA
[2025-04-17 09:36:56,687] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA
[2025-04-17 09:36:56,687] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-17 09:36:58,408] [INFO] [app] : Usuari no autenticat.
[2025-04-17 09:36:58,408] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:58] "GET / HTTP/1.1" 200 -
[2025-04-17 09:39:08,418] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:39:08,419] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:39:11,191] [DEBUG] [app] : Asignem nonce a la sessio actual: af37f33c3cd4ebc65b929f388a440587
[2025-04-17 09:39:11,191] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-17 09:39:11,192] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:12,039] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-17 09:39:12,041] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-17 09:39:18,598] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:19,539] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-17 09:39:19,544] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:20,437] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-17 09:39:20,440] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmhzX28zNVE5NjJiVXZhOVE3V3ZXQVQybERsRDhpYlV4RlhGN2V1bHh2VDQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ4ODI3NTksImV4cCI6MTc0NDg4NjM1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ0ODgyNzU3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.W8R8yqa87mcP3-wP2at9mWo1CP8qv9WHoYow2i9z6JvH9qZSDWzbaB8dCPYyVIiiflOgWO5iCGYns8-sNH25vgsbN9j3OBS9Dd8hdbzX8iUR8Pr4dDGpt1jVyAikYJWYAtle8NNFUV5Uu1zYckKFfBbEE5Q48S8McE6mrk_1i8QFCJ4P1VUNVmrPMpStO3-wMrj5EvrdR9_LVl0zPSdiFaBc1UWX40HSVXYQ86e6tcdeWY3PbUy_Ovkp_AnhGGackB2Dj4e9xWIzcd5VXy8hmLHQ0IsukqjUgCtKmYFmDLgfCU5R1YuPcczrH2iShHNOPATUqHBcdt_b_pCUQvfwkw', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODI3NTksImV4cCI6MTc0NDg4NjM1OSwianRpIjoiSUQuTGsxRmlkUnVjZDdDVUo2LTFIQ21WNzFiN0p6aGxrRDN6RDlOeUE1aDJvWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImFmMzdmMzNjM2NkNGViYzY1YjkyOWYzODhhNDQwNTg3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4Mjc1NywiYXRfaGFzaCI6IkRHalQ4OGQ4QXhLanhBTkU3SlhMSUEiLCJlaWQiOiIwMDAwQSJ9.Jv7URxJeYuyYrnxjNVk8wpL0RgNPxuLY7AF-xbe4apg-hWL05VbsnLmi1tjUu6G4Pu0ngwG-Izs7U_zX5EFvgvSObhE5kEXcbVc68joZ3xniM5wEXFrZ-4B3HMgmqucq83BSWebtbE3vfzOYbicQNAvdageWt_yEB9XsZGlr9vylctYlUXdRsrn6KIXuDxR7n6JUvATUgYDhCv4E7nxWUF4fYFMjv3xNuOhOh7tY2VYPIiSLf7PHaP6b4A6jdPXWRHEQHNxMpVj8Oqq2ZE7mExAgzVZkVEaNh1FaJb_jbfuHLL_-JTzd8pr6iCiA3asM-SH-sHhDwP_Zqpfb9Seq3g', 'expires_at': 1744886359, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744882759, 'exp': 1744886359, 'jti': 'ID.Lk1FidRucd7CUJ6-1HCmV71b7JzhlkD3zD9NyA5h2oY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'af37f33c3cd4ebc65b929f388a440587', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744882757, 'at_hash': 'DGjT88d8AxKjxANE7JXLIA', 'eid': '0000A'}}
[2025-04-17 09:39:20,441] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744882759, 'exp': 1744886359, 'jti': 'ID.Lk1FidRucd7CUJ6-1HCmV71b7JzhlkD3zD9NyA5h2oY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'af37f33c3cd4ebc65b929f388a440587', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744882757, 'at_hash': 'DGjT88d8AxKjxANE7JXLIA', 'eid': '0000A'}
[2025-04-17 09:39:20,441] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-17 09:39:20,453] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-17 09:39:20,454] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:20] "[32mGET /auth/callback?code=Pcwmkwg9fR---5eClRPWyow5nrBy0kNMssCf9TGy7qQ&state=lD6aPq1vDcJuGkgS1C0d56aYD0wr0i HTTP/1.1[0m" 302 -
[2025-04-17 09:39:20,463] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:39:20,466] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:20] "GET / HTTP/1.1" 200 -
[2025-04-17 09:39:21,946] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.hs_o35Q962bUva9Q7WvWAT2lDlD8ibUxFXF7eulxvT4', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744882759, 'exp': 1744886359, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1744882757, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-17 09:39:21,948] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-17 09:39:21,950] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:21] "GET /profile HTTP/1.1" 200 -
[2025-04-17 09:39:23,147] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:39:23,148] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:23] "GET / HTTP/1.1" 200 -
[2025-04-18 09:53:49,613] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 09:53:49,613] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 09:55:39,913] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:55:39,919] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:39] "GET / HTTP/1.1" 200 -
[2025-04-18 09:55:40,689] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 09:55:43,210] [DEBUG] [app] : Asignem nonce a la sessio actual: 5abd84b687b7b0e306b5cce7718e63c8
[2025-04-18 09:55:43,210] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 09:55:43,212] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:55:44,584] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 09:55:44,586] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:44] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 09:56:12,088] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:13,078] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 09:56:13,080] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:14,011] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 09:56:14,044] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlcwV1lDWTJhRElyYXJET1hQVkNaVFpTUEFWcGNzMXdfRVN5SnBNS0hHcm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ0OTcwMTcxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.a1H1Rm3hCTCbem8HJuZuK_iFym1cafJAZ5DLC6lgd0vldfaQ55N6OqLjoN2VyE56j9Q-qSfstzPGRlFpl5K2XAZIVNhwWy86aDkPHp6fSpJYfeHR11dCxRHPRlJx7WzKFwEbowRDFvLLxZqfSJI54mnsrKi_H1OiOynnpvZnUlD09Bpbvih87TsOwN0LxxyigwfxyRkdL8TKJWs7Pyi5j_hsGfT1sC2lxB7qvB3qPYq6i9yQcLrwR-sZCYFQbt-DDExePAiXOH_XhJ5deENAbuhgwe_9uZPGVhC1abxzDIFEyMbUVL9Y7EJW-vs1nxVmrQhX-LBX6cZ1pcDpiAy35w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w', 'expires_at': 1744973773, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970173, 'exp': 1744973773, 'jti': 'ID.JPvjB7s7Yg_7VgE8pXY9ZfSjWZ5OPyB4sL5g-3fBRB0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5abd84b687b7b0e306b5cce7718e63c8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970171, 'at_hash': 'IKFTwxSx83L7Cj8v9bRdjw', 'eid': '0000A'}}
[2025-04-18 09:56:14,045] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970173, 'exp': 1744973773, 'jti': 'ID.JPvjB7s7Yg_7VgE8pXY9ZfSjWZ5OPyB4sL5g-3fBRB0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5abd84b687b7b0e306b5cce7718e63c8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970171, 'at_hash': 'IKFTwxSx83L7Cj8v9bRdjw', 'eid': '0000A'}
[2025-04-18 09:56:14,045] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 09:56:14,138] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 09:56:14,139] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:14] "[32mGET /auth/callback?code=AnYARno3K-TiWxaC37XTwu81CP7ote35MmlO69eLrPQ&state=6uA9qLZ4kSKsMVBYoUURJn4zQQ0rJw HTTP/1.1[0m" 302 -
[2025-04-18 09:56:14,151] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 09:56:14,152] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:14] "GET / HTTP/1.1" 200 -
[2025-04-18 09:56:19,353] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:19,355] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 09:56:19,359] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:19] "GET /profile HTTP/1.1" 200 -
[2025-04-18 09:56:33,498] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:33,498] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 09:56:33,501] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-18 09:56:33,502] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 09:56:33,503] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:34,332] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 09:56:34,332] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 09:56:34,333] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-18 09:56:34,333] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:35,413] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 09:56:35,414] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-18 09:56:35,419] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:35] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 09:56:35,431] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:35,432] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 09:56:35,433] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:35] "GET /profile HTTP/1.1" 200 -
[2025-04-18 09:56:41,388] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:41] "GET /password HTTP/1.1" 200 -
[2025-04-18 09:56:44,976] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 09:56:44,976] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:44] "GET / HTTP/1.1" 200 -
[2025-04-18 09:58:53,770] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w
[2025-04-18 09:58:53,770] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w
[2025-04-18 09:58:53,771] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:53] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 09:58:54,511] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:58:54,511] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:54] "GET / HTTP/1.1" 200 -
[2025-04-18 09:58:57,669] [DEBUG] [app] : Asignem nonce a la sessio actual: 1d54938868d3e30fa08bb68fa6d0cd56
[2025-04-18 09:58:57,670] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 09:58:57,670] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 09:59:33,474] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:59:34,525] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 09:59:34,526] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmFibFdGZEtqVUlUbl9IOF9neC1JbWlva2tJd29yeXFoNF9uYm5zQzBNQnciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwMzY0LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.oEbspDqAgyDAtv7r7pNIEjKGn3JpDWpixwI0aNHzepMwscoqUNkCC1DqJTuKmPcCR2DwSvdU2Ov_ko2ojbK3owqzSD-APsn_9VxfQ7qu2SrbQJ4SaTc8xVduLGO3kJDrJdodXNgcymayk9Z4K4lBKh7HFOQyRTRgviid44ebMmEG43AYtHZLeKJ5bnps-7Z2a37mzzjOd3tnVsFHurW4gwRM0xQc9uFvUQn2F0heOo2YpUcBlmAsJLFVCHgK7dN_V0T1UVO1S6qCvtb59Tb8VOpqey2LLVoDzS8Pz_Nzc0gBUyObmhvxFgVblrpL4Bte8Jhl-DCUdW3gW8qDH9Ig_g', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA', 'expires_at': 1744973974, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970374, 'exp': 1744973974, 'jti': 'ID.nQZFeAbDpYEqW-RbvEReRR-iw8k-iHYsRFkP23JYMkA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1d54938868d3e30fa08bb68fa6d0cd56', 'preferred_username': 'user9@test.com', 'auth_time': 1744970364, 'at_hash': 'j8mbCW_xxpY0drPCJWWElw', 'eid': '0009X'}}
[2025-04-18 09:59:34,526] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970374, 'exp': 1744973974, 'jti': 'ID.nQZFeAbDpYEqW-RbvEReRR-iw8k-iHYsRFkP23JYMkA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1d54938868d3e30fa08bb68fa6d0cd56', 'preferred_username': 'user9@test.com', 'auth_time': 1744970364, 'at_hash': 'j8mbCW_xxpY0drPCJWWElw', 'eid': '0009X'}
[2025-04-18 09:59:34,526] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-04-18 09:59:34,528] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-04-18 09:59:34,529] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:34] "[32mGET /auth/callback?code=XPVT9Zzuyo6QlMjT97vd2oC7ZoGHnczoGywCJLqAwmE&state=53RhUgFHhsII5zKQedHhUG3TETpy0n HTTP/1.1[0m" 302 -
[2025-04-18 09:59:34,538] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 09:59:34,538] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:34] "GET / HTTP/1.1" 200 -
[2025-04-18 09:59:41,064] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA
[2025-04-18 09:59:41,064] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA
[2025-04-18 09:59:41,064] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:41] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 09:59:41,694] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:59:41,694] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:41] "GET / HTTP/1.1" 200 -
[2025-04-18 10:01:32,771] [DEBUG] [app] : Asignem nonce a la sessio actual: 9feb979e64abf94f07fd7ca2e59bc7af
[2025-04-18 10:01:32,772] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:01:32,773] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:32] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:01:42,645] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:01:43,703] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:01:43,704] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk9KSDBEOFpLM1JmUHlrZ19wZ0VFbVN4N2ZrYWctaUV3dHZScmIwaXdaUk0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA1MDMsImV4cCI6MTc0NDk3NDEwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNTAyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.gHol2fMzy4HkxaePPLNVR-VylApDYf_V-khbafrzYn96XHdMKlHS4U8MGuZ6f2q5JReGFDSoZUgsecG3DlfFLMhkMSq3HkUg79fCZ02BlSCU7ug3RjzdYmtrCANsBXHQWDrpjnaquiAoCzguNmUKY9w47A-Z1QNEXYlWZLzj2dreqZqBzjV0jOUhckPKtp-vZ-mtJ7Umw_1yrVSxT_lNBfUjdsTOhlszyR56NYsBkrHXnSyaKxMO69d3r5drxGV9FyBsJqAIF40S13hMpwvyrCjkNTZUSSmqke6wexYMjeVS1AmE5VTvDn6CUCJCw_zw6aTVSc4QMH_d_-QnbfjuqA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA1MDMsImV4cCI6MTc0NDk3NDEwMywianRpIjoiSUQuZk82RmxWYVhBVjk5ZXY3N0JyYW5ZQlJsdjktNFczR0ZlT1pDQ1E2SXBNYyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlmZWI5NzllNjRhYmY5NGYwN2ZkN2NhMmU1OWJjN2FmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDUwMiwiYXRfaGFzaCI6ImJkVFJudjB1ampCMXVyOVZBZWFxRWciLCJlaWQiOiIwMDAwQSJ9.EgpYeNGUeRICJPyG5-nlLfuikxvaMxFI69pyTqJI21_OR1SEV3vO4ryyCnyOIXiT1R5Qe-rQff1lykWsrVLA1gtJls0RXaI-sbWQ2VKsrq2_bGucpDMyRocvHazICx7caIRWnTYDpFWN7ENSXuQrFtHiqee7eg5OIlN4wFz1Le5p1WQQrIdGXESg21qp7MlflbdIGrahr1n9V6MvY0QZHJ-pnqhQilitva55HJy915GYm3_VYY-riERHI_XozygEmg0-Q5ou1x6AxhxfFYUlZhNjOxk98HJKbplSUoy_3xnkrHAqKdGaFF1tcz49YeFI3lYdYIBC1J2xzj5IztxfHQ', 'expires_at': 1744974103, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970503, 'exp': 1744974103, 'jti': 'ID.fO6FlVaXAV99ev77BranYBRlv9-4W3GFeOZCCQ6IpMc', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9feb979e64abf94f07fd7ca2e59bc7af', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970502, 'at_hash': 'bdTRnv0ujjB1ur9VAeaqEg', 'eid': '0000A'}}
[2025-04-18 10:01:43,705] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970503, 'exp': 1744974103, 'jti': 'ID.fO6FlVaXAV99ev77BranYBRlv9-4W3GFeOZCCQ6IpMc', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9feb979e64abf94f07fd7ca2e59bc7af', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970502, 'at_hash': 'bdTRnv0ujjB1ur9VAeaqEg', 'eid': '0000A'}
[2025-04-18 10:01:43,705] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 10:01:43,707] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:01:43,708] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:43] "[32mGET /auth/callback?code=l5p-jkDRCC7nozPSZVQvV5O0ooyomOELfzZELgIRDHo&state=8JPlkdwz3a4TTUw4qWPSOE54Eii8w8 HTTP/1.1[0m" 302 -
[2025-04-18 10:01:43,721] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:01:43,721] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:43] "GET / HTTP/1.1" 200 -
[2025-04-18 10:02:22,868] [INFO] [app] : Usuari no autenticat.
[2025-04-18 10:02:22,869] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:02:22] "GET / HTTP/1.1" 200 -
[2025-04-18 10:02:52,280] [DEBUG] [app] : Asignem nonce a la sessio actual: 8f3090d656f2089bd2d1533043752cc3
[2025-04-18 10:02:52,280] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:02:52,281] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:02:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:03:11,732] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:12,747] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:03:12,749] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmNTUDBBVnVOSWg1RkhiN1N4cFEyc1lYRHR1NGc0S1VWZTYxSzItWmI1blEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA1OTIsImV4cCI6MTc0NDk3NDE5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNTkwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.i7LIE0L3s-GgJSeRgZgOj505ukZJ7es74StaNva0RLAYnlDyC2E5c1kAug7Gnw8MVFOuTb508oMTju7U8gwus7eHqB0E-MkDKRitlViivNOKroI-TrLpNYL0TiSRla_kt1KSsIrKtnxh3F4o2G58k0S-cQdgu9yEEqYPkHOcCiO-PpzoiaBN4XVjEQreDv4A3iTaZ-vEkDSu8FvSrZ6ZQJwvri3mOvIhzERg9I0IGqRnkNiuwh2Q1lq90Z8bYtr49btSKUsvxOWg3bPj3DriHyQ18euUoN8OULCkelIMwsG6uydqIfGRZ9JaZNh-GAL_n0YCueuewcAgfDJVOT7WJQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA1OTIsImV4cCI6MTc0NDk3NDE5MiwianRpIjoiSUQuUzdqWVNOUkxvamdmLVVLTmliNU5aN3BUakRpWE1LTGhVdWFZYzhVRmFCTSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmMzA5MGQ2NTZmMjA4OWJkMmQxNTMzMDQzNzUyY2MzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDU5MCwiYXRfaGFzaCI6IlBGVU5yUVUyRjVyOWhCQ2MwSThTR2ciLCJlaWQiOiIwMDAwQSJ9.SRByn6nuYA-J-QK2OipOYAGJ6vI8k5opwQ9gphnfc4uOogjhkKlcU9VvOoyhCy4csTSxU52IUP8hXYTzrD1cjoblmFIi5vdNdZ14y6NXtQxfsJfJxwbOyIuv6WOZ-8Pf9xti-mhEjg4C2Au1-fXQThkr27QxpwYwuCcEsEFNH-u2lZ9F7m7uXkdCRZKpiJ-a_cObNSVdCZ8Rqls2UDfDdx85M4rKW8IzKxGy-ZAK8dMLOTS_Vgh8yynHbgOEkR-E35xAqvcY8ouRG3dV0CO3rP6rKgmZmZwxNHQ-ZNeAG1sHje_8NXWAAXku778ecXciiNsaztLnrVFdW7M5ttsWEQ', 'expires_at': 1744974192, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970592, 'exp': 1744974192, 'jti': 'ID.S7jYSNRLojgf-UKNib5NZ7pTjDiXMKLhUuaYc8UFaBM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8f3090d656f2089bd2d1533043752cc3', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970590, 'at_hash': 'PFUNrQU2F5r9hBCc0I8SGg', 'eid': '0000A'}}
[2025-04-18 10:03:12,750] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970592, 'exp': 1744974192, 'jti': 'ID.S7jYSNRLojgf-UKNib5NZ7pTjDiXMKLhUuaYc8UFaBM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8f3090d656f2089bd2d1533043752cc3', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970590, 'at_hash': 'PFUNrQU2F5r9hBCc0I8SGg', 'eid': '0000A'}
[2025-04-18 10:03:12,750] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 10:03:12,753] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:03:12,754] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:12] "[32mGET /auth/callback?code=NgzzZ0kvebGcKMqzldsJDBsTeZ3Z8CrI4-VraXRH1yY&state=Bu5CmPPtw1fqMNeEXhUujZDf15jnmn HTTP/1.1[0m" 302 -
[2025-04-18 10:03:12,763] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:03:12,764] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:12] "GET / HTTP/1.1" 200 -
[2025-04-18 10:03:18,292] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:18,294] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 10:03:18,295] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:18] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:03:25,717] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:25,717] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:03:25,720] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-18 10:03:25,720] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:03:25,722] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:26,492] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 10:03:26,492] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 10:03:26,493] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-18 10:03:26,493] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:27,533] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 10:03:27,535] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-18 10:03:27,540] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 10:03:27,555] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:27,557] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 10:03:27,557] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:27] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:03:31,332] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:31] "GET /password HTTP/1.1" 200 -
[2025-04-18 10:03:35,058] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 10:03:35,058] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:35] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:23,335] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 10:05:23,336] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:23] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:35,259] [INFO] [app] : Usuari no autenticat.
[2025-04-18 10:05:35,260] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:35] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:58,961] [DEBUG] [app] : Asignem nonce a la sessio actual: 63aa09802e608770dd69bfde77521ffb
[2025-04-18 10:05:58,961] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:05:58,962] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:06:16,175] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:17,266] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:06:17,269] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm53QzRLVDhjV0VmVm92NXAySkRDT3JQbWNXY2g3RnNLSXZyUFB5N2JkNUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA3NzcsImV4cCI6MTc0NDk3NDM3NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNzc1LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.KwkRW7LMUicC8dBMEMvVEDmw0l6rMMENInGEg4Hoeu3hMwIvm1LtmhGG-ep_xoErVuoZUIzN7FTsCRQmh3Q934K2cndT4kIPz6L7hGcHyrVLXFuA6yN24OdnPeGGPJD8xvUdMoQvIpCftZfsmQYoaN1q8fww-Y2EDAlgbLP42Olmz9agpCKzAJFD8e6zHrlk5CdhfrG1UJfrg2yjnNgM96lgjcu6b1wyGzbsEEX8sVxAS61VYDFOT86rc2Np7FWwAA-EXU9FXvpaHye8lWjwqN3omahYT-LAM8SjgcGRFsgY-eXZCC1h7ItNjs5fmUsLg3zV1RfoWHSbv02xylDMOw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA3NzcsImV4cCI6MTc0NDk3NDM3NywianRpIjoiSUQuR0FZSHlWRE84cEpqakR6U3ZLd3dCNFhqWnd5X0drWkVIN2xNMk1PcXRfMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjYzYWEwOTgwMmU2MDg3NzBkZDY5YmZkZTc3NTIxZmZiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzA3NzUsImF0X2hhc2giOiJYRTBZcWJ5azdxR1FDeE52Zmh2VktBIiwiZWlkIjoiMDAwOVgifQ.NbcHv9zgkPYQ2kBHTsk3t6PgM5OT3tJDg_rJ3_ByEo7Bi_OGJEFifrthR7tqriCaWUPwPkSdmt5D3YIUem_hb0ImIqPhxMpvGMhEJq2EKtvSQ5o7doXFburRFhTVFgi0ApWP_i9QMwLkjALHGpzZVizjv7oSg6Ia9I1KBW-BMoaPkCM3zEqa9XHSxG5d0tqxszS_8s55zrNXDgti89OQIJJw_igCcvo9U4FEQWxw99nTSNZOE7s5TJ3s9NntNPCfNiOlMQQYTG0vJtsvldNtmD0xbSL8_1oiVIXqrT_lNGa4lG-9NpzLhn-SrQNBLt7_SdZTGtVv5matMBZV-27G6w', 'expires_at': 1744974377, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970777, 'exp': 1744974377, 'jti': 'ID.GAYHyVDO8pJjjDzSvKwwB4XjZwy_GkZEH7lM2MOqt_0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '63aa09802e608770dd69bfde77521ffb', 'preferred_username': 'user9@test.com', 'auth_time': 1744970775, 'at_hash': 'XE0Yqbyk7qGQCxNvfhvVKA', 'eid': '0009X'}}
[2025-04-18 10:06:17,270] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970777, 'exp': 1744974377, 'jti': 'ID.GAYHyVDO8pJjjDzSvKwwB4XjZwy_GkZEH7lM2MOqt_0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '63aa09802e608770dd69bfde77521ffb', 'preferred_username': 'user9@test.com', 'auth_time': 1744970775, 'at_hash': 'XE0Yqbyk7qGQCxNvfhvVKA', 'eid': '0009X'}
[2025-04-18 10:06:17,270] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-04-18 10:06:17,274] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-04-18 10:06:17,275] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:17] "[32mGET /auth/callback?code=T9taETdun2LdiOsqSLpBhhL_TUxp5hGt_YPBgHSvnHs&state=i08DnN6cVGY7ZLG06XGGILAksKhlS2 HTTP/1.1[0m" 302 -
[2025-04-18 10:06:17,285] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:17,286] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:17] "GET / HTTP/1.1" 200 -
[2025-04-18 10:06:20,190] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:20,192] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-04-18 10:06:20,193] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:20] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:06:23,965] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:23] "GET /password HTTP/1.1" 200 -
[2025-04-18 10:06:44,088] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:44,088] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:44,092] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:44,992] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9@test.com HTTP/1.1" 200 None
[2025-04-18 10:06:44,993] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-04-18 10:06:44,993] [DEBUG] [app] : pwd:Prueba123!
[2025-04-18 10:06:44,993] [DEBUG] [app] : newpwd:Prueba123Prueba123!
[2025-04-18 10:06:44,994] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:46,189] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 200 None
[2025-04-18 10:06:46,190] [INFO] [app] : Contrasenya actualitzada a Okta
[2025-04-18 10:06:46,190] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:46] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-04-18 10:06:46,201] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:46,202] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-04-18 10:06:46,203] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:46] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:06:49,593] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:49,593] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:49] "GET / HTTP/1.1" 200 -
[2025-04-18 14:22:05,684] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 14:22:05,684] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 14:22:38,032] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 14:22:38,032] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 14:22:43,186] [INFO] [app] : Usuari no autenticat.
[2025-04-18 14:22:43,191] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:43] "GET / HTTP/1.1" 200 -
[2025-04-18 14:22:43,513] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 14:22:44,668] [DEBUG] [app] : Asignem nonce a la sessio actual: 8aa9cd9a1d8bb1af0b740e73d6a053f9
[2025-04-18 14:22:44,668] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 14:22:44,669] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:22:45,562] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 14:22:45,567] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:45] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 14:23:00,224] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:23:01,288] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 14:23:01,293] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:23:02,322] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 14:23:02,338] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkE4S3AwcHlycy1LeWVSTGUwcXB3cGlXMG5PdDhscEc3ek1zZlEwcFhmR1EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTg2MTc5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.p2dt_EnNnVewDcuIXa2zOEcuO4HoevKIre1Wb5UWG7su5koS6gpvWAB1yVW5YboUQHRuzf7kKYHx5cihf4YWorGqP5ObEmoFXph2jx11BWCrDjXVfd6UH6jW01FwcQgH1csBbsJuL9Z4f-QfzTOPyMZttyaJknIOxCdMjPwk_VTpjZGbEr17EAZtjmxnoaDMy8hns87hQ9ny5AV_gtDhIw3KU2-TuCZk0fX6QE6G4QxBfpmaCbvYrN3okPJoExhoXgNxwgRn0AyDYB-EXggtSCKCoL6Z87mB68cqWc1rTfgMoXSdkpGTjGsqrXVhaEkhEGCsu0WSJP-oqrpbbyKd8Q', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A', 'expires_at': 1744989781, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744986181, 'exp': 1744989781, 'jti': 'ID.qjqPdDbI1KyiN_9q5wzLGYpevHN8QVgR2Jkky-FlEtU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8aa9cd9a1d8bb1af0b740e73d6a053f9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744986179, 'at_hash': 'oiGGgiZ0368BFh979Qwn7w', 'eid': '0000A'}}
[2025-04-18 14:23:02,339] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744986181, 'exp': 1744989781, 'jti': 'ID.qjqPdDbI1KyiN_9q5wzLGYpevHN8QVgR2Jkky-FlEtU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8aa9cd9a1d8bb1af0b740e73d6a053f9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744986179, 'at_hash': 'oiGGgiZ0368BFh979Qwn7w', 'eid': '0000A'}
[2025-04-18 14:23:02,339] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 14:23:02,406] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 14:23:02,407] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:02] "[32mGET /auth/callback?code=2cMi2UXWniGTmarJHG2WymVi-PNh7CYG4ZCOXg41dKE&state=Jz6QefB2etlwBb3CBRSlKdinCxjqTT HTTP/1.1[0m" 302 -
[2025-04-18 14:23:02,416] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 14:23:02,416] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:02] "GET / HTTP/1.1" 200 -
[2025-04-18 14:23:04,626] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.A8Kp0pyrs-KyeRLe0qpwpiW0nOt8lpG7zMsfQ0pXfGQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744986181, 'exp': 1744989781, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744986179, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 14:23:04,629] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 14:23:04,633] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:04] "GET /profile HTTP/1.1" 200 -
[2025-04-18 14:23:08,891] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:08] "GET /password HTTP/1.1" 200 -
[2025-04-18 14:23:55,521] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 14:23:55,522] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:55] "GET / HTTP/1.1" 200 -
[2025-04-18 14:23:56,647] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A
[2025-04-18 14:23:56,647] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A
[2025-04-18 14:23:56,647] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 14:23:57,322] [INFO] [app] : Usuari no autenticat.
[2025-04-18 14:23:57,322] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:57] "GET / HTTP/1.1" 200 -
[2025-04-18 17:38:16,552] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 17:38:16,554] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 17:39:03,400] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 17:39:03,400] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 17:39:36,216] [INFO] [app] : Usuari no autenticat.
[2025-04-18 17:39:36,221] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:39:36] "GET / HTTP/1.1" 200 -
[2025-04-18 17:39:36,611] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:39:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 17:40:05,380] [DEBUG] [app] : Asignem nonce a la sessio actual: 40e9c83bbf5346f1c29dfd9e96f231fc
[2025-04-18 17:40:05,380] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 17:40:05,383] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:06,693] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 17:40:06,695] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:06] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 17:40:21,577] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:22,655] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 17:40:22,656] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:23,590] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 17:40:23,603] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm1pMjdCZWFyNnRka3V1T0wtRGtWekJNU0VZYndBSmdLb2hidnZweDluNW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTk4MDIwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.J-8NlB4WIlQ4mjVN0u12zqOwU75X28yejBak2MwV0eC8sdeyohDjh2G2hwzZkqyZSVR7H9DZZbPTsIO3drrgR14rO7xAyGOJOK5EwTdAAHzGkl1CQqPuG7DDCyZIIQo3C9IK6Y9vOZOPdFCqZNFoenuVD5voU_Y0rtHmed520u7NYrxnqI7plX7uEP5hbl7sP9XPAiCj0Hx0Fv9UX_jVyKBwjFUcwBs-P_DTzSXn6QqqfENVUtbRv3h9nU7gebiowJtKEb6U_cdO3A28c78zXy1FclnZ90eMSmw5VUaaDWyTELxi_zphTKDX06WMaM9ZM8-CuvsKITTMTRmeRwrjUw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA', 'expires_at': 1745001622, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744998022, 'exp': 1745001622, 'jti': 'ID.tNLGHPDkX4260UTa6fDCnq4Bj431GRUelOMCM-Ateug', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '40e9c83bbf5346f1c29dfd9e96f231fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744998020, 'at_hash': 'Hz7jXqTV98T8UgaPqyBfBQ', 'eid': '0000A'}}
[2025-04-18 17:40:23,604] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744998022, 'exp': 1745001622, 'jti': 'ID.tNLGHPDkX4260UTa6fDCnq4Bj431GRUelOMCM-Ateug', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '40e9c83bbf5346f1c29dfd9e96f231fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744998020, 'at_hash': 'Hz7jXqTV98T8UgaPqyBfBQ', 'eid': '0000A'}
[2025-04-18 17:40:23,604] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 17:40:23,647] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 17:40:23,648] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:23] "[32mGET /auth/callback?code=zaUhbuPQIWJkLb-MYHrLvfT--FRjQg-R1vELCVc1m4Y&state=Ug7cKArYBffnALHlB9GfKcqMEEacSV HTTP/1.1[0m" 302 -
[2025-04-18 17:40:23,656] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 17:40:23,656] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:23] "GET / HTTP/1.1" 200 -
[2025-04-18 17:40:25,642] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:25,644] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 17:40:25,647] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:25] "GET /profile HTTP/1.1" 200 -
[2025-04-18 17:40:34,219] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:34,219] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 17:40:34,223] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-18 17:40:34,223] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 17:40:34,224] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:35,236] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 17:40:35,237] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 17:40:35,237] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-18 17:40:35,238] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:36,317] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 17:40:36,318] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-18 17:40:36,324] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:36] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 17:40:36,336] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:36,338] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 17:40:36,339] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:36] "GET /profile HTTP/1.1" 200 -
[2025-04-18 17:40:39,864] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:39] "GET /password HTTP/1.1" 200 -
[2025-04-18 17:40:41,777] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 17:40:41,777] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:41] "GET / HTTP/1.1" 200 -
[2025-04-18 17:40:55,856] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA
[2025-04-18 17:40:55,856] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA
[2025-04-18 17:40:55,856] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:55] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 17:40:56,425] [INFO] [app] : Usuari no autenticat.
[2025-04-18 17:40:56,426] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:56] "GET / HTTP/1.1" 200 -
[2025-04-20 16:50:16,703] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-20 16:50:16,703] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-20 16:50:29,860] [INFO] [app] : Usuari no autenticat.
[2025-04-20 16:50:29,864] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:29] "GET / HTTP/1.1" 200 -
[2025-04-20 16:50:32,537] [DEBUG] [app] : Asignem nonce a la sessio actual: db18409d3ce2064bffe57d7c99a936e2
[2025-04-20 16:50:32,537] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-20 16:50:32,538] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-20 16:50:33,487] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-20 16:50:33,488] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:33] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-20 16:50:34,832] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-20 16:50:35,786] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-20 16:50:35,788] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-20 16:50:36,730] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-20 16:50:36,739] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk1hRHdxMFBhRmFveV9HX0l5WTBJWkZjVXZpNGNSSW82OXlCUFlGNERUaUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUxNjc4MzUsImV4cCI6MTc0NTE3MTQzNSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ1MTY0MzE2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.kESre0FFFuP4gAU5LR8onR5kwp0YSuihSKqOX2ApKJTitCfCwhL7Xrz9ibFqfZ4P0rYSCbEgDIPiBZSC385FzrsxrozHHSAYHTjx2CWJyPpKvpfr2RgBtyKHPmiGhSltd9gXERsUIVNYvXThQsZVHSfaGV_qdakbeWJ9t-aWhImqU7Itdp5SZxyuIpYU8eiWp4Bs-3Nt5-nXf5BbxbFTaf0WLJ75gL9i6kGrWC4XTZcgeyYYnXuKq1U0auWXdKdng7XDbbwuh1fg7SRZuzXlQF3NFPYL-lwxkJqh9L_UHlgwo4vgiwpGoDUbW8QWRfQk5Cnfw9NWLLafgEDGUwcTug', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUxNjc4MzUsImV4cCI6MTc0NTE3MTQzNSwianRpIjoiSUQua251U2VNY3Y1VkwxU3VSUVVnbllQT2xlRFdUSzVHSlJKdlIybDU5bldlayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRiMTg0MDlkM2NlMjA2NGJmZmU1N2Q3Yzk5YTkzNmUyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTE2NDMxNiwiYXRfaGFzaCI6Im0zdVlhUGNJUlNMYzNIYmZNQ3JpbXciLCJlaWQiOiIwMDAwQSJ9.bLzUDRxtugCljawkgB_t6modM_e_vMZHPDK6fkEsg-c0mIHz8P7QEWOh8BWH9RVH2VwLyKstLdA-opCW0wreJK4tMRw-fKilHMEc6P5Y_frL5dwMfYyjfF6OvID_SKLI1rv_EdIA7kZTc0s-M-Ci0irnQzSg0yCIuFoy8bJkJ1EEXsAugFxfOuABaiNJIGqtXWWUmiupTdv7TFZbWdsN6WWUPrp3LpazMr4lctdJ0sFg6jf1Z-duQMiUgNi1p1NrvwVYAAraisgETy4EwDzvxsm7l6YqAtwj2mGH7H5UcEUfC5zCC1q0ZRiKa9-vE-4KPIaDI_R8Du5_Qs5awLq_5A', 'expires_at': 1745171435, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745167835, 'exp': 1745171435, 'jti': 'ID.knuSeMcv5VL1SuRQUgnYPOleDWTK5GJRJvR2l59nWek', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'db18409d3ce2064bffe57d7c99a936e2', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745164316, 'at_hash': 'm3uYaPcIRSLc3HbfMCrimw', 'eid': '0000A'}}
[2025-04-20 16:50:36,740] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745167835, 'exp': 1745171435, 'jti': 'ID.knuSeMcv5VL1SuRQUgnYPOleDWTK5GJRJvR2l59nWek', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'db18409d3ce2064bffe57d7c99a936e2', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745164316, 'at_hash': 'm3uYaPcIRSLc3HbfMCrimw', 'eid': '0000A'}
[2025-04-20 16:50:36,740] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-20 16:50:36,779] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-20 16:50:36,780] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:36] "[32mGET /auth/callback?code=l4LiW2P4bsON99l0ocQQa6OrJi3hixLfjCZ6htqOmzY&state=4ljC2IbvZmDShpec28teqryNAO76I3 HTTP/1.1[0m" 302 -
[2025-04-20 16:50:36,788] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-20 16:50:36,788] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:36] "GET / HTTP/1.1" 200 -
[2025-04-20 16:50:39,009] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.MaDwq0PaFaoy_G_IyY0IZFcUvi4cRIo69yBPYF4DTiA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745167835, 'exp': 1745171435, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745164316, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-20 16:50:39,011] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-20 16:50:39,014] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:39] "GET /profile HTTP/1.1" 200 -
[2025-04-20 16:50:41,926] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-20 16:50:41,927] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:50:41] "GET / HTTP/1.1" 200 -
[2025-04-20 16:57:13,806] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-20 16:57:13,807] [INFO] [werkzeug] : 192.168.1.37 - - [20/Apr/2025 16:57:13] "GET / HTTP/1.1" 200 -
[2025-04-21 10:15:16,618] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-21 10:15:16,619] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-21 10:16:15,448] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:16:15,452] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:16:15] "GET / HTTP/1.1" 200 -
[2025-04-21 10:16:15,728] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:16:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 10:48:47,363] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-21 10:48:47,363] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-21 10:49:11,316] [ERROR] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:11] code 400, message Bad request version ('ZZ\x13\x01\x13\x02\x13\x03À+À/À,À0Ì©Ì¨À\x13À\x14\x00\x9c\x00\x9d\x00/\x005\x01\x00\x06\x93**\x00\x00\x00\x12\x00\x00DÍ\x00\x05\x00\x03\x02h2\x00+\x00\x07\x06')
[2025-04-21 10:49:11,317] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:11] "[31m[1m\x16\x03\x01\x07\x00\x01\x00\x06ü\x03\x03ø{Ä\x8f\x93H\x09´·\x09dÝ\x04£BsLD\x07r\x91N5VÆT\x02\x06´ç³, RáMd[o\x94Ër´]=\x91¨\x9dV2Øf¤\x923òë4Ä\x8f\x1cGS7\x1b\x00 ZZ\x13\x01\x13\x02\x13\x03À+À/À,À0Ì©Ì¨À\x13À\x14\x00\x9c\x00\x9d\x00/\x005\x01\x00\x06\x93**\x00\x00\x00\x12\x00\x00DÍ\x00\x05\x00\x03\x02h2\x00+\x00\x07\x06[0m" 400 -
[2025-04-21 10:49:11,320] [ERROR] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:11] code 400, message Bad request version ('1\x8b\x98U\x9aß¸\x94')
[2025-04-21 10:49:11,320] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:11] "[31m[1m\x16\x03\x01\x07\x00\x01\x00\x06ü\x03\x03û\x1cõ]\x1f\x9dñ\x90[ÄQM\x1e\x1b\x8e¥Rî²qb¦\x9fócÜºp¬\x7fDÒ \x13Ïõ\x86\x80\x0b1\x8b\x98U\x9aß¸\x94[0m" 400 -
[2025-04-21 10:49:22,041] [ERROR] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:22] code 400, message Bad request version ('mz\x9d\x88')
[2025-04-21 10:49:22,041] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:22] "[31m[1m\x16\x03\x01\x07\x00\x01\x00\x06ü\x03\x03\x81¿ëÍh2=þT\x05As\x1fú[EäË\x9b\x81º)¶sÌvÛíoÙíª ø$ÍÆ\x8dGUò*ÖÜ\x93\x0bmz\x9d\x88[0m" 400 -
[2025-04-21 10:49:22,043] [ERROR] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:22] code 400, message Bad request syntax ('\x16\x03\x01\x06à\x01\x00\x06Ü\x03\x03HIB\x12\x9a\x17&')
[2025-04-21 10:49:22,043] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:49:22] "[31m[1m\x16\x03\x01\x06à\x01\x00\x06Ü\x03\x03HIB\x12\x9a\x17&[0m" 400 -
[2025-04-21 10:51:02,948] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-21 10:51:02,948] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-21 10:51:20,082] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:51:20,086] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:20] "GET / HTTP/1.1" 200 -
[2025-04-21 10:51:20,334] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 10:51:22,012] [DEBUG] [app] : Asignem nonce a la sessio actual: f568348411a0a0292db0e22a077ed913
[2025-04-21 10:51:22,012] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 10:51:22,014] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:51:22,788] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-21 10:51:22,790] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 10:51:27,891] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:51:28,881] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 10:51:28,883] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:51:29,763] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-21 10:51:29,774] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZSejZWZWhVSG1UR3l6NnFVY1VZaVFzR1dBWEc5Ty1kUmdURnF2ZFJXRG8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyMzI2ODgsImV4cCI6MTc0NTIzNjI4OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ1MjMyNjg3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.TUbmM6jIwmjIfn8ib-CaQxhossALkzabqDCDGCOWNdi-O-PtBcwJWn2-t4kQTFWcM0DqOqNk3T9O6g-AeQff9tfjSIK-pew15HIa8gtycA7bEEbKyPdvClhIQNV6TKXLwn0dg3yCe02BMLG2cjq4US2XfMiNdjPHsESPgmQyW-RCqOOZ1Sua-ypw_yv0jQRiffJ4s82eLyfT1O49j2CtN1f7nKLLkkARKEXg5pHfIEvjKa3sGMJw60vakqFn0YUd8_v2YPtd2bllvzTA-q_KHdEQWgDOSTPrccyomEJ8lpLIzVpzjIcXGjnHDC5rOFxgx8A7obEiufyfyvux-h_xtg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI2ODgsImV4cCI6MTc0NTIzNjI4OCwianRpIjoiSUQucWY5NlRkNUZ1NlhDTS1zMk5Mem1tR2RSN0lvZFlQdEs2eXRGbE45cnp4VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImY1NjgzNDg0MTFhMGEwMjkyZGIwZTIyYTA3N2VkOTEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjY4NywiYXRfaGFzaCI6IlFKYkNqaHh1V05jSEFnTXlkVFRQSFEiLCJlaWQiOiIwMDAwQSJ9.oxddtcb-hgKlUfPTeSLjcmof1SrE9FyevT0DR8VNzQiw70av6AZaK1UwzYltUZJ4MQc9CffuI-iqT_5HeemTwnawxTe2KphfzHeCYt70A18bVD1i69QMCCVMIkv2dDK7m0fCy70N6O9uNsMC4CMT34dn0Y65f3s1p1Y3XEiNy1WGszZnnSg48VMKihSyOE1cH4nKJfz1zgZgrE5xoOYceccxDbOo0dIChEgNOIPi4dG-aFoQewSsSyDJaIexXpmifyXrDdN-ymlWwFcjhr9QRmStONJe2ZlunqKkZfYA8CEF_tiSyYWZaU7bRS9Ajulpyar-97fO1D1olysHsOovMg', 'expires_at': 1745236288, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745232688, 'exp': 1745236288, 'jti': 'ID.qf96Td5Fu6XCM-s2NLzmmGdR7IodYPtK6ytFlN9rzxU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f568348411a0a0292db0e22a077ed913', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745232687, 'at_hash': 'QJbCjhxuWNcHAgMydTTPHQ', 'eid': '0000A'}}
[2025-04-21 10:51:29,774] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745232688, 'exp': 1745236288, 'jti': 'ID.qf96Td5Fu6XCM-s2NLzmmGdR7IodYPtK6ytFlN9rzxU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f568348411a0a0292db0e22a077ed913', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745232687, 'at_hash': 'QJbCjhxuWNcHAgMydTTPHQ', 'eid': '0000A'}
[2025-04-21 10:51:29,774] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 10:51:29,824] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 10:51:29,825] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:29] "[32mGET /auth/callback?code=bk8GYJo6cvmU1D8m6fKavXFLxNMwyl50IRFx2LWz5rw&state=qdQ9d0tyL7TRgB1TGTcTwG4IySqSwl HTTP/1.1[0m" 302 -
[2025-04-21 10:51:29,834] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-21 10:51:29,835] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:29] "GET / HTTP/1.1" 200 -
[2025-04-21 10:51:32,820] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.FRz6VehUHmTGyz6qUcUYiQsGWAXG9O-dRgTFqvdRWDo', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745232688, 'exp': 1745236288, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745232687, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 10:51:32,821] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-21 10:51:32,825] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:32] "GET /profile HTTP/1.1" 200 -
[2025-04-21 10:51:37,342] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.FRz6VehUHmTGyz6qUcUYiQsGWAXG9O-dRgTFqvdRWDo', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745232688, 'exp': 1745236288, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745232687, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 10:51:37,343] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-21 10:51:37,343] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-21 10:51:37,343] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 10:51:37,344] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:51:38,260] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-21 10:51:38,261] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-21 10:51:38,261] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-21 10:51:38,261] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:51:39,257] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-21 10:51:39,258] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-21 10:51:39,266] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:39] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-21 10:51:39,274] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.FRz6VehUHmTGyz6qUcUYiQsGWAXG9O-dRgTFqvdRWDo', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745232688, 'exp': 1745236288, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745232687, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 10:51:39,275] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-21 10:51:39,276] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:39] "GET /profile HTTP/1.1" 200 -
[2025-04-21 10:51:42,803] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:42] "GET /password HTTP/1.1" 200 -
[2025-04-21 10:51:45,254] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.FRz6VehUHmTGyz6qUcUYiQsGWAXG9O-dRgTFqvdRWDo', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745232688, 'exp': 1745236288, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745232687, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 10:51:45,256] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-21 10:51:45,256] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:45] "GET /profile HTTP/1.1" 200 -
[2025-04-21 10:51:46,199] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 10:51:46,199] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:46] "GET / HTTP/1.1" 200 -
[2025-04-21 10:51:53,792] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI2ODgsImV4cCI6MTc0NTIzNjI4OCwianRpIjoiSUQucWY5NlRkNUZ1NlhDTS1zMk5Mem1tR2RSN0lvZFlQdEs2eXRGbE45cnp4VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImY1NjgzNDg0MTFhMGEwMjkyZGIwZTIyYTA3N2VkOTEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjY4NywiYXRfaGFzaCI6IlFKYkNqaHh1V05jSEFnTXlkVFRQSFEiLCJlaWQiOiIwMDAwQSJ9.oxddtcb-hgKlUfPTeSLjcmof1SrE9FyevT0DR8VNzQiw70av6AZaK1UwzYltUZJ4MQc9CffuI-iqT_5HeemTwnawxTe2KphfzHeCYt70A18bVD1i69QMCCVMIkv2dDK7m0fCy70N6O9uNsMC4CMT34dn0Y65f3s1p1Y3XEiNy1WGszZnnSg48VMKihSyOE1cH4nKJfz1zgZgrE5xoOYceccxDbOo0dIChEgNOIPi4dG-aFoQewSsSyDJaIexXpmifyXrDdN-ymlWwFcjhr9QRmStONJe2ZlunqKkZfYA8CEF_tiSyYWZaU7bRS9Ajulpyar-97fO1D1olysHsOovMg
[2025-04-21 10:51:53,792] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI2ODgsImV4cCI6MTc0NTIzNjI4OCwianRpIjoiSUQucWY5NlRkNUZ1NlhDTS1zMk5Mem1tR2RSN0lvZFlQdEs2eXRGbE45cnp4VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImY1NjgzNDg0MTFhMGEwMjkyZGIwZTIyYTA3N2VkOTEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjY4NywiYXRfaGFzaCI6IlFKYkNqaHh1V05jSEFnTXlkVFRQSFEiLCJlaWQiOiIwMDAwQSJ9.oxddtcb-hgKlUfPTeSLjcmof1SrE9FyevT0DR8VNzQiw70av6AZaK1UwzYltUZJ4MQc9CffuI-iqT_5HeemTwnawxTe2KphfzHeCYt70A18bVD1i69QMCCVMIkv2dDK7m0fCy70N6O9uNsMC4CMT34dn0Y65f3s1p1Y3XEiNy1WGszZnnSg48VMKihSyOE1cH4nKJfz1zgZgrE5xoOYceccxDbOo0dIChEgNOIPi4dG-aFoQewSsSyDJaIexXpmifyXrDdN-ymlWwFcjhr9QRmStONJe2ZlunqKkZfYA8CEF_tiSyYWZaU7bRS9Ajulpyar-97fO1D1olysHsOovMg
[2025-04-21 10:51:53,792] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:53] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-21 10:51:54,415] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:51:54,415] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:51:54] "GET / HTTP/1.1" 200 -
[2025-04-21 10:53:38,355] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:53:38,356] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:53:38] "GET / HTTP/1.1" 200 -
[2025-04-21 10:54:22,022] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:54:22,022] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:54:22] "GET / HTTP/1.1" 200 -
[2025-04-21 10:54:22,206] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:54:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 10:55:12,372] [INFO] [app] : Usuari no autenticat.
[2025-04-21 10:55:12,372] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:55:12] "GET / HTTP/1.1" 200 -
[2025-04-21 10:55:13,415] [DEBUG] [app] : Asignem nonce a la sessio actual: 8799f1c9fc42cb80f54fdb27085efca8
[2025-04-21 10:55:13,415] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 10:55:13,416] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:55:13] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 10:55:19,724] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 10:55:20,675] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 10:55:20,676] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjl1YzZJNXdzaXdvZGhiTVBrZlQwNkxQYVdtYUVOYVd0SXNuSThhMWotaTQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyMzI5MjAsImV4cCI6MTc0NTIzNjUyMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ1MjMyOTE5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Q9-wekvszQB4yaVMQTOHfEv00Vj57-hh_nmpEE2YwH-TVC0rTtEi4CFmtFnbTeeCZckF4JQwQbRqGRzdI3WAT4yyNVyFv2yNcXy50dHKu9BqViYPq80twnKjJS0TtLiH09MV6f7BLARAnn40phC7tXAP2saY7uNK-Qw-g4FtgJMaEvCSHijSAJTfbSbOaY7GWYuKJOK5txWzcZocOQYdu0dgkYNcSTYoqqpBVlcIirEFSeD3wZwIdrQsnQ2LXyKAps-7f4t3RKOBorHix7aFBrDkprQKJljMQNlYs5EDCq7NSNrvnKX31mmGVO9lko2gCxh5PHnjnQkwgRcU9T2YwA', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI5MjAsImV4cCI6MTc0NTIzNjUyMCwianRpIjoiSUQuZjA2VlQ1N05kZktyTGo5MG9JZE45RzlnSVZ0a1lzVTIxRDRqT1M2dDhsOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg3OTlmMWM5ZmM0MmNiODBmNTRmZGIyNzA4NWVmY2E4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjkxOSwiYXRfaGFzaCI6IkJTSDFuOUhPNnpmM0pKc1RPa0NnM1EiLCJlaWQiOiIwMDAwQSJ9.bKU8VDwvs2u-e1HSCv8gFCXtIMd6xLAe4aUy1F1RzEteaouYmwL4Yfh_rbMl1HoU1neVrsaOn6DOlXQ_VficL9cYBNdtpm7rol4zltrJLo3l0ynjgZqzzr_VBJvGesaJIXARte2UKLiShqgdwk60OzhdzNxgpMEJqACZ342_PQUQZA8sFnj3kPUoV-IhD1YR7I9YHufhC2PPXSRSbS0Ey5ZwEZjTaFLMjY18InjWgZnjpko7FpxxwTxPv_bcqEtwAZ5ul3mDDM11r5X0xgp0CE8AWRZlma7ouEdOqTMsynCfb2o9rBj3ZNwW2RsVEBddhpcqaBw5NYxBr1Mgt4OwAg', 'expires_at': 1745236520, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745232920, 'exp': 1745236520, 'jti': 'ID.f06VT57NdfKrLj90oIdN9G9gIVtkYsU21D4jOS6t8l8', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8799f1c9fc42cb80f54fdb27085efca8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745232919, 'at_hash': 'BSH1n9HO6zf3JJsTOkCg3Q', 'eid': '0000A'}}
[2025-04-21 10:55:20,677] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745232920, 'exp': 1745236520, 'jti': 'ID.f06VT57NdfKrLj90oIdN9G9gIVtkYsU21D4jOS6t8l8', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8799f1c9fc42cb80f54fdb27085efca8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745232919, 'at_hash': 'BSH1n9HO6zf3JJsTOkCg3Q', 'eid': '0000A'}
[2025-04-21 10:55:20,677] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 10:55:20,678] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 10:55:20,679] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:55:20] "[32mGET /auth/callback?code=kSJx6IR3jZ4AFp0XyP2j8N2Ji-vRQlzFWsjDdNPfQOw&state=0dwh6OD7uASi7J10L3vis13aBj8hBz HTTP/1.1[0m" 302 -
[2025-04-21 10:55:20,690] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 10:55:20,691] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 10:55:20] "GET / HTTP/1.1" 200 -
[2025-04-21 11:36:13,670] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI5MjAsImV4cCI6MTc0NTIzNjUyMCwianRpIjoiSUQuZjA2VlQ1N05kZktyTGo5MG9JZE45RzlnSVZ0a1lzVTIxRDRqT1M2dDhsOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg3OTlmMWM5ZmM0MmNiODBmNTRmZGIyNzA4NWVmY2E4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjkxOSwiYXRfaGFzaCI6IkJTSDFuOUhPNnpmM0pKc1RPa0NnM1EiLCJlaWQiOiIwMDAwQSJ9.bKU8VDwvs2u-e1HSCv8gFCXtIMd6xLAe4aUy1F1RzEteaouYmwL4Yfh_rbMl1HoU1neVrsaOn6DOlXQ_VficL9cYBNdtpm7rol4zltrJLo3l0ynjgZqzzr_VBJvGesaJIXARte2UKLiShqgdwk60OzhdzNxgpMEJqACZ342_PQUQZA8sFnj3kPUoV-IhD1YR7I9YHufhC2PPXSRSbS0Ey5ZwEZjTaFLMjY18InjWgZnjpko7FpxxwTxPv_bcqEtwAZ5ul3mDDM11r5X0xgp0CE8AWRZlma7ouEdOqTMsynCfb2o9rBj3ZNwW2RsVEBddhpcqaBw5NYxBr1Mgt4OwAg
[2025-04-21 11:36:13,670] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzI5MjAsImV4cCI6MTc0NTIzNjUyMCwianRpIjoiSUQuZjA2VlQ1N05kZktyTGo5MG9JZE45RzlnSVZ0a1lzVTIxRDRqT1M2dDhsOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg3OTlmMWM5ZmM0MmNiODBmNTRmZGIyNzA4NWVmY2E4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzMjkxOSwiYXRfaGFzaCI6IkJTSDFuOUhPNnpmM0pKc1RPa0NnM1EiLCJlaWQiOiIwMDAwQSJ9.bKU8VDwvs2u-e1HSCv8gFCXtIMd6xLAe4aUy1F1RzEteaouYmwL4Yfh_rbMl1HoU1neVrsaOn6DOlXQ_VficL9cYBNdtpm7rol4zltrJLo3l0ynjgZqzzr_VBJvGesaJIXARte2UKLiShqgdwk60OzhdzNxgpMEJqACZ342_PQUQZA8sFnj3kPUoV-IhD1YR7I9YHufhC2PPXSRSbS0Ey5ZwEZjTaFLMjY18InjWgZnjpko7FpxxwTxPv_bcqEtwAZ5ul3mDDM11r5X0xgp0CE8AWRZlma7ouEdOqTMsynCfb2o9rBj3ZNwW2RsVEBddhpcqaBw5NYxBr1Mgt4OwAg
[2025-04-21 11:36:13,670] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:36:13] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-21 11:36:14,287] [INFO] [app] : Usuari no autenticat.
[2025-04-21 11:36:14,288] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:36:14] "GET / HTTP/1.1" 200 -
[2025-04-21 11:36:15,510] [DEBUG] [app] : Asignem nonce a la sessio actual: 9a34205891188da41f20f3aa09d0c317
[2025-04-21 11:36:15,510] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 11:36:15,511] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:36:15] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 11:54:14,002] [DEBUG] [app] : Asignem nonce a la sessio actual: 8bb9d43fb10785f4f2188f6ad5cdd139
[2025-04-21 11:54:14,002] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 11:54:14,004] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:54:14] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 11:54:34,362] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 11:54:35,386] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 11:54:35,388] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlFiQ3FNWTNtTy15aDFSRzRRb1hCc3A4R0pmYjVhUW1rZW5pMzlxS3QzUW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyMzY0NzUsImV4cCI6MTc0NTI0MDA3NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ1MjM1NDgzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.UZQVKv5TJTZgN0BKmcNPsARdMiKtM4-bBQRKvXbDzu4k-XPuJq0KbCb_1ydGnRkwY5KJXYJ5zfoRRqEeL9NS-GZR5uqytTaG5A2Rp__hwdy7ishsnXHiPpIesn2vLQEcIFL3iQoBAKhEJO2uulEvWg_8H7RxqfKBMvTbCdhXhI9SeBthMT9XH-tdH6Pclws0h8hONHMtaLSAQJHpexO2zzzTHKqtBiO0rO3zqFgpIBd0IiK0drmfVsbfX5xBsZFh5khfSRPdTNWVTuRnlggjWnbG9i3E088HLSIvkcQ7bqmlkcm2hwLMsR6kPEhgagD_mxd8aor8aD6cbnYjonwmZA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY0NzUsImV4cCI6MTc0NTI0MDA3NSwianRpIjoiSUQuQ0ZDRzdLLUkzMkYwNnhGdzZrWHRBT25XNmZlUzlEaHdYQ3pTN25xUTM0USIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhiYjlkNDNmYjEwNzg1ZjRmMjE4OGY2YWQ1Y2RkMTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNTQ4MywiYXRfaGFzaCI6IkxsbW9Rd0xlZzJVUG5id2kySDlzakEiLCJlaWQiOiIwMDAwQSJ9.q33eWI4lz7k9ikOz7zQZav6y78HRVKUxEPVp0Nf_iNlEroeSSYGxxwAcRmXj9SdC9yCCuVIAuB7zyPW3_kwLpHCc12rVCfpClaENNkC3ufi_Mzhj1WfBjFv9Y75x3b9TgfWZiN_mVadPlznTbe31HHS8E-rRp2UuHg9QDa4zseT-8GPoAHM8cmPS6DIFjIazmoiCui4Jd8u6RkOJOHDgENNxPUJGv9N-0IBggTqQQZdlrnwWru_Z3GbUCfixUrdirwdWkuECMNNyzmg44hAJa6XXUupFdQcMVSZJrn5XeypW8Z7xLIZWurDbSJ7XV4SNh3ae4zkVQh6yLWA4AhrP-Q', 'expires_at': 1745240075, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745236475, 'exp': 1745240075, 'jti': 'ID.CFCG7K-I32F06xFw6kXtAOnW6feS9DhwXCzS7nqQ34Q', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8bb9d43fb10785f4f2188f6ad5cdd139', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745235483, 'at_hash': 'LlmoQwLeg2UPnbwi2H9sjA', 'eid': '0000A'}}
[2025-04-21 11:54:35,388] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745236475, 'exp': 1745240075, 'jti': 'ID.CFCG7K-I32F06xFw6kXtAOnW6feS9DhwXCzS7nqQ34Q', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8bb9d43fb10785f4f2188f6ad5cdd139', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745235483, 'at_hash': 'LlmoQwLeg2UPnbwi2H9sjA', 'eid': '0000A'}
[2025-04-21 11:54:35,388] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 11:54:35,389] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 11:54:35,390] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:54:35] "[32mGET /auth/callback?code=wcH4TkVzHzyGn5Km8xYDG3XWBpbQ9WTN3lCRnvUXya0&state=0dxv8rmyfNp6wp5rVx9HsEGPzkKzA3 HTTP/1.1[0m" 302 -
[2025-04-21 11:54:35,398] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 11:54:35,398] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:54:35] "GET / HTTP/1.1" 200 -
[2025-04-21 11:55:03,963] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY0NzUsImV4cCI6MTc0NTI0MDA3NSwianRpIjoiSUQuQ0ZDRzdLLUkzMkYwNnhGdzZrWHRBT25XNmZlUzlEaHdYQ3pTN25xUTM0USIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhiYjlkNDNmYjEwNzg1ZjRmMjE4OGY2YWQ1Y2RkMTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNTQ4MywiYXRfaGFzaCI6IkxsbW9Rd0xlZzJVUG5id2kySDlzakEiLCJlaWQiOiIwMDAwQSJ9.q33eWI4lz7k9ikOz7zQZav6y78HRVKUxEPVp0Nf_iNlEroeSSYGxxwAcRmXj9SdC9yCCuVIAuB7zyPW3_kwLpHCc12rVCfpClaENNkC3ufi_Mzhj1WfBjFv9Y75x3b9TgfWZiN_mVadPlznTbe31HHS8E-rRp2UuHg9QDa4zseT-8GPoAHM8cmPS6DIFjIazmoiCui4Jd8u6RkOJOHDgENNxPUJGv9N-0IBggTqQQZdlrnwWru_Z3GbUCfixUrdirwdWkuECMNNyzmg44hAJa6XXUupFdQcMVSZJrn5XeypW8Z7xLIZWurDbSJ7XV4SNh3ae4zkVQh6yLWA4AhrP-Q
[2025-04-21 11:55:03,963] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY0NzUsImV4cCI6MTc0NTI0MDA3NSwianRpIjoiSUQuQ0ZDRzdLLUkzMkYwNnhGdzZrWHRBT25XNmZlUzlEaHdYQ3pTN25xUTM0USIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhiYjlkNDNmYjEwNzg1ZjRmMjE4OGY2YWQ1Y2RkMTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNTQ4MywiYXRfaGFzaCI6IkxsbW9Rd0xlZzJVUG5id2kySDlzakEiLCJlaWQiOiIwMDAwQSJ9.q33eWI4lz7k9ikOz7zQZav6y78HRVKUxEPVp0Nf_iNlEroeSSYGxxwAcRmXj9SdC9yCCuVIAuB7zyPW3_kwLpHCc12rVCfpClaENNkC3ufi_Mzhj1WfBjFv9Y75x3b9TgfWZiN_mVadPlznTbe31HHS8E-rRp2UuHg9QDa4zseT-8GPoAHM8cmPS6DIFjIazmoiCui4Jd8u6RkOJOHDgENNxPUJGv9N-0IBggTqQQZdlrnwWru_Z3GbUCfixUrdirwdWkuECMNNyzmg44hAJa6XXUupFdQcMVSZJrn5XeypW8Z7xLIZWurDbSJ7XV4SNh3ae4zkVQh6yLWA4AhrP-Q
[2025-04-21 11:55:03,963] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:55:03] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-21 11:55:04,548] [INFO] [app] : Usuari no autenticat.
[2025-04-21 11:55:04,549] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:55:04] "GET / HTTP/1.1" 200 -
[2025-04-21 11:55:19,468] [DEBUG] [app] : Asignem nonce a la sessio actual: 1e05130a9ac2356c5cd1669cb3da9807
[2025-04-21 11:55:19,468] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 11:55:19,469] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:55:19] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 11:55:29,554] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 11:55:30,504] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 11:55:30,505] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlRhSVMtbXR5WFM0STV0TnRxYWJsdUZJbk9RQzltbkM1TEZDY1hDOGo2dVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyMzY1MzAsImV4cCI6MTc0NTI0MDEzMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ1MjM2NTI4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.fg3ob2ImsArD5fjsWIR38bVj4AuWsPz7sHFS6OLjeUTsMEwG75rx71u3YC949A0MsZAiGC6vlwfz6l4dSLsFp-5PgTwqiIMC3sF1UG2MOytYCWFdn_LdjYlOMR4bxoI_YJUHpJ3ob3cxUsFInFDtP28gmKOHZ2vRiCI5OmVAmEHJkyuEULJOfyMHBMEZ5w2GJX1ViwgGDTpn4cCn1PGU0FrdPM97J6lBuc_MT9Je3_Ge0jAxq-dbW1KFOxZ2b1c-RyJt9X3PfQw_6N_QPtPbUDq4JM6hEGI66W5Hhy4oJv6-75rqNWI05qBcxvMjA_EXJKR3oxyxjrq1orduKZZ7Sw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY1MzAsImV4cCI6MTc0NTI0MDEzMCwianRpIjoiSUQueVRranp6MWttRGJkalZtdHZ1akh2bGNxbWJ5dDBfTGY5MkZON0lqU0tuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFlMDUxMzBhOWFjMjM1NmM1Y2QxNjY5Y2IzZGE5ODA3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNjUyOCwiYXRfaGFzaCI6IjhhZ3RlcGNETFFTT1F0Q3laQ2dQcXciLCJlaWQiOiIwMDAwQSJ9.mypUInK4ZYecjXBLx1IjlrO7pxbr5rp4LsS5scvMsQGE7r9_xHlmXDRSi3ayzkp7lnWMPrd51wW6x17RbnzV5DIcLSLHibTd4o953Wb3DKWQchOtgfZYxHKKDJBsSVi0kswZUpD9idLxWBGkkRo4Lde4BXeznBjDPt7lUPwDJNm6_93wPK-s2eqqNhjM-l9JJAgJIseLV4hBG8T1I78-HskXV2Qx9zWrj105tBbH8AazpAzBQOPnv0909QdOws8imSOuSOagdvzfcuLLkznCA4nGIbui2YuPYyyjyF447KvkRTEwkPtGepEZRS7lhsiGZz_KM9VG1rbAT06AazfPrQ', 'expires_at': 1745240130, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745236530, 'exp': 1745240130, 'jti': 'ID.yTkjzz1kmDbdjVmtvujHvlcqmbyt0_Lf92FN7IjSKnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1e05130a9ac2356c5cd1669cb3da9807', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745236528, 'at_hash': '8agtepcDLQSOQtCyZCgPqw', 'eid': '0000A'}}
[2025-04-21 11:55:30,505] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745236530, 'exp': 1745240130, 'jti': 'ID.yTkjzz1kmDbdjVmtvujHvlcqmbyt0_Lf92FN7IjSKnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1e05130a9ac2356c5cd1669cb3da9807', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745236528, 'at_hash': '8agtepcDLQSOQtCyZCgPqw', 'eid': '0000A'}
[2025-04-21 11:55:30,505] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 11:55:30,506] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 11:55:30,507] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:55:30] "[32mGET /auth/callback?code=2_6rier2QNEL-aRoq_LEFm_56T5h8kaMYm8iAZo-sw4&state=lk4a9cNOdGrrxoqOYRkoMZ0ABT44nJ HTTP/1.1[0m" 302 -
[2025-04-21 11:55:30,514] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 11:55:30,515] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 11:55:30] "GET / HTTP/1.1" 200 -
[2025-04-21 12:16:53,786] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 12:16:53,786] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 12:16:53] "GET / HTTP/1.1" 200 -
[2025-04-21 12:16:55,121] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY1MzAsImV4cCI6MTc0NTI0MDEzMCwianRpIjoiSUQueVRranp6MWttRGJkalZtdHZ1akh2bGNxbWJ5dDBfTGY5MkZON0lqU0tuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFlMDUxMzBhOWFjMjM1NmM1Y2QxNjY5Y2IzZGE5ODA3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNjUyOCwiYXRfaGFzaCI6IjhhZ3RlcGNETFFTT1F0Q3laQ2dQcXciLCJlaWQiOiIwMDAwQSJ9.mypUInK4ZYecjXBLx1IjlrO7pxbr5rp4LsS5scvMsQGE7r9_xHlmXDRSi3ayzkp7lnWMPrd51wW6x17RbnzV5DIcLSLHibTd4o953Wb3DKWQchOtgfZYxHKKDJBsSVi0kswZUpD9idLxWBGkkRo4Lde4BXeznBjDPt7lUPwDJNm6_93wPK-s2eqqNhjM-l9JJAgJIseLV4hBG8T1I78-HskXV2Qx9zWrj105tBbH8AazpAzBQOPnv0909QdOws8imSOuSOagdvzfcuLLkznCA4nGIbui2YuPYyyjyF447KvkRTEwkPtGepEZRS7lhsiGZz_KM9VG1rbAT06AazfPrQ
[2025-04-21 12:16:55,121] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyMzY1MzAsImV4cCI6MTc0NTI0MDEzMCwianRpIjoiSUQueVRranp6MWttRGJkalZtdHZ1akh2bGNxbWJ5dDBfTGY5MkZON0lqU0tuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFlMDUxMzBhOWFjMjM1NmM1Y2QxNjY5Y2IzZGE5ODA3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTIzNjUyOCwiYXRfaGFzaCI6IjhhZ3RlcGNETFFTT1F0Q3laQ2dQcXciLCJlaWQiOiIwMDAwQSJ9.mypUInK4ZYecjXBLx1IjlrO7pxbr5rp4LsS5scvMsQGE7r9_xHlmXDRSi3ayzkp7lnWMPrd51wW6x17RbnzV5DIcLSLHibTd4o953Wb3DKWQchOtgfZYxHKKDJBsSVi0kswZUpD9idLxWBGkkRo4Lde4BXeznBjDPt7lUPwDJNm6_93wPK-s2eqqNhjM-l9JJAgJIseLV4hBG8T1I78-HskXV2Qx9zWrj105tBbH8AazpAzBQOPnv0909QdOws8imSOuSOagdvzfcuLLkznCA4nGIbui2YuPYyyjyF447KvkRTEwkPtGepEZRS7lhsiGZz_KM9VG1rbAT06AazfPrQ
[2025-04-21 12:16:55,122] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 12:16:55] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-21 12:16:55,757] [INFO] [app] : Usuari no autenticat.
[2025-04-21 12:16:55,758] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 12:16:55] "GET / HTTP/1.1" 200 -
[2025-04-21 12:17:29,949] [INFO] [app] : Usuari no autenticat.
[2025-04-21 12:17:29,949] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 12:17:29] "GET / HTTP/1.1" 200 -
[2025-04-21 14:16:13,021] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:16:13,021] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:16:13] "GET / HTTP/1.1" 200 -
[2025-04-21 14:31:35,385] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-21 14:31:35,386] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-21 14:32:47,483] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:32:47,487] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:32:47] "GET / HTTP/1.1" 200 -
[2025-04-21 14:32:47,879] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:32:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 14:39:18,419] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-21 14:39:18,419] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-21 14:39:25,914] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:39:25,918] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:39:25] "GET / HTTP/1.1" 200 -
[2025-04-21 14:39:26,245] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:39:26] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 14:40:38,494] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:40:38,495] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:40:38] "GET / HTTP/1.1" 200 -
[2025-04-21 14:40:40,509] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:40:40,509] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:40:40] "GET / HTTP/1.1" 200 -
[2025-04-21 14:43:27,926] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:43:27,926] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:43:27] "GET / HTTP/1.1" 200 -
[2025-04-21 14:43:35,930] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:43:35,930] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:43:35] "GET / HTTP/1.1" 200 -
[2025-04-21 14:43:36,186] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:43:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-21 14:50:24,942] [DEBUG] [app] : Asignem nonce a la sessio actual: c8ef0ace5932451f115a961f1467c381
[2025-04-21 14:50:24,942] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 14:50:24,943] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:50:25,867] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-21 14:50:25,868] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:50:25] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 14:50:33,251] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:50:34,301] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 14:50:34,302] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:50:35,191] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-21 14:50:35,200] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmlsYk90T2FEdGp5OWpPaW5VS1BHWG1XYVI0UlJOcnV5TWZlNWhQbjRUMTgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyNDcwMzQsImV4cCI6MTc0NTI1MDYzNCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ1MjQ3MDMyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.QmgNFEfOuTC3wlI6r6e45bN7QjgvghFBjElrWJqnJRqJk5y6EZQCmDGX0YKDiZwhrDoqkvATqA0Yoz4bNTuNiRb6GNkQ_yXQEiW-hl-q2k5bj09N7Gv_v1SqAMebg8MVSyAN1achmEIrcNDV0KS8Y2joA3s5si4f9yKgPIxcVqzHZwIbaUHHsbB1zB-6eyGLh-bqndQlZr6a9EmGpC00P50eh3QIt_JuMOzVmip3EWB42s6O4k1ww2aSpK-gR_u5p1ODoBGs5DvummQgxUlWENdbQourYbciwzqoiKuGbzFz8eXKQotvj7pJqKMauhKFtPY5hIs340h0TzjaaYTccA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyNDcwMzQsImV4cCI6MTc0NTI1MDYzNCwianRpIjoiSUQubDh5WW04cXVxVXpabFJuT25pa2dPb2M3alJXSjF4WkpFbGRuOF9oQl9JTSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM4ZWYwYWNlNTkzMjQ1MWYxMTVhOTYxZjE0NjdjMzgxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTI0NzAzMiwiYXRfaGFzaCI6Im9GTFNUZTZWcmNRVVRwUW9vWmRsalEiLCJlaWQiOiIwMDAwQSJ9.WcTVH8UxZcfGIsVFK_Ce1RZiy7yVIzEJRUtEoekn5nWoQrlfOj5VuuXzQ9jl9XkmAUrYJsVqQF5L7eRCBxsmkr-PrQ_dtaSWy7V4rffcy1tW4e_RiEje2mNOtBL3haB3hyKBhSCHMiBVcQgkSQYw6BlO6G32OzdG5ws-bdEv-qyst1gA6xRuaeIFdoytQnZbQihlJVMNduPHjMixRNXD59lgehHz2BXBGefmRojeuIW8cubLv75GQpuXHm21fU9QvHY6QYGpDapeY8p68i3yScyPj_xnMuz3C_bUW18WaKuAE0hMfLEbcZelFcN74YNhAV7ak3OSAU2qyggaimeItw', 'expires_at': 1745250634, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745247034, 'exp': 1745250634, 'jti': 'ID.l8yYm8quqUzZlRnOnikgOoc7jRWJ1xZJEldn8_hB_IM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8ef0ace5932451f115a961f1467c381', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745247032, 'at_hash': 'oFLSTe6VrcQUTpQooZdljQ', 'eid': '0000A'}}
[2025-04-21 14:50:35,200] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745247034, 'exp': 1745250634, 'jti': 'ID.l8yYm8quqUzZlRnOnikgOoc7jRWJ1xZJEldn8_hB_IM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8ef0ace5932451f115a961f1467c381', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745247032, 'at_hash': 'oFLSTe6VrcQUTpQooZdljQ', 'eid': '0000A'}
[2025-04-21 14:50:35,200] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 14:50:35,245] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 14:50:35,246] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:50:35] "[32mGET /auth/callback?code=Pm3-OdLcZLTDyyobTZTOBrxgp8rkZAw8j5qiHKPW_bM&state=nrIlMcJpvdiSakENG5mkXF6diErMma HTTP/1.1[0m" 302 -
[2025-04-21 14:50:35,251] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 14:50:35,252] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:50:35] "GET / HTTP/1.1" 200 -
[2025-04-21 14:50:51,325] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:50:51,325] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:50:51] "GET / HTTP/1.1" 200 -
[2025-04-21 14:51:15,584] [DEBUG] [app] : Asignem nonce a la sessio actual: 218ae22043388a6e2214fe854fbd07f0
[2025-04-21 14:51:15,584] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-04-21 14:51:15,585] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:15] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-21 14:51:28,629] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:51:29,581] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-21 14:51:29,582] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULko5VmVtbmlySzZTZTlybDNRcnZ4dXA5SkREYWNPNkVtaWZwVWtnVVRmVnciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDUyNDcwODksImV4cCI6MTc0NTI1MDY4OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ1MjQ3MDg3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.VBdX2ZvXDcnH1b6CgykF42tHfuM9Ym9l2ZGeCNErQoq_8xdQa1Gr38Z7ytk2nbmtombC6JnvJS-XWRJiCB3_8gE9omIyOq6xkx3x6FPJa8DpQ8pd2Vg0nWIejwqKdPgtpMnQoZOGFR2iJIwGxtwpBvufQqx3jUAEajl_j3FKWeWOUzdCOlEdJqcme1hRBKJcRESVipAshZidUkjACcF2WBZ3I80ewS5sxRvZH3mmiGoXOGo9pby3C8jFDo1Mzo6xOvs_ejJc-dIwxyL-IKRqOgHJVZdbLWB9Ln7dT3bjIJ8OFyNrEIC-XbswIpY7LVoBLO22jeB0WaEFldeAWzG4XA', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyNDcwODksImV4cCI6MTc0NTI1MDY4OSwianRpIjoiSUQuSnphQ2Z6VnB1UldJcWRXbF9pWlNQcHRIODVVMDRhTWc5Qi03enpKZzFCQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxOGFlMjIwNDMzODhhNmUyMjE0ZmU4NTRmYmQwN2YwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTI0NzA4NywiYXRfaGFzaCI6IkN1WWpjc2tLemhQN1k5eHpNS3pPU1EiLCJlaWQiOiIwMDAwQSJ9.kDIKsVGvzyNrcz2muqLEdVDBMfFjmpomjgqAdxZhm4tCrBaNgMS8zpzM0O0gTtLIJb3ikL4_me2VURLih3LhJVpoC_LZ0Ypj9hWTbcik0mBQRSaQMvIqNAIBfjJCiJOLaIKJTg8MzNzOBegLXBSMuMA0ruYtKPRU0TLlvaoIfMB5iqYXY5OZR2Qwgf9K4mKysbeVTxibvpaFB5j0x-RLgBeokIPXIj51NIyY8Aqo3aeXfFq-b0avCK77aIKKs2bt9fSgZZOltifF23m0W2Oq-2RLD_eamsVY_aAidNnEpv6_IV_jDUvoxsTw5LHRu2DrQbaag2l3E_jECs3UxrISHA', 'expires_at': 1745250689, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745247089, 'exp': 1745250689, 'jti': 'ID.JzaCfzVpuRWIqdWl_iZSPptH85U04aMg9B-7zzJg1BA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '218ae22043388a6e2214fe854fbd07f0', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745247087, 'at_hash': 'CuYjcskKzhP7Y9xzMKzOSQ', 'eid': '0000A'}}
[2025-04-21 14:51:29,583] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1745247089, 'exp': 1745250689, 'jti': 'ID.JzaCfzVpuRWIqdWl_iZSPptH85U04aMg9B-7zzJg1BA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '218ae22043388a6e2214fe854fbd07f0', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1745247087, 'at_hash': 'CuYjcskKzhP7Y9xzMKzOSQ', 'eid': '0000A'}
[2025-04-21 14:51:29,583] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-21 14:51:29,584] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 14:51:29,585] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:29] "[32mGET /auth/callback?code=cBuSAzbFJULugXlDQoRhjVlV4UA_37vd-1BPqz7tQB0&state=Q9bsDYocr3N6v9MTtduvhakTyrxBwz HTTP/1.1[0m" 302 -
[2025-04-21 14:51:29,590] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 14:51:29,591] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:29] "GET / HTTP/1.1" 200 -
[2025-04-21 14:51:32,302] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.J9VemnirK6Se9rl3Qrvxup9JDDacO6EmifpUkgUTfVw', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745247089, 'exp': 1745250689, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745247087, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 14:51:32,303] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-21 14:51:32,306] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:32] "GET /profile HTTP/1.1" 200 -
[2025-04-21 14:51:38,337] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.J9VemnirK6Se9rl3Qrvxup9JDDacO6EmifpUkgUTfVw', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745247089, 'exp': 1745250689, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745247087, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 14:51:38,337] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-21 14:51:38,338] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-21 14:51:38,338] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-21 14:51:38,339] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:51:39,287] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-21 14:51:39,290] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-21 14:51:39,291] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-21 14:51:39,293] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-21 14:51:40,352] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-21 14:51:40,352] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-21 14:51:40,357] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:40] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-21 14:51:40,362] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.J9VemnirK6Se9rl3Qrvxup9JDDacO6EmifpUkgUTfVw', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1745247089, 'exp': 1745250689, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'openid', 'profile'], 'auth_time': 1745247087, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-21 14:51:40,364] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-21 14:51:40,364] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:40] "GET /profile HTTP/1.1" 200 -
[2025-04-21 14:51:42,692] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:42] "GET /password HTTP/1.1" 200 -
[2025-04-21 14:51:44,517] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-21 14:51:44,517] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:51:44] "GET / HTTP/1.1" 200 -
[2025-04-21 14:52:00,777] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyNDcwODksImV4cCI6MTc0NTI1MDY4OSwianRpIjoiSUQuSnphQ2Z6VnB1UldJcWRXbF9pWlNQcHRIODVVMDRhTWc5Qi03enpKZzFCQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxOGFlMjIwNDMzODhhNmUyMjE0ZmU4NTRmYmQwN2YwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTI0NzA4NywiYXRfaGFzaCI6IkN1WWpjc2tLemhQN1k5eHpNS3pPU1EiLCJlaWQiOiIwMDAwQSJ9.kDIKsVGvzyNrcz2muqLEdVDBMfFjmpomjgqAdxZhm4tCrBaNgMS8zpzM0O0gTtLIJb3ikL4_me2VURLih3LhJVpoC_LZ0Ypj9hWTbcik0mBQRSaQMvIqNAIBfjJCiJOLaIKJTg8MzNzOBegLXBSMuMA0ruYtKPRU0TLlvaoIfMB5iqYXY5OZR2Qwgf9K4mKysbeVTxibvpaFB5j0x-RLgBeokIPXIj51NIyY8Aqo3aeXfFq-b0avCK77aIKKs2bt9fSgZZOltifF23m0W2Oq-2RLD_eamsVY_aAidNnEpv6_IV_jDUvoxsTw5LHRu2DrQbaag2l3E_jECs3UxrISHA
[2025-04-21 14:52:00,778] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDUyNDcwODksImV4cCI6MTc0NTI1MDY4OSwianRpIjoiSUQuSnphQ2Z6VnB1UldJcWRXbF9pWlNQcHRIODVVMDRhTWc5Qi03enpKZzFCQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxOGFlMjIwNDMzODhhNmUyMjE0ZmU4NTRmYmQwN2YwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NTI0NzA4NywiYXRfaGFzaCI6IkN1WWpjc2tLemhQN1k5eHpNS3pPU1EiLCJlaWQiOiIwMDAwQSJ9.kDIKsVGvzyNrcz2muqLEdVDBMfFjmpomjgqAdxZhm4tCrBaNgMS8zpzM0O0gTtLIJb3ikL4_me2VURLih3LhJVpoC_LZ0Ypj9hWTbcik0mBQRSaQMvIqNAIBfjJCiJOLaIKJTg8MzNzOBegLXBSMuMA0ruYtKPRU0TLlvaoIfMB5iqYXY5OZR2Qwgf9K4mKysbeVTxibvpaFB5j0x-RLgBeokIPXIj51NIyY8Aqo3aeXfFq-b0avCK77aIKKs2bt9fSgZZOltifF23m0W2Oq-2RLD_eamsVY_aAidNnEpv6_IV_jDUvoxsTw5LHRu2DrQbaag2l3E_jECs3UxrISHA
[2025-04-21 14:52:00,778] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:52:00] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-21 14:52:01,424] [INFO] [app] : Usuari no autenticat.
[2025-04-21 14:52:01,425] [INFO] [werkzeug] : 192.168.1.37 - - [21/Apr/2025 14:52:01] "GET / HTTP/1.1" 200 -
[2025-04-21 16:28:06,471] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-21 16:28:06,472] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-22 10:01:09,662] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-22 10:01:09,662] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-24 15:35:33,746] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-24 15:35:33,747] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-27 11:23:44,970] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-27 11:23:44,971] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-30 16:50:11,202] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-04-30 16:50:11,203] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-01 09:32:10,042] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-01 09:32:10,043] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 10:45:40,527] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 10:45:40,529] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 10:45:58,926] [INFO] [app] : Usuari no autenticat.
[2025-05-03 10:45:58,931] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:45:58] "GET / HTTP/1.1" 200 -
[2025-05-03 10:45:59,209] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:45:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-03 10:47:34,738] [DEBUG] [app] : Asignem nonce a la sessio actual: 394da62f1bc53c241956c4c3955b5f80
[2025-05-03 10:47:34,738] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-03 10:47:34,740] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:47:35,735] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-03 10:47:35,737] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:47:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-03 10:47:51,588] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:47:52,649] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-03 10:47:52,650] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:47:53,702] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-03 10:47:53,712] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlpHOXpHUk9zRWlnQm1aVzlDd0w3LWtkYU5LYlNUQ0dxODRIYlVfOXIxSFEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDYyNjkyNzIsImV4cCI6MTc0NjI3Mjg3MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ2MjY5MjcwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.CKfsJybgJhEwFjZ0A9G6s3LysyhVTJuniqUgrsGVCGJU0aJYqATDWmu-Xtb7l8BjYi2eW0R9W3lZrMhOygNYGKsFiJZpaQRKPTZcLgFaCIAX0Xtl41o4dciC5rnXbNqbvt9eyHDHPLUhLXFIndFxJQkAho5Kipgf-hzE-dta0AiI_SFxSguPojdA95mV6KFQM_It-nANT4PtgOjTdLDh_ghUOWE0cru318_ZNXkShLrpIEMO-fODPMjppRx_z5nLTQDbNyhwxEAZPutE3yTwAgoXH9KM_JhISngkF6xu3a9J43UE2F8hJTpW-haVtnxVVngMc0tzGwXxWmGa1hVpxg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNjkyNzIsImV4cCI6MTc0NjI3Mjg3MiwianRpIjoiSUQuN3V4TlN0MjEwMDl3UWlsVHBPR2xhQmhJSkpuSk1TQUpCbjF0RHVFRFRFNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM5NGRhNjJmMWJjNTNjMjQxOTU2YzRjMzk1NWI1ZjgwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2OTI3MCwiYXRfaGFzaCI6IllVNjVJTDdjZGxvQl9EZGUtRjVtU2ciLCJlaWQiOiIwMDAwQSJ9.MQQ8Rjfae2FP99-WoPccPPcoZTbJcnT8GhQi9dka9GOrtnHfyWcaNh9vPvynXZD3FqxX9uZS7dNv7sjJ-Jx39MXiQOfyuAeXwA06JP2z5dzJIOkPjLrgZ76BHJt_FWyXNUoTBTaDZmmUbtJb2gvkdwyJvhvwpWZTxua4r9t-lu2JLm6OvrTeVO0-J5t9uDvqSttI8j4i5e691vTdcLTS3WWMATF20BO-_Ji2LgEGczBX7GFBh5i9w7wCsFpNoWN8lCydfEWd0A_YjmHvydRaLeRYb8lxr6SUTWReZ87XW0J8kxx9jevQ9qI8cDQoNMWNpHyzmrk4RQHvdS0H2_nvBg', 'expires_at': 1746272872, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746269272, 'exp': 1746272872, 'jti': 'ID.7uxNSt21009wQilTpOGlaBhIJJnJMSAJBn1tDuEDTE4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '394da62f1bc53c241956c4c3955b5f80', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746269270, 'at_hash': 'YU65IL7cdloB_Dde-F5mSg', 'eid': '0000A'}}
[2025-05-03 10:47:53,712] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746269272, 'exp': 1746272872, 'jti': 'ID.7uxNSt21009wQilTpOGlaBhIJJnJMSAJBn1tDuEDTE4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '394da62f1bc53c241956c4c3955b5f80', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746269270, 'at_hash': 'YU65IL7cdloB_Dde-F5mSg', 'eid': '0000A'}
[2025-05-03 10:47:53,713] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-03 10:47:53,761] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-03 10:47:53,762] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:47:53] "[32mGET /auth/callback?code=vkjVpysMfm2MH-OFoyyhaztXezYvNtOKXTOC3zh9YXU&state=aGrZybD0BC1JIRCHyEaLZMMafJmiPb HTTP/1.1[0m" 302 -
[2025-05-03 10:47:53,768] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-03 10:47:53,768] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:47:53] "GET / HTTP/1.1" 200 -
[2025-05-03 10:47:56,231] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.ZG9zGROsEigBmZW9CwL7-kdaNKbSTCGq84HbU_9r1HQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269272, 'exp': 1746272872, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269270, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 10:47:56,233] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-03 10:47:56,238] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:47:56] "GET /profile HTTP/1.1" 200 -
[2025-05-03 10:48:02,659] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.ZG9zGROsEigBmZW9CwL7-kdaNKbSTCGq84HbU_9r1HQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269272, 'exp': 1746272872, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269270, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 10:48:02,659] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-03 10:48:02,659] [INFO] [app] : NEW full_name: Pablo Franco
[2025-05-03 10:48:02,659] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-05-03 10:48:02,662] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:48:03,666] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-05-03 10:48:03,667] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-05-03 10:48:03,667] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-05-03 10:48:03,667] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:48:04,747] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-05-03 10:48:04,747] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-05-03 10:48:04,752] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:48:04] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-03 10:48:04,758] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.ZG9zGROsEigBmZW9CwL7-kdaNKbSTCGq84HbU_9r1HQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269272, 'exp': 1746272872, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269270, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 10:48:04,760] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-03 10:48:04,760] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:48:04] "GET /profile HTTP/1.1" 200 -
[2025-05-03 10:48:08,916] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-05-03 10:48:08,916] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:48:08] "GET / HTTP/1.1" 200 -
[2025-05-03 10:48:20,451] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNjkyNzIsImV4cCI6MTc0NjI3Mjg3MiwianRpIjoiSUQuN3V4TlN0MjEwMDl3UWlsVHBPR2xhQmhJSkpuSk1TQUpCbjF0RHVFRFRFNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM5NGRhNjJmMWJjNTNjMjQxOTU2YzRjMzk1NWI1ZjgwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2OTI3MCwiYXRfaGFzaCI6IllVNjVJTDdjZGxvQl9EZGUtRjVtU2ciLCJlaWQiOiIwMDAwQSJ9.MQQ8Rjfae2FP99-WoPccPPcoZTbJcnT8GhQi9dka9GOrtnHfyWcaNh9vPvynXZD3FqxX9uZS7dNv7sjJ-Jx39MXiQOfyuAeXwA06JP2z5dzJIOkPjLrgZ76BHJt_FWyXNUoTBTaDZmmUbtJb2gvkdwyJvhvwpWZTxua4r9t-lu2JLm6OvrTeVO0-J5t9uDvqSttI8j4i5e691vTdcLTS3WWMATF20BO-_Ji2LgEGczBX7GFBh5i9w7wCsFpNoWN8lCydfEWd0A_YjmHvydRaLeRYb8lxr6SUTWReZ87XW0J8kxx9jevQ9qI8cDQoNMWNpHyzmrk4RQHvdS0H2_nvBg
[2025-05-03 10:48:20,451] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNjkyNzIsImV4cCI6MTc0NjI3Mjg3MiwianRpIjoiSUQuN3V4TlN0MjEwMDl3UWlsVHBPR2xhQmhJSkpuSk1TQUpCbjF0RHVFRFRFNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM5NGRhNjJmMWJjNTNjMjQxOTU2YzRjMzk1NWI1ZjgwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2OTI3MCwiYXRfaGFzaCI6IllVNjVJTDdjZGxvQl9EZGUtRjVtU2ciLCJlaWQiOiIwMDAwQSJ9.MQQ8Rjfae2FP99-WoPccPPcoZTbJcnT8GhQi9dka9GOrtnHfyWcaNh9vPvynXZD3FqxX9uZS7dNv7sjJ-Jx39MXiQOfyuAeXwA06JP2z5dzJIOkPjLrgZ76BHJt_FWyXNUoTBTaDZmmUbtJb2gvkdwyJvhvwpWZTxua4r9t-lu2JLm6OvrTeVO0-J5t9uDvqSttI8j4i5e691vTdcLTS3WWMATF20BO-_Ji2LgEGczBX7GFBh5i9w7wCsFpNoWN8lCydfEWd0A_YjmHvydRaLeRYb8lxr6SUTWReZ87XW0J8kxx9jevQ9qI8cDQoNMWNpHyzmrk4RQHvdS0H2_nvBg
[2025-05-03 10:48:20,452] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:48:20] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 10:48:21,096] [INFO] [app] : Usuari no autenticat.
[2025-05-03 10:48:21,097] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:48:21] "GET / HTTP/1.1" 200 -
[2025-05-03 10:57:02,371] [INFO] [app] : Usuari no autenticat.
[2025-05-03 10:57:02,371] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:02] "GET / HTTP/1.1" 200 -
[2025-05-03 10:57:31,323] [DEBUG] [app] : Asignem nonce a la sessio actual: 630f9c5ba66ea7aaeeff59c1f6b0d88b
[2025-05-03 10:57:31,323] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-03 10:57:31,324] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:31] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-03 10:57:53,369] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:57:54,559] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-03 10:57:54,560] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjdFRTlsem9xMG9aN2JQX0FqUzNWSnNud3NIcmkza1FNTlozc2dhdktkZ0kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDYyNjk4NzQsImV4cCI6MTc0NjI3MzQ3NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ2MjY5ODcyLCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.eN9GTQyMAuSzkC3j0kU1VD5xq1AQNDhxWaucGw-D1eSlMFEaPFjNS8kDdfpr1ZCGoVsmDY58IRmRjHM4hyjj6lNDQVbhCTR95fcuD-VHN91SVEeL5cOPyLmgmynDiBmmE7Zj2CSDjkO9TzpmUzQpe3d9aWNWxPv0S2nqaqJGyTJG2vOgOgeHPS2LpCfTyXK3jcMR3TB2BmO0va825KP2RaOlYk9UYzmFwWBWCAyp5rkRV8lbRuwzSxQinMbieQ_4sRkVstR2aHeMAw-wgQCeaDxBq-ASq8VLufRPgI3XX4FbUfF8Zazno5tY5FcKKu6n-lVEhPwLsjiLYLNrDB8quw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNjk4NzQsImV4cCI6MTc0NjI3MzQ3NCwianRpIjoiSUQuWEIzRXhDcnNUTkZwY255cWVhcXE5LUk2bFZ3WDlxaUV0Q2hZMnVoYWJ1dyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjYzMGY5YzViYTY2ZWE3YWFlZWZmNTljMWY2YjBkODhiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyNjk4NzIsImF0X2hhc2giOiI4Uk1ScHYzZ21KMGxmaXJmN203bGdBIiwiZWlkIjoiMDAwOVgifQ.Zs50OMC6bRevM61pNSRsSFX7WT11-vyvGQZBr_uqRSv49tjx5PtY3RjYvHHSk7t4ImhkGa4g8aFFX6VH6hxeWottfTgiff25QTKh-YpD4OkTEuwB5G6zI2rjiHEsTZumqt8q7f0PJuzt69rRiJzcfvHe3FnImLI2aofEXUHSZyjsYky2JWh7pbIswimiEdDJm9ZF58cHqFNUYQVG96im_2frp8wpoSZU8k1V3oxNBhzCdtDqD1stk6to_6Si7_oL02l5-5Ry2W6HCdFRTojyh9q2vmarGSobxHsk3qtSnU_yl_Y5S6-dPmQfg92A36t09Zjbm4yMl6u2IffYxTPCoQ', 'expires_at': 1746273474, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746269874, 'exp': 1746273474, 'jti': 'ID.XB3ExCrsTNFpcnyqeaqq9-I6lVwX9qiEtChY2uhabuw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '630f9c5ba66ea7aaeeff59c1f6b0d88b', 'preferred_username': 'user9@test.com', 'auth_time': 1746269872, 'at_hash': '8RMRpv3gmJ0lfirf7m7lgA', 'eid': '0009X'}}
[2025-05-03 10:57:54,561] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746269874, 'exp': 1746273474, 'jti': 'ID.XB3ExCrsTNFpcnyqeaqq9-I6lVwX9qiEtChY2uhabuw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '630f9c5ba66ea7aaeeff59c1f6b0d88b', 'preferred_username': 'user9@test.com', 'auth_time': 1746269872, 'at_hash': '8RMRpv3gmJ0lfirf7m7lgA', 'eid': '0009X'}
[2025-05-03 10:57:54,561] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-05-03 10:57:54,562] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-05-03 10:57:54,563] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:54] "[32mGET /auth/callback?code=FcoeaYToBxmwBE56ONTNWt03Yj7eMnC11lEZ1Dxw18s&state=RL5jeWVaMa4LP5zNDpDxzw2qmU6jyU HTTP/1.1[0m" 302 -
[2025-05-03 10:57:54,571] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 10:57:54,571] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:54] "GET / HTTP/1.1" 200 -
[2025-05-03 10:57:56,823] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.7EE9lzoq0oZ7bP_AjS3VJsnwsHri3kQMNZ3sgavKdgI', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269874, 'exp': 1746273474, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269872, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 10:57:56,824] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-05-03 10:57:56,825] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:56] "GET /profile HTTP/1.1" 200 -
[2025-05-03 10:57:59,188] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:57:59] "GET /password HTTP/1.1" 200 -
[2025-05-03 10:58:14,786] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.7EE9lzoq0oZ7bP_AjS3VJsnwsHri3kQMNZ3sgavKdgI', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269874, 'exp': 1746273474, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269872, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 10:58:14,786] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 10:58:14,787] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:58:15,799] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9@test.com HTTP/1.1" 200 None
[2025-05-03 10:58:15,800] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-03 10:58:15,800] [DEBUG] [app] : pwd:Prueba123Prueba123!
[2025-05-03 10:58:15,800] [DEBUG] [app] : newpwd:Prueba123!
[2025-05-03 10:58:15,801] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:58:17,000] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 403 None
[2025-05-03 10:58:17,001] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaex_diNC0DSAewMvbUjsUuqQ","errorCauses":[{"errorSummary":"Password has been used too recently"}]}
[2025-05-03 10:58:17,003] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:58:17] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-03 10:58:17,013] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.7EE9lzoq0oZ7bP_AjS3VJsnwsHri3kQMNZ3sgavKdgI', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269874, 'exp': 1746273474, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269872, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 10:58:17,015] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-05-03 10:58:17,017] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:58:17] "GET /profile HTTP/1.1" 200 -
[2025-05-03 10:58:21,693] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:58:21] "GET /password HTTP/1.1" 200 -
[2025-05-03 10:58:38,861] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.7EE9lzoq0oZ7bP_AjS3VJsnwsHri3kQMNZ3sgavKdgI', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269874, 'exp': 1746273474, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269872, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 10:58:38,861] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 10:58:38,862] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:58:39,921] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9@test.com HTTP/1.1" 200 None
[2025-05-03 10:58:39,922] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-03 10:58:39,922] [DEBUG] [app] : pwd:Prueba123Prueba123!
[2025-05-03 10:58:39,922] [DEBUG] [app] : newpwd:Test123Test123!
[2025-05-03 10:58:39,923] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 10:58:41,268] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 403 None
[2025-05-03 10:58:41,269] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeND-6YUPTT6iR8cRTt7P_ng","errorCauses":[{"errorSummary":"Password requirements were not met. Password requirements: at least 8 characters, no parts of your username. Your password cannot be any of your last 4 password(s)."}]}
[2025-05-03 10:58:41,272] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:58:41] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-03 10:58:41,282] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.7EE9lzoq0oZ7bP_AjS3VJsnwsHri3kQMNZ3sgavKdgI', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746269874, 'exp': 1746273474, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['profile', 'openid', 'email'], 'auth_time': 1746269872, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 10:58:41,285] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-05-03 10:58:41,287] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 10:58:41] "GET /profile HTTP/1.1" 200 -
[2025-05-03 11:00:37,764] [INFO] [app] : Usuari no autenticat.
[2025-05-03 11:00:37,765] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:00:37] "GET / HTTP/1.1" 200 -
[2025-05-03 11:01:02,790] [DEBUG] [app] : Asignem nonce a la sessio actual: b5de90cb667b8ca1e2553931142913ac
[2025-05-03 11:01:02,790] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-03 11:01:02,791] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:02] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-03 11:01:22,097] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:01:23,130] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-03 11:01:23,131] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlNWZzhNRmYyLWt6S1NFbzcyQngwdHNlVlc2MEpqU19kcVVvLURvaS10R3MiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDYyNzAwODMsImV4cCI6MTc0NjI3MzY4MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ2MjcwMDgxLCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.FblwILgDGWSm4smIVGUqx6HqDblEiWq9uoqYd3zVvdNf-1-3Wnz1r6K3Ou7n4hG-WPj5inLNBYZj9iK1CpYSjktAf1pNp8ensZDbfJ4Z_4DwWlia8RezKQIQDP5xGlqcLHE3gLmFDx6Cfa77GH-Ije54b87U0X7bQ-gSFyZXc8nlMXeorvtfueIHLiLos81Ys1OBo5vevV7t0EmpnVMwlpNobuU97_-jHkOahcw3RqCipR3kts2pfOoB6mdW0pHH8j4AAHmV1_uzzvKjES4VPS0jJPbp5fWhlUTBZe5_AQDGclFyXJm46nfd_DCiBIaWjjfNSud8qM5p3X4C2HWrzA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAwODMsImV4cCI6MTc0NjI3MzY4MywianRpIjoiSUQubTIyRVRKZG1xYzFnUGFFTjRERS1qZllOUzZZVk9qVXlORWZyZGlyRWJ5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI1ZGU5MGNiNjY3YjhjYTFlMjU1MzkzMTE0MjkxM2FjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyNzAwODEsImF0X2hhc2giOiJqVGRvaDc0WDRrUGxYVHlYa1AzdEZRIiwiZWlkIjoiMDAwOVgifQ.TcYSLRRYDRmS4r1f6G8mCOGm_hJnxXtegP8-mR6L7bXEgmVzePX5xbQ0YHvgBAATL-Z4_rY_5LxaD97iHi3bvwDpY3GXGtG9t2bk6WQzFawuz_WY06AleCh0KV_FyygQG5DklgDypmvqebxXhfejnJKPADJfiawHMVqBJCigSTepYVsRKP2aSVYE-gRKctUkesuPaDEubXFhXhgb3mzID_z4FoVZXC4KlzFUQc8XLGr-YeuTlZ-SC5zTMLtjVWeTwuEfejbULEq0lZtbnIh0Z9Z9nwyk2plLK0qlCYPNSRI7aOwPOEtZ8RUZGdsqezJuqMCzNiHPqotUPPrOzd7GHA', 'expires_at': 1746273683, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746270083, 'exp': 1746273683, 'jti': 'ID.m22ETJdmqc1gPaEN4DE-jfYNS6YVOjUyNEfrdirEbyo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b5de90cb667b8ca1e2553931142913ac', 'preferred_username': 'user9@test.com', 'auth_time': 1746270081, 'at_hash': 'jTdoh74X4kPlXTyXkP3tFQ', 'eid': '0009X'}}
[2025-05-03 11:01:23,132] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746270083, 'exp': 1746273683, 'jti': 'ID.m22ETJdmqc1gPaEN4DE-jfYNS6YVOjUyNEfrdirEbyo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b5de90cb667b8ca1e2553931142913ac', 'preferred_username': 'user9@test.com', 'auth_time': 1746270081, 'at_hash': 'jTdoh74X4kPlXTyXkP3tFQ', 'eid': '0009X'}
[2025-05-03 11:01:23,132] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-05-03 11:01:23,133] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-05-03 11:01:23,134] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:23] "[32mGET /auth/callback?code=dcnn6PhDwklRIuftuq55jGdJCIAckBWzA6WI-outIJc&state=Vg592H1Ib3M68o2MswSYz0cNJyJqbC HTTP/1.1[0m" 302 -
[2025-05-03 11:01:23,139] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 11:01:23,140] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:23] "GET / HTTP/1.1" 200 -
[2025-05-03 11:01:25,685] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.SVg8MFf2-kzKSEo72Bx0tseVW60JjS_dqUo-Doi-tGs', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270083, 'exp': 1746273683, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746270081, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 11:01:25,687] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-05-03 11:01:25,688] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:25] "GET /profile HTTP/1.1" 200 -
[2025-05-03 11:01:27,845] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:27] "GET /password HTTP/1.1" 200 -
[2025-05-03 11:01:56,913] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.SVg8MFf2-kzKSEo72Bx0tseVW60JjS_dqUo-Doi-tGs', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270083, 'exp': 1746273683, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746270081, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 11:01:56,913] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 11:01:56,913] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:01:57,923] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9@test.com HTTP/1.1" 200 None
[2025-05-03 11:01:57,924] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-03 11:01:57,924] [DEBUG] [app] : pwd:Prueba123Prueba123!
[2025-05-03 11:01:57,924] [DEBUG] [app] : newpwd:1P2r3u4e5b6a
[2025-05-03 11:01:57,925] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:01:59,256] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 200 None
[2025-05-03 11:01:59,256] [INFO] [app] : Contrasenya actualitzada a Okta
[2025-05-03 11:01:59,257] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:59] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-03 11:01:59,262] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.SVg8MFf2-kzKSEo72Bx0tseVW60JjS_dqUo-Doi-tGs', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270083, 'exp': 1746273683, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746270081, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-05-03 11:01:59,263] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-05-03 11:01:59,265] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:01:59] "GET /profile HTTP/1.1" 200 -
[2025-05-03 11:02:01,700] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-05-03 11:02:01,700] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:02:01] "GET / HTTP/1.1" 200 -
[2025-05-03 11:02:10,844] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAwODMsImV4cCI6MTc0NjI3MzY4MywianRpIjoiSUQubTIyRVRKZG1xYzFnUGFFTjRERS1qZllOUzZZVk9qVXlORWZyZGlyRWJ5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI1ZGU5MGNiNjY3YjhjYTFlMjU1MzkzMTE0MjkxM2FjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyNzAwODEsImF0X2hhc2giOiJqVGRvaDc0WDRrUGxYVHlYa1AzdEZRIiwiZWlkIjoiMDAwOVgifQ.TcYSLRRYDRmS4r1f6G8mCOGm_hJnxXtegP8-mR6L7bXEgmVzePX5xbQ0YHvgBAATL-Z4_rY_5LxaD97iHi3bvwDpY3GXGtG9t2bk6WQzFawuz_WY06AleCh0KV_FyygQG5DklgDypmvqebxXhfejnJKPADJfiawHMVqBJCigSTepYVsRKP2aSVYE-gRKctUkesuPaDEubXFhXhgb3mzID_z4FoVZXC4KlzFUQc8XLGr-YeuTlZ-SC5zTMLtjVWeTwuEfejbULEq0lZtbnIh0Z9Z9nwyk2plLK0qlCYPNSRI7aOwPOEtZ8RUZGdsqezJuqMCzNiHPqotUPPrOzd7GHA
[2025-05-03 11:02:10,844] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAwODMsImV4cCI6MTc0NjI3MzY4MywianRpIjoiSUQubTIyRVRKZG1xYzFnUGFFTjRERS1qZllOUzZZVk9qVXlORWZyZGlyRWJ5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI1ZGU5MGNiNjY3YjhjYTFlMjU1MzkzMTE0MjkxM2FjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyNzAwODEsImF0X2hhc2giOiJqVGRvaDc0WDRrUGxYVHlYa1AzdEZRIiwiZWlkIjoiMDAwOVgifQ.TcYSLRRYDRmS4r1f6G8mCOGm_hJnxXtegP8-mR6L7bXEgmVzePX5xbQ0YHvgBAATL-Z4_rY_5LxaD97iHi3bvwDpY3GXGtG9t2bk6WQzFawuz_WY06AleCh0KV_FyygQG5DklgDypmvqebxXhfejnJKPADJfiawHMVqBJCigSTepYVsRKP2aSVYE-gRKctUkesuPaDEubXFhXhgb3mzID_z4FoVZXC4KlzFUQc8XLGr-YeuTlZ-SC5zTMLtjVWeTwuEfejbULEq0lZtbnIh0Z9Z9nwyk2plLK0qlCYPNSRI7aOwPOEtZ8RUZGdsqezJuqMCzNiHPqotUPPrOzd7GHA
[2025-05-03 11:02:10,845] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:02:10] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 11:02:11,441] [INFO] [app] : Usuari no autenticat.
[2025-05-03 11:02:11,441] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:02:11] "GET / HTTP/1.1" 200 -
[2025-05-03 11:05:37,849] [INFO] [app] : Usuari no autenticat.
[2025-05-03 11:05:37,850] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:37] "GET / HTTP/1.1" 200 -
[2025-05-03 11:05:39,329] [DEBUG] [app] : Asignem nonce a la sessio actual: 9c652277adca7c0e1982db58437102e9
[2025-05-03 11:05:39,330] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-03 11:05:39,330] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-03 11:05:40,574] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:05:41,758] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-03 11:05:41,761] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhHTDJwOGp0YmlJS2JSYzJrTFB0ZXg0NDdwWTdFMmxucFpBY0NRQmNuWWMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDYyNzAzNDEsImV4cCI6MTc0NjI3Mzk0MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ2MjY2MjAyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.d6I-9IlU9cQRsbWCr6uGgd82CwjNobS54NIkFRvAZ-tjjBj298LOWoruewC66hAHMcoaXb2-VeYer1e8kvLiI07wy7KHOLQouEIVMlGoW__l8q4aKY9vEkT3PwNt7jTu3YC-32XDrxZS_VTcNQqDH9x-WRFhnUWqIRpTdNnlf59r6GIxvbeiNzvkpgIYYNdgyu4uwpapHf_ist6o4sV-8vUtNPKPKN3c46-FNOwZ3iQbZccfFO30q0FWjpNZ8xFdfrPNifgVS3nxis874UcPK33NV4v9ClLi9m4AdO6Ufk9v_v6q6Q2my9ywNpL4wjn0b03yfYmynaTrqMl2NmzD3g', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAzNDEsImV4cCI6MTc0NjI3Mzk0MSwianRpIjoiSUQuMTJqaGJ4ZGFoX3dhMGM0QTU1MEo2ZVJ0c0s3MjVaU3lTNlZ3QmlYWGE2SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjljNjUyMjc3YWRjYTdjMGUxOTgyZGI1ODQzNzEwMmU5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2NjIwMiwiYXRfaGFzaCI6Ikk4SWZGTGh0QVh4OXZqaGUwS3RHRkEiLCJlaWQiOiIwMDAwQSJ9.bM4q5B3u2tqw89BHj1VSv_NCU5exAumMuBmluU9UL6YaE9tZc0tpQudlOyFLrnq5fdujU6zHoMagQlHqt4iViqjepjA3pRvXbTp4pbKfd-2hFostUc_i_HEkCNVwo1AfmwgAJBcbdMH6e3JYHsymewrAxBMECHH25AEzaeHAAc3xhU4dImsPKqH_ToYIVVtULOcJcJOvkLdyWJ1S0WUKL3S9CpwCQiNvrnHihGssMRS8B-6_Cb8i4Bw0absSeNhiIB7gDwsfuAJxGApGVMvNgMzucZb7aXthw5wtZnjx-omrL6p7kbQt-1qbov1CXPuKfd88RTE16UyjoZFO3sEVTw', 'expires_at': 1746273941, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746270341, 'exp': 1746273941, 'jti': 'ID.12jhbxdah_wa0c4A550J6eRtsK725ZSyS6VwBiXXa6I', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9c652277adca7c0e1982db58437102e9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746266202, 'at_hash': 'I8IfFLhtAXx9vjhe0KtGFA', 'eid': '0000A'}}
[2025-05-03 11:05:41,761] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746270341, 'exp': 1746273941, 'jti': 'ID.12jhbxdah_wa0c4A550J6eRtsK725ZSyS6VwBiXXa6I', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9c652277adca7c0e1982db58437102e9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746266202, 'at_hash': 'I8IfFLhtAXx9vjhe0KtGFA', 'eid': '0000A'}
[2025-05-03 11:05:41,762] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-03 11:05:41,763] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-03 11:05:41,764] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:41] "[32mGET /auth/callback?code=hhAuXCGtMMjTBRoL5G11kMTMAphiDBleU2fiog9cX_I&state=h5IQ7OwwC0NMISp52SptgjYzhunK4v HTTP/1.1[0m" 302 -
[2025-05-03 11:05:41,770] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-05-03 11:05:41,770] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:41] "GET / HTTP/1.1" 200 -
[2025-05-03 11:05:42,996] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.xGL2p8jtbiIKbRc2kLPtex447pY7E2lnpZAcCQBcnYc', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270341, 'exp': 1746273941, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746266202, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 11:05:42,997] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-03 11:05:42,998] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:42] "GET /profile HTTP/1.1" 200 -
[2025-05-03 11:05:49,257] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.xGL2p8jtbiIKbRc2kLPtex447pY7E2lnpZAcCQBcnYc', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270341, 'exp': 1746273941, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746266202, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 11:05:49,258] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-05-03 11:05:49,258] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-05-03 11:05:49,258] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-05-03 11:05:49,260] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:05:50,244] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-05-03 11:05:50,244] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-05-03 11:05:50,244] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-05-03 11:05:50,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 11:05:51,207] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-05-03 11:05:51,207] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-05-03 11:05:51,210] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:51] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-03 11:05:51,219] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.xGL2p8jtbiIKbRc2kLPtex447pY7E2lnpZAcCQBcnYc', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746270341, 'exp': 1746273941, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746266202, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-03 11:05:51,220] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-03 11:05:51,221] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:51] "GET /profile HTTP/1.1" 200 -
[2025-05-03 11:05:52,905] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-03 11:05:52,905] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:52] "GET / HTTP/1.1" 200 -
[2025-05-03 11:05:54,779] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAzNDEsImV4cCI6MTc0NjI3Mzk0MSwianRpIjoiSUQuMTJqaGJ4ZGFoX3dhMGM0QTU1MEo2ZVJ0c0s3MjVaU3lTNlZ3QmlYWGE2SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjljNjUyMjc3YWRjYTdjMGUxOTgyZGI1ODQzNzEwMmU5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2NjIwMiwiYXRfaGFzaCI6Ikk4SWZGTGh0QVh4OXZqaGUwS3RHRkEiLCJlaWQiOiIwMDAwQSJ9.bM4q5B3u2tqw89BHj1VSv_NCU5exAumMuBmluU9UL6YaE9tZc0tpQudlOyFLrnq5fdujU6zHoMagQlHqt4iViqjepjA3pRvXbTp4pbKfd-2hFostUc_i_HEkCNVwo1AfmwgAJBcbdMH6e3JYHsymewrAxBMECHH25AEzaeHAAc3xhU4dImsPKqH_ToYIVVtULOcJcJOvkLdyWJ1S0WUKL3S9CpwCQiNvrnHihGssMRS8B-6_Cb8i4Bw0absSeNhiIB7gDwsfuAJxGApGVMvNgMzucZb7aXthw5wtZnjx-omrL6p7kbQt-1qbov1CXPuKfd88RTE16UyjoZFO3sEVTw
[2025-05-03 11:05:54,779] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyNzAzNDEsImV4cCI6MTc0NjI3Mzk0MSwianRpIjoiSUQuMTJqaGJ4ZGFoX3dhMGM0QTU1MEo2ZVJ0c0s3MjVaU3lTNlZ3QmlYWGE2SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjljNjUyMjc3YWRjYTdjMGUxOTgyZGI1ODQzNzEwMmU5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjI2NjIwMiwiYXRfaGFzaCI6Ikk4SWZGTGh0QVh4OXZqaGUwS3RHRkEiLCJlaWQiOiIwMDAwQSJ9.bM4q5B3u2tqw89BHj1VSv_NCU5exAumMuBmluU9UL6YaE9tZc0tpQudlOyFLrnq5fdujU6zHoMagQlHqt4iViqjepjA3pRvXbTp4pbKfd-2hFostUc_i_HEkCNVwo1AfmwgAJBcbdMH6e3JYHsymewrAxBMECHH25AEzaeHAAc3xhU4dImsPKqH_ToYIVVtULOcJcJOvkLdyWJ1S0WUKL3S9CpwCQiNvrnHihGssMRS8B-6_Cb8i4Bw0absSeNhiIB7gDwsfuAJxGApGVMvNgMzucZb7aXthw5wtZnjx-omrL6p7kbQt-1qbov1CXPuKfd88RTE16UyjoZFO3sEVTw
[2025-05-03 11:05:54,780] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:54] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 11:05:55,561] [INFO] [app] : Usuari no autenticat.
[2025-05-03 11:05:55,561] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 11:05:55] "GET / HTTP/1.1" 200 -
[2025-05-03 17:28:41,564] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 17:28:41,565] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:11:23,022] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 18:11:23,023] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:11:43,500] [ERROR] [app] : Exception on / [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 206, in home
    if session["provider"] == "okta":
       ~~~~~~~^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/sessions.py", line 86, in __getitem__
    return super().__getitem__(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'provider'
[2025-05-03 18:11:43,505] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:11:43] "[35m[1mGET / HTTP/1.1[0m" 500 -
[2025-05-03 18:11:43,550] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:11:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-03 18:25:21,412] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 18:25:21,412] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:25:36,083] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:25:36,087] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:25:36] "GET / HTTP/1.1" 200 -
[2025-05-03 18:26:10,158] [DEBUG] [app] : Asignem nonce a la sessio actual: 0d327ce7c191e15c41d03be54e046520
[2025-05-03 18:26:10,158] [ERROR] [app] : Exception on /login_entraid [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 244, in login_entraid
    redirect_uri = url_for("auth_entraid", _external=True)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/helpers.py", line 232, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'auth_entraid'. Did you mean 'login_entraid' instead?
[2025-05-03 18:26:10,161] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:26:10] "[35m[1mGET /login_entraid HTTP/1.1[0m" 500 -
[2025-05-03 18:27:45,457] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 18:27:45,457] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:28:00,625] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:28:00,629] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:28:00] "GET / HTTP/1.1" 200 -
[2025-05-03 18:28:03,448] [DEBUG] [app] : Asignem nonce a la sessio actual: cf9b0351ddc49e18194758afca729924
[2025-05-03 18:28:03,448] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-03 18:28:03,449] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:28:03,838] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-03 18:28:03,842] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:28:03] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-03 18:28:46,999] [ERROR] [app] : Exception on /getAToken [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 290, in auth_entraid
    token = entraid_oauth.authorize_access_token()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/authlib/integrations/flask_client/apps.py", line 91, in authorize_access_token
    raise OAuthError(error=error, description=description)
authlib.integrations.base_client.errors.OAuthError: access_denied: 
[2025-05-03 18:28:47,002] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:28:47] "[35m[1mGET /getAToken?error=access_denied&error_subcode=cancel&state=6sCMzaT4f5j00M0w0wzG5LZ815CN03 HTTP/1.1[0m" 500 -
[2025-05-03 18:29:32,045] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:29:32,046] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:29:32] "GET / HTTP/1.1" 200 -
[2025-05-03 18:29:33,244] [DEBUG] [app] : Asignem nonce a la sessio actual: 05038cdc61b84011912f32cb1386714e
[2025-05-03 18:29:33,245] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-03 18:29:33,246] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:29:33] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-03 18:30:06,136] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:30:06,719] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3979
[2025-05-03 18:30:06,723] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:30:07,220] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-03 18:30:07,285] [ERROR] [app] : Exception on /getAToken [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 310, in auth_entraid
    db.session.add(User(**session["user_entraid"]))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for User
[2025-05-03 18:30:07,290] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:30:07] "[35m[1mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-G3rNW1oF5FbsY_QPE-KZammPUqUVTw_rRaRwqqx4Z3XSKdUqc_7_Wznfn7dcNqfe3x45xY2MFOqjTF2YbK2M1MbHl65Z_gToqH-5ysErNrhqZKINZ47SlKUGfwLY2zcQPftqfATIK3m18eopOtXhrM7S8H_Otu5jxLMqbXwWHOW9DOQmEonR2pEGzlbU_WhexpVs1Dw4dyOSZg8h4ex8IMURCqhiLvvctAlvGaWAJGpopb7Rbgd2Aor_1-IE4C1eab5KYTyGGmbC2h1MI7GBjPiFSMXPxVCTAQtx0A0mt-kchQyXE5myZuWqQJk-PBKrhy4e-epkaATpmWqDLkx2Tx0rNWCp3Ry_oZ27gM5xbxsf-1NqOxKJVq-u-iJlOoHfaTwmQXeM5Yi08Cq5aw6ecNimwSmlDIoc9VyDUqB0kJLuGbyay_G7W5_J0keBB9RmGzJs7O87l67xZ9BJuxqd40WeuBhB-k4RnYroeFHRGSnIqqxqqvNVhJUgw9GhUnTt0-DtYScJPAJvOnOlE5_XhOaRbm2Xa5WYXbtVORRQcNuC3Q3yvV_i6YeKkVa0_Eo5T9v2EvBYFrCwZY0eOJeFzhH2UPGZwaHGj35_d16D7V319Fn22i-fpGpfAze7_zDOhLS2_EE182rudUs2JMlRAemy2enCKa5lggy-fsktaWg3WxZjdSVn05G8LO1mJ2EG7wEX0j247dRZ7ZP1hu3PA75OEC7wmAJiNSU7pCu_VfLqgvNjblsfopQRobwyrhU4bxLc6Qzs7N67DDDSuS8inxTYrKwaPUS2Zi1kLjb5zNngxGtJDa9HFK4_Br_4SllcYAZeXq7K4SoYgFE3rFiDCJuctioFQkRzG8i_9ePfp71xv3GBY&state=rw3l3GRYVAyLiuvcbMS1vwKYyK7rsU&session_state=004cc859-5e58-8f66-0374-160582103d8c HTTP/1.1[0m" 500 -
[2025-05-03 18:32:07,971] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 18:32:07,971] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:32:23,974] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-03 18:32:23,978] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:32:23] "GET / HTTP/1.1" 200 -
[2025-05-03 18:32:31,907] [DEBUG] [app] : Token de la sessio: None
[2025-05-03 18:32:31,907] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/
[2025-05-03 18:32:31,908] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:32:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 18:32:47,189] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:32:47,190] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:32:47] "GET / HTTP/1.1" 200 -
[2025-05-03 18:32:49,448] [DEBUG] [app] : Asignem nonce a la sessio actual: 07ebc1ffaf02df34fd987c19c025ee4b
[2025-05-03 18:32:49,449] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-03 18:32:49,450] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:32:49,687] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-03 18:32:49,692] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:32:49] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-03 18:33:01,574] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:33:01,922] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3671
[2025-05-03 18:33:01,926] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:33:02,163] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-03 18:33:02,181] [DEBUG] [app] : User user1 user1 no guardat en db
[2025-05-03 18:33:02,186] [DEBUG] [app] : User user1 user1 guardat en db
[2025-05-03 18:33:02,187] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:33:02] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P95lmxkVJZ5oaSxCuIYT26TPSXoU-1POqXl9JkmQSJQSVVmZenr7KlvSF8CM4CGEjLYuiUg0o228-0zA2eFLzAc33opbKys28V0RDZ7Fhv74hvv-Y93jKEsA6c12PeH7vTAA71KdHiMV-_ZEaLK9bccPO3J7VRZuS9XuwUnXFYRrUWUr7kL3WL3Ib6MAjwYxKUTzQjMD9wiCQrlS_8ccbcUur6bkesCi3vfnwAHpOH9xbEaE8qub5dQOIcEnK75Oxl4Xu5yRltvKC3Pk67MRSk4Vct1O6YbMvO97VkJ189Ku5Y6dyHloTpcjSEVoJyspfM1oCaPUZkd_6zYecxhHEtye1Vq4X6_xEhB239Kt5zRSDyxErAwJDZghc8B7jggoZbfDW-M568Xh09jKhdFeF__b60QPRc72lvtdtuQYXF5IwdR3vmophbfV1N4y1jf3xqN379Zwco0bVSOvR0KPeCcupp9PMGuUy8sXcElZ1L9Psclq0orIJNnsM-sNBdR6Gy30Tzpe2kAvndsqg3g86pFTWnkcznW0UXBF7AP-j5ivqRk21zW-vsdelBI_U7O0bZT3Cra9VOvME3cqYN8OXvGYsoNOWMtM5awux7tdzlqJBU-JKd5j-GKJae7lvIQfJGtBq-EPIaky3yISO0sPjA9caIhBAkS-4AVzoRJosBRCgpH-1GkmmpA5AZoRIQ1Le79stCZXkOQU8HzBtSx6lEGjBbbrvJngk0cm5ISj5ji9dI3zKOIWuuElD3u5O7qTMYv8wFG_xom-yFY49s2jGz5DPLT74A6cLqGWjxQ-7-v_73eTBEOnkEkdaGm_0A39IMO9g&state=KS2VuvbQhcGyCoa5jgtDQnDmC4ibQ6&session_state=004cc859-5fe6-6e71-58ee-3326ada869e0 HTTP/1.1[0m" 302 -
[2025-05-03 18:33:02,193] [INFO] [app] : Usuari autenticat {'email': 'user1user1@TFGPABLO.onmicrosoft.com', 'name': 'user1 user1'}
[2025-05-03 18:33:02,194] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:33:02] "GET / HTTP/1.1" 200 -
[2025-05-03 18:33:50,906] [DEBUG] [app] : Token de la sessio: None
[2025-05-03 18:33:50,907] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/
[2025-05-03 18:33:50,907] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:33:50] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 18:34:02,230] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:34:02,232] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:34:02] "GET / HTTP/1.1" 200 -
[2025-05-03 18:34:06,102] [DEBUG] [app] : Asignem nonce a la sessio actual: 99d3c1c59c8b4e8470352ccbb9104172
[2025-05-03 18:34:06,102] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-03 18:34:06,103] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 18:34:06,978] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-03 18:34:06,980] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:34:06] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-03 18:34:37,473] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 18:34:38,557] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-03 18:34:38,561] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-03 18:34:39,530] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-03 18:34:39,535] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm9JUnhCeldFYkQzZ21BMTVyR2dlc0hXeUtQbEU2NTV4Rl92Zk9Kd1Q5dTAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDYyOTcyNzgsImV4cCI6MTc0NjMwMDg3OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ2Mjk3Mjc2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.dVdhFIcZbN85awruEEO5N0l5hLxni1NTLnpyD1hR5judP_xvbXQ7zGUx6rNWyd1aFAMovzX3TO74fsjPlD3yY4e-9BW4iebGoOy3Fi1u7nHGRMQ4Sa3yCZoVS0jHu6PxIRDeevLxFqntly7xp0lfQ0VtR4PMfwsD5rvnoahkr8ZGg9F8nGSVeRf6JUlotiFH_LvXhb0NLMiiqvkyuUgPZI8Ky5mLIuzJPLfDJhOK8ppB3XAGUjDa3LY9WLDLm_FMaU3kBqv9BYFWChwvG7XeLtPqMV6Ce_XGp0JGQN8VeSFkFE_2gaTextIThfYIlHlw3kqA71DggUbOaP161tR5ZA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyOTcyNzgsImV4cCI6MTc0NjMwMDg3OCwianRpIjoiSUQuZlRTZ0txZGQxV2FwUUVSMGNnZUk2UnJjRGx0d09SSjVxWHlwVUNFN2ozdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk5ZDNjMWM1OWM4YjRlODQ3MDM1MmNjYmI5MTA0MTcyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyOTcyNzYsImF0X2hhc2giOiJrelVtOFVTcHRhM0kzZ0JTNXNUUkpBIiwiZWlkIjoiMDAwMVkifQ.Bypy_5qyJeEzCMAsxxGauJZXDwQHE0urIzKKBN5pIVUDIF3tRYD2Ds5_G4f6Si0Ufbh-gTKQ8MmGIM1HJ8vo9oHSy_YiM5WKLob6oPoIQVS9Dt5LCX_IxtE5CQLOzA4PPd0npMTN9FcHNj7F-ZIfa3UiCMKJ7yea6CNXjgGZbLfkEeZ2nbkE9rm0v57Y7ztI4umhUDm6ytA-jBthSpRCjrAjHTAV4KhyqgMx-PDSooKNcianiP4XXCi99KN5zTEZrDveK8tRUJe8MiPrQ8Fiq4d3nU_iUNs6vQGQNiou6n-K3crfC4Hoi6cbDH9gC1mtGqikUuPV6Gfztncc0rQo0g', 'expires_at': 1746300878, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746297278, 'exp': 1746300878, 'jti': 'ID.fTSgKqdd1WapQER0cgeI6RrcDltwORJ5qXypUCE7j3w', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '99d3c1c59c8b4e8470352ccbb9104172', 'preferred_username': 'user1@test.com', 'auth_time': 1746297276, 'at_hash': 'kzUm8USpta3I3gBS5sTRJA', 'eid': '0001Y'}}
[2025-05-03 18:34:39,535] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746297278, 'exp': 1746300878, 'jti': 'ID.fTSgKqdd1WapQER0cgeI6RrcDltwORJ5qXypUCE7j3w', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '99d3c1c59c8b4e8470352ccbb9104172', 'preferred_username': 'user1@test.com', 'auth_time': 1746297276, 'at_hash': 'kzUm8USpta3I3gBS5sTRJA', 'eid': '0001Y'}
[2025-05-03 18:34:39,536] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com, eid: 0001Y
[2025-05-03 18:34:39,539] [DEBUG] [app] : User trobat in db: user1@test.com
[2025-05-03 18:34:39,540] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:34:39] "[32mGET /auth/callback?code=RQkwtV4VcWege6RiDc6aom2xptJbIzn_L2nGgVhlZmU&state=1fTQJr0IPBKWNGWp7Oa2uW86lFLX9U HTTP/1.1[0m" 302 -
[2025-05-03 18:34:39,547] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-03 18:34:39,547] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:34:39] "GET / HTTP/1.1" 200 -
[2025-05-03 18:35:17,525] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyOTcyNzgsImV4cCI6MTc0NjMwMDg3OCwianRpIjoiSUQuZlRTZ0txZGQxV2FwUUVSMGNnZUk2UnJjRGx0d09SSjVxWHlwVUNFN2ozdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk5ZDNjMWM1OWM4YjRlODQ3MDM1MmNjYmI5MTA0MTcyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyOTcyNzYsImF0X2hhc2giOiJrelVtOFVTcHRhM0kzZ0JTNXNUUkpBIiwiZWlkIjoiMDAwMVkifQ.Bypy_5qyJeEzCMAsxxGauJZXDwQHE0urIzKKBN5pIVUDIF3tRYD2Ds5_G4f6Si0Ufbh-gTKQ8MmGIM1HJ8vo9oHSy_YiM5WKLob6oPoIQVS9Dt5LCX_IxtE5CQLOzA4PPd0npMTN9FcHNj7F-ZIfa3UiCMKJ7yea6CNXjgGZbLfkEeZ2nbkE9rm0v57Y7ztI4umhUDm6ytA-jBthSpRCjrAjHTAV4KhyqgMx-PDSooKNcianiP4XXCi99KN5zTEZrDveK8tRUJe8MiPrQ8Fiq4d3nU_iUNs6vQGQNiou6n-K3crfC4Hoi6cbDH9gC1mtGqikUuPV6Gfztncc0rQo0g
[2025-05-03 18:35:17,525] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDYyOTcyNzgsImV4cCI6MTc0NjMwMDg3OCwianRpIjoiSUQuZlRTZ0txZGQxV2FwUUVSMGNnZUk2UnJjRGx0d09SSjVxWHlwVUNFN2ozdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk5ZDNjMWM1OWM4YjRlODQ3MDM1MmNjYmI5MTA0MTcyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDYyOTcyNzYsImF0X2hhc2giOiJrelVtOFVTcHRhM0kzZ0JTNXNUUkpBIiwiZWlkIjoiMDAwMVkifQ.Bypy_5qyJeEzCMAsxxGauJZXDwQHE0urIzKKBN5pIVUDIF3tRYD2Ds5_G4f6Si0Ufbh-gTKQ8MmGIM1HJ8vo9oHSy_YiM5WKLob6oPoIQVS9Dt5LCX_IxtE5CQLOzA4PPd0npMTN9FcHNj7F-ZIfa3UiCMKJ7yea6CNXjgGZbLfkEeZ2nbkE9rm0v57Y7ztI4umhUDm6ytA-jBthSpRCjrAjHTAV4KhyqgMx-PDSooKNcianiP4XXCi99KN5zTEZrDveK8tRUJe8MiPrQ8Fiq4d3nU_iUNs6vQGQNiou6n-K3crfC4Hoi6cbDH9gC1mtGqikUuPV6Gfztncc0rQo0g
[2025-05-03 18:35:17,526] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:35:17] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-03 18:35:18,293] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:35:18,294] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:35:18] "GET / HTTP/1.1" 200 -
[2025-05-03 18:37:13,302] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-03 18:37:13,302] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-03 18:37:22,248] [INFO] [app] : Usuari no autenticat
[2025-05-03 18:37:22,253] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:37:22] "GET / HTTP/1.1" 200 -
[2025-05-03 18:37:24,248] [DEBUG] [app] : Asignem nonce a la sessio actual: 07742afa39c8cdac29fdfac2bd7ec34e
[2025-05-03 18:37:24,248] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-03 18:37:24,249] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:37:24,520] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-03 18:37:24,522] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:37:24] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-03 18:37:33,067] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:37:33,369] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3672
[2025-05-03 18:37:33,373] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-03 18:37:33,633] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-03 18:37:33,636] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 3730, 'ext_expires_in': 3730, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6ImRQNE9sQUgxSjN3eUJ6V2szdUNoRURPVHZnSU9odU1EODV0N1doejNqTm8iLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2Mjk3MTUzLCJuYmYiOjE3NDYyOTcxNTMsImV4cCI6MTc0NjMwMTE4NCwiYWNjdCI6MCwiYWNyIjoiMSIsImFpbyI6IkFYUUFpLzhaQUFBQVRvZkxydGdMbmFmUU1JaklXSlNOYnA3cHJXd1NHS0JvbDh4ZmRUQ2xwOE5XaHA3OUVmS1VjNUtFQk5OS0gxV3B1ZytVcXVnUFBQVzVyekM1b200alhDWjdUYjNETDl6djc1dVpJc3Nlem9wQjRNZjR3UlVhTzkvbjVCTFVmMG1DU1pFVUJoMklHZVNUdzJDN3R6cFF1QT09IiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsIm9pZCI6IjJjNWRjNjNkLTUyOGUtNDYzMS1iMmMwLTA2ZTE3NTBhY2M1NiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDgxOEYwIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FhdE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0Y2M4NTktMjgxMS04NDRjLWNjMzAtNGI5NDViMmVjZWMyIiwic3ViIjoibkJYWkNMdWFiVjlsR18xa0RfTkduT2FEOERIVW4yWHVXYlZYZEc0Q05sSSIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjF1c2VyMUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyMXVzZXIxQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6InN1VnlJSjZ1TzBTcVdEV2ZHTzEyQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoidFZMaEx0RmlBR1pCaF9aTVhlOVJ5bTVjVnpVQkNTRVlxZHd3TXN4VUs4TUJabkpoYm1ObFl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMTIgMSIsInhtc19zdCI6eyJzdWIiOiJjNVk5aS0xSUNmWHZTY3JKMk5oMGhzOEpzeDM1M1p1djBqQ3BMSVhwbXBZIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.Hd8j33ESdVpU4shehr_EwDm1EiFc-7Bt6uBaQWgmJRpm5JhFhs25dgKB8DlJTblmSBq0QguKY85ILhrnO-Suh0BPIm5myWPebbB1obLKHHoWiTN67VF_0TpbgXu_0ku5s4wRkurO-4ZR2lZPgCPCMQZtpdR-nGS07J04lSY_zR02kUtNKarO9q-jtaGQLhzQ3X9UKXNnPJE7O9fohaAzgoF1UqhPwIZqFVjoQ6HBj-ZmLNjeuVPLggSS7uxK9fTgK7-9O1s1J3TtSMeJcheTOOYhtcdVE1nEXKkfGQ6chiX__WOs5Wx-3WGXZp_ECgIch46v-HUDIxRMuRkQE2zKXw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDYyOTcxNTMsIm5iZiI6MTc0NjI5NzE1MywiZXhwIjoxNzQ2MzAxMDUzLCJuYW1lIjoidXNlcjEgdXNlcjEiLCJub25jZSI6IjA3NzQyYWZhMzljOGNkYWMyOWZkZmFjMmJkN2VjMzRlIiwib2lkIjoiMmM1ZGM2M2QtNTI4ZS00NjMxLWIyYzAtMDZlMTc1MGFjYzU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjF1c2VyMUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWF0T0FBLiIsInNpZCI6IjAwNGNjODU5LTI4MTEtODQ0Yy1jYzMwLTRiOTQ1YjJlY2VjMiIsInN1YiI6ImM1WTlpLTFJQ2ZYdlNjckoyTmgwaHM4SnN4MzUzWnV2MGpDcExJWHBtcFkiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJzdVZ5SUo2dU8wU3FXRFdmR08xMkFBIiwidmVyIjoiMi4wIn0.IwTfnpAwxJX8B0sOXTARwTry1WLxzm4Tksm7NHBqGQLT-ADkOmzzVxF9Ah02X4VCh2zR6BC3hJGrzKiA0IBJyy62G9MEwmpUyAlrAeeGtuCAyfmH1PlLgjTqfcTlTXHgf1VXEpaXCtleMhuVf7AGweRHoq_W0Dj3nHdPruuoD-ko25JCsgozcHY4U6Fno4I3K6j0N2sftgWyH191hA35n9EAc599irURN6KmbCyEv9Xlrfa3BYMaQxnwJMvnoNBFR78I8GkKYN0poruRnHhxdR_S-n7LndVu6heGfnk_LX0fdfeNQ9qGQUAP_1rnYVGxcNRY6kCuc4vmQMHgqcU4-g', 'expires_at': 1746301183, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746297153, 'nbf': 1746297153, 'exp': 1746301053, 'name': 'user1 user1', 'nonce': '07742afa39c8cdac29fdfac2bd7ec34e', 'oid': '2c5dc63d-528e-4631-b2c0-06e1750acc56', 'preferred_username': 'user1user1@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAatOAA.', 'sid': '004cc859-2811-844c-cc30-4b945b2ecec2', 'sub': 'c5Y9i-1ICfXvScrJ2Nh0hs8Jsx353Zuv0jCpLIXpmpY', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'suVyIJ6uO0SqWDWfGO12AA', 'ver': '2.0'}}
[2025-05-03 18:37:33,637] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746297153, 'nbf': 1746297153, 'exp': 1746301053, 'name': 'user1 user1', 'nonce': '07742afa39c8cdac29fdfac2bd7ec34e', 'oid': '2c5dc63d-528e-4631-b2c0-06e1750acc56', 'preferred_username': 'user1user1@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAatOAA.', 'sid': '004cc859-2811-844c-cc30-4b945b2ecec2', 'sub': 'c5Y9i-1ICfXvScrJ2Nh0hs8Jsx353Zuv0jCpLIXpmpY', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'suVyIJ6uO0SqWDWfGO12AA', 'ver': '2.0'}
[2025-05-03 18:37:33,650] [DEBUG] [app] : User trobat in db: user1user1@TFGPABLO.onmicrosoft.com
[2025-05-03 18:37:33,651] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:37:33] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-U1AcF1mdduZ249xITLe8_x1mU5un472WBjoDgTUDO0d5Vaf1po8qX5T3-Pdt6hc34ERVrTLDiBZBgEs_7eG8bGZE_MdcXYwrcb0-GgwI_b6mWauIw9Orzp6q-L-HbtKmh-rvCqUDJTFEgLok6d2MN6XXvt1fx9tq9eVlezfbOC9vpNtVPWPWYEeLzpqWF8D5NOqxZ-y_1bbKLFbsGji0a1E77W16z3d9icjhdsuCrXKkhmUffPLDJgVcMx2Q30lgamBF523xsk68JnuSs_ulbRHLBxi_avza93Fm0SdCzgjd40iHZK0ARtHiBzUNgCq00lKeZF5kQEI7KSUXoMUHblvi05ngXLEFJAtzZDGVO-kWfZ1RW_fJ3HF-Yb7DC7PvaHHraAL3_rfXyqRSIwdt_gg5UY1MEhe0pvXVx6iX0M_mvvin9WQZnxiaJ-oKYjNenPjlYEf7d3v_SICzlse86b0ZLkhI5xED3W8ZABciurpNt3AaL5aH_7VlUqQt2TsSSkAOUduwQIRTJeakSpqPuC8FiVrvb34shiqCMixRHKhb54PNOyqiwLSU-lJRfAUqHRKeVZBiEHBzQP1InUV6a4EwXJ8BjfBlvoXm-zrMVLnkaWbnVThLqLRiLPAt34BgQQHf1Pc25q4LvfOZg86e5OiyEIoWbGVasNSVtQfTuznnK7dq1eyfEYAX3AnLRl9OGdTopLvJZFv1cUMDkk0z2U61jdJGTR84uZ3AXlONghl1Zc9lg-CCJ6QS7rEmz2VBWYOseMlmpq9b6loZOWvKSMuF4lBK53zg7PEpMdGrqAEzmTv_Vcawhm4TUsacByg&state=oQ3PLBQHWTLxqZ0AWvL4ej9xMhlwWt&session_state=004cc859-2811-844c-cc30-4b945b2ecec2 HTTP/1.1[0m" 302 -
[2025-05-03 18:37:33,657] [INFO] [app] : Usuari autenticat {'email': 'user1user1@TFGPABLO.onmicrosoft.com', 'name': 'user1 user1'}
[2025-05-03 18:37:33,657] [INFO] [werkzeug] : 192.168.1.35 - - [03/May/2025 18:37:33] "GET / HTTP/1.1" 200 -
[2025-05-05 14:52:01,887] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 14:52:01,888] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 15:10:47,107] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 15:10:47,107] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 15:10:52,912] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:10:52,916] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:10:52] "GET / HTTP/1.1" 200 -
[2025-05-05 15:10:53,383] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:10:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-05 15:10:55,562] [DEBUG] [app] : Asignem nonce a la sessio actual: 443c6f62963f012715c7cf02a2df7254
[2025-05-05 15:10:55,562] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:10:55,565] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:10:56,094] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 15:10:56,095] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:10:56] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:11:22,753] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:11:23,143] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3974
[2025-05-05 15:11:23,145] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:11:23,581] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 15:11:23,591] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4448, 'ext_expires_in': 4448, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IkYxanBsb25sUmpESEFvajZJdkMydnRNMkduUzlzazM1Q0xUTjV2Mjk1NzAiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU3NTgzLCJuYmYiOjE3NDY0NTc1ODMsImV4cCI6MTc0NjQ2MjMzMiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBWWFSSE5JTjBnM242UlNQTHZQN1RSK3dzTGVoSVNWSlIyOGIrY1V4Q0Yra3NDZzFVS3pqRWoyNWQwa21wNlk4NmZ4MWRRS1YyQTh2eE8zM1RkcDEwcWFrQUxBVTNjZTdWa1EyT3ZzVE9xT29OZ1cxVU1oRmJCNkhWa2NwZU9JSzN6UlkwWXhYbmF5dzVhY0grUVJ2RTFSbEg3cFFLUXZCaGdiOEJNd1NYaWhTeUZXYkdGS0RBRzJPdklPd1ZvZFVvIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktYTg3MS0zYzk0LTE4ZDUtMGI1NGUzMzNiZjU0Iiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoiZENDRkhFM0NGazY3SE55NkxsZ1RBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiJaTWtvU1lKWXhtODVJMWlKeWJaZjdpb0J6M3dsTjhNOGFGdFBlOTdpeTUwQmMzZGxaR1Z1WXkxa2MyMXoiLCJ4bXNfaWRyZWwiOiIxIDI2IiwieG1zX3N0Ijp7InN1YiI6ImpyT1NBNjdOeTMwUkRZWlpYSklUQl9fUmpUNE95Nl9DNlVlNlZtV1I2VUUifSwieG1zX3RjZHQiOjE3NDQyNzkzOTQsInhtc190ZGJyIjoiRVUifQ.OPotqRry-OvmnN1IhhMk_A_S42yQI3E9X9bCwrQ15r9OICAcCBh8z6ay3IL1vrk6xLH9eyXlfuySbxBqAREDQTTJpjI3j3PBN2VX0BBT3WoHLM5bzOaUurefz45peIRCDhlqdFxBc9tFzqP93cmPDfusx42YyDAiV4g16bxknnc49msmaMUifp1oLoQUSnRMJtMyu33al7UmIVVFltuG2cvUm-AbG2qKgyWwHq370kARrWoddcGiZVhqArTZAdMQz5_HsxvhqS4GjymtYuGRGvSXxJM1faIDiHIV__8LWkOWp3XT93KqAShsC87XLGFUARRlu7Q56aD4t8rwjCbbeg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTc1ODMsIm5iZiI6MTc0NjQ1NzU4MywiZXhwIjoxNzQ2NDYxNDgzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiI0NDNjNmY2Mjk2M2YwMTI3MTVjN2NmMDJhMmRmNzI1NCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktYTg3MS0zYzk0LTE4ZDUtMGI1NGUzMzNiZjU0Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6ImRDQ0ZIRTNDRms2N0hOeTZMbGdUQUEiLCJ2ZXIiOiIyLjAifQ.Xe4CmGi6GWGOzX8NRUAREyp34Yp8oobGMZFsG4-GZpMP39RBVLrdsYcCjmBFD69O4DURySGZDj0cNfsY_9ImA149_NxXCR-fut2Cng46K24fdXIEAcYO3ypxitRgpuc9c2AlMNQJeTStSHOJOjcajIIlSgxtjKx772KCjNPGoDyHwGbjHNT1XiXRy2P9aEbtJPlaW6Xwj84sId6G88QEJLS96Pad0734inZz9GpuiYYPlSfkP4Iv8XFtTjU9RjCz9EWe9ZdLdF-TnhANZ4vpGcIYNMN54qMhZSzewkiP0ahmfqhuOaCC_zi1zNN46nHGmgIJ22MfKttBFGCMPNgmyg', 'expires_at': 1746462331, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457583, 'nbf': 1746457583, 'exp': 1746461483, 'name': 'Pablo Franco', 'nonce': '443c6f62963f012715c7cf02a2df7254', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-a871-3c94-18d5-0b54e333bf54', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dCCFHE3CFk67HNy6LlgTAA', 'ver': '2.0'}}
[2025-05-05 15:11:23,592] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457583, 'nbf': 1746457583, 'exp': 1746461483, 'name': 'Pablo Franco', 'nonce': '443c6f62963f012715c7cf02a2df7254', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-a871-3c94-18d5-0b54e333bf54', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dCCFHE3CFk67HNy6LlgTAA', 'ver': '2.0'}
[2025-05-05 15:11:23,592] [ERROR] [app] : Exception on /getAToken [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 309, in auth_entraid
    app.logger.info(f"Sessio info usuari: {user_info["name"]}, email: {user_info["email"]}") # TODO eid: {user_info["eid"]}
                                                                       ~~~~~~~~~^^^^^^^^^
KeyError: 'email'
[2025-05-05 15:11:23,595] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:11:23] "[35m[1mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_c898J9PbJzR4JLeQKduMBj8Pjuf49gYvHxOE3Ge0UkZCugSWG9JU_s5rJLIxhRuB-Rqj3huV13eBlOjNYDWBds_iH7s_ANXVhcG_14qIpqLH5jeecHCQqf1joETIeK4OGFkkL9ElSbCbJXk_WJ0wmf1dbu7if0jYx9TcnCfSroQZc9Efp7W9rZfR4gciOTrOmr51stm760wn7U7e0b1Eoe83xWlPOgEizSOgBGLdkv2N6_F2-Sgdnqw6kBDbt_fLDAU-qiYsioK90PDgRwhmS2GXWWw_GyJmxeg2FkUgSSWqFgPXoGWAy3e6l4OwnmQt4cU_kPugnZlbiyt7m49ErxChRyFVYFrjpXyIGr_ysoGf-2mA-vLZy8WTao3h6YeQyrexHLxFQO1x9r1_fJp499vK42Ev_9uNyTbtPqTtBuwooXHAVauNIP5vQfds9-xfNqKGxaE2QCW1rDkQHYuFKdEck9r8_d79o9Rk7nMj26H6q2slbysJA9OVQokLzIrgxJaKwlnDJd-YyQZsOp-6nxmgRkZzKu8lHM8W8iP5UUszh128nBQ_58Goz3F0-8lem-H309xzXUqgwO6Umu9PTjOG98kKzpI4VgzGr4w6DB4-1HiInFzTGfbxPUGmu1_Ur3oLG4AC8yxWyPx-xcwT1K-HpdEVANN7DIIHSuDZGOwjQw0dKL-ibQbTuhJBPtxa9P2seITLyFQDXTOevevXpFA9_8PGDuwUiQ12y-xD3FNyCGzVx7A99SPUlVdzvM1oRCo_StE_Gz-uSOb1Kue2-1WF4ZTFXCOledv_hjikYYtoJ6QaNc3pt00lBppEJp27IKJDfNYEqjMVTtp7CGAMEXIWALlUacIPG0vj2uKV_rj_9NOIe9rKY&state=eOF3biyVcFrD0se7R2wrTJIp7R1Pg4&session_state=004d1679-a871-3c94-18d5-0b54e333bf54 HTTP/1.1[0m" 500 -
[2025-05-05 15:13:57,199] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 15:13:57,200] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 15:14:04,499] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:14:04,506] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:14:04] "GET / HTTP/1.1" 200 -
[2025-05-05 15:14:05,740] [DEBUG] [app] : Asignem nonce a la sessio actual: 8ee07df7b75fea1190a953defd04b862
[2025-05-05 15:14:05,740] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:14:05,741] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:14:06,313] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 15:14:06,315] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:14:06] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:14:21,711] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:14:22,194] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3982
[2025-05-05 15:14:22,196] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:14:22,641] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 15:14:22,645] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4657, 'ext_expires_in': 4657, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IjhKa1ZjaTFPVzRfenFPR183SFFxZHBnWEdabmh0WGhkNnAzSXE1enNhWFEiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU3NzYyLCJuYmYiOjE3NDY0NTc3NjIsImV4cCI6MTc0NjQ2MjcyMCwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBRFZyc1A4NmIxWnNtbXRTeEtwU0s4alFHRVhuQzNZZTlrcFRqZzRQVnRHaWVCdXlVUkVhV05jSURteVRSYy9IMTY0Q1Fac2lPbnYvSXFuZHNVdGdoQUtZaUIvV21EMzJNMUJFaExqQWpIQVVkcDFINFhoTXkxMVkyZjlKLzR3UXE0U2tTNGR0bm9LUGNNNmVBbXJaTWovemlsOUVnSFB3OHlWbER5SWFWVzBLbyt5RUdUeEE5LzUxakRRSFlLWVo1IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktYWY4MC05OGQyLTNkMWItZWJiNzI3YTdkYmJiIiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoibnVTWTBheVRMa0NjVWtoclRoc1VBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiJaNlVwZ0x4TGNGNnY3dTh4Zy1XT1R6N18yREZCSEtnYzRnSDR2Y1FkUE1RQlpYVnliM0JsYm05eWRHZ3RaSE50Y3ciLCJ4bXNfaWRyZWwiOiIxIDE0IiwieG1zX3N0Ijp7InN1YiI6ImpyT1NBNjdOeTMwUkRZWlpYSklUQl9fUmpUNE95Nl9DNlVlNlZtV1I2VUUifSwieG1zX3RjZHQiOjE3NDQyNzkzOTQsInhtc190ZGJyIjoiRVUifQ.OlRBZ07R46_byalH8GU8eoUUQPQ32hasBuhOxPcSdGe3h8Thg1WO4rIufhEDtypPgQtw_X0cjkIu2wPRPnGQtMx8oLO6Kji5yd3JgK-0xclJvfxsXggC0vHo3VEtINdYUz-XwWgWqi5tPF9I6yj8OXDrfZ-M1EAay3_2JISujrKP89xEvuB3qp-ZsRu9-MH22fvYuTSaMXF2D31vdsbnvtHPiFEmN5znZ4tYUJgvispBiUbpI8jxn4fFAKvoDm9sU1w_L10iNjBf8c_FKGhypiR5_Eu6qYNJU1d6jOo6lfiWBKFx9RXk3YzJ_BL5Wjrxczb83SqUugRbVmfRYFiutQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTc3NjIsIm5iZiI6MTc0NjQ1Nzc2MiwiZXhwIjoxNzQ2NDYxNjYyLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiI4ZWUwN2RmN2I3NWZlYTExOTBhOTUzZGVmZDA0Yjg2MiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktYWY4MC05OGQyLTNkMWItZWJiNzI3YTdkYmJiIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Im51U1kwYXlUTGtDY1VraHJUaHNVQUEiLCJ2ZXIiOiIyLjAifQ.LVD5uuqoE-UrvsgiG8i3qHSQ-XAYurDa-vhJtKGmsnAxLQH2PjYtcWZIqqEGCAs9pBefcXHJTxzgZUEQPMwQslsZ-T7vtYdIWqwgQY8EImWZO3C05Z83al97sDEvQdBetjZAE2fSxnYmeF08n08ne3IgHt0f2mAttAhFKXCPJZ9Gp1zdrrY9m7_GSExFVx4-npoiqPVM_jkUfRBGqVJVW5f3fl8W-bPKVxMmdnqaTSG4DIwiz35j_Qy8PH9_yFh5Ju856zYwF2PlPNIGzgIoeSER5xsEzTLak8Lt5Srd-9AQr7zsVV2Z_bSq7Vj1S2mTRQNAwcWbSf4wb3ArWXHWdQ', 'expires_at': 1746462719, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457762, 'nbf': 1746457762, 'exp': 1746461662, 'name': 'Pablo Franco', 'nonce': '8ee07df7b75fea1190a953defd04b862', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-af80-98d2-3d1b-ebb727a7dbbb', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'nuSY0ayTLkCcUkhrThsUAA', 'ver': '2.0'}}
[2025-05-05 15:14:22,645] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457762, 'nbf': 1746457762, 'exp': 1746461662, 'name': 'Pablo Franco', 'nonce': '8ee07df7b75fea1190a953defd04b862', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-af80-98d2-3d1b-ebb727a7dbbb', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'nuSY0ayTLkCcUkhrThsUAA', 'ver': '2.0'}
[2025-05-05 15:14:22,645] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:14:22,679] [DEBUG] [app] : User Pablo Franco no guardat en db
[2025-05-05 15:14:22,683] [ERROR] [app] : Exception on /getAToken [GET]
Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "unique_eid"
DETAIL:  Key (eid)=(TEST ) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/app.py", line 322, in auth_entraid
    db.session.commit()
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/home/pablofc18/myApp/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "unique_eid"
DETAIL:  Key (eid)=(TEST ) already exists.

[SQL: INSERT INTO users (email, full_name, eid) VALUES (%(email)s, %(full_name)s, %(eid)s)]
[parameters: {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'full_name': 'Pablo Franco', 'eid': 'TEST'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-05-05 15:14:22,694] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:14:22] "[35m[1mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8Xranv3xI2FIV6EMSki5bWooUkfyAyirtYmGPIPUm96BQFivQ4ht_Xn7q6Pfdhzqf_mqzBLH5VGZUAnQmwmRxcN2DzKB3Yg28zE1JNyz_NsXHxA_QXDsNr1dJkJESWHMpwT75rt9DTFL1iQX5eWEAwkQYdHmTNoJMDEZ6-IEQxL9J4IFo3WY69JulZfDT2zd2WqaDihUXDE6Hr11acQBVy8vEnCbF8OnTwXu41v0zxHPNP20poWdrRnB9vq4ozqMUbwBDiM0XpJOKqeStJNQotUEvy9BQr5JvTXjMAI3gPaCud0gd6-NfLBDpel_s63Lg_f74MH8-auMVBvXEf4gXeRW76VrzwM6hw1bZsNRFGeHCBC1EApN0dKEF7uE4pXAUVX4aIJHwdIFsxcuidVJ4V4APwL762H2zoy9V52RsLjYWzqQPwn9StLIACijH5FjCJGTanaCcKwMNyj9kvvAWZgLWaGJefJMiHEtn9Ug5AyS2JdaFOKF_ApNb8BQpoIcv9iU-hoxeJIQa1e8OmZ3Us5cNz262Ag5G0UPd-2qjJrdvX5FbvBbWiyLuPhuD0g_cd5xKDZPm_QZsiSLCnAnG-aWU2zRmbvyUNEUFdczir-Bpbr07GhNi-Qoyb0uSkl-gA6rNyo83hYC8uNR8WA0Df8ltct_5-iKet7SBnXPme4o5ZGlW3E_uSrqU2XFPfpzQgsK9jjPrWvmdFOnvsd_j7Dq8o57FDTlgR6cPc61b6L0aBCSZosKlfRJDulQbD4ehDzFL_rSXh29_yo3x4Gw15i0x0o6ym-X7tNruZxmG_RTXjLORZ4QTaLlJdp4hM-a-5XYe2EbjYlDr8fTUPnCV6xhkNcChv1tzseDUtdkP-6yr1VSC5zA&state=nBvVnXOIQaPNKBwxGrRw0tTbaWw7lq&session_state=004d1679-af80-98d2-3d1b-ebb727a7dbbb HTTP/1.1[0m" 500 -
[2025-05-05 15:15:01,673] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 15:15:01,673] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 15:15:08,050] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:15:08,057] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:08] "GET / HTTP/1.1" 200 -
[2025-05-05 15:15:11,012] [DEBUG] [app] : Asignem nonce a la sessio actual: eaedad80e9dc0d7ad4acb71dd309abef
[2025-05-05 15:15:11,012] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:15:11,013] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:15:11,482] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 15:15:11,486] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:11] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:15:26,641] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:15:27,061] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3974
[2025-05-05 15:15:27,062] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:15:27,303] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 15:15:27,308] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4228, 'ext_expires_in': 4228, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IjQtdF9iN0NUOTNFUWswWWN4UGlhRDBQdkhqcndMMHRvNGhYdEpkX0VMQ1EiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU3ODI2LCJuYmYiOjE3NDY0NTc4MjYsImV4cCI6MTc0NjQ2MjM1NSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBSWxuYWt1RTgzVXdhOTNEZVpEL0VMOWZkMi9nUGJxK3ZNYTFDZE4xWHozb1ZoMTc3NDhHbWZ1NmRpM0JxNXBrK0d4Qll6anV4Nk5sVzV3NU5tN3VPUlI3anZTQ0lCNTZmTzdsY1BETGZSWGV1cU1vWFh4R05zemE2TU9mUzliR2p1RWhTeTNJb2I5d3UwZ284WitvSWQ3ZGJmTGdOS25qTU5RWW5DcHVQeTB6dTFZcTJMUGhxL1FabzF3aXZvTTZDIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktMTIyNi03MjIxLTdmNjYtNjg4YThhOGYyY2Y3Iiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoiRm92cnlITnV3azJVbFJ2cDZTVUtBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiI2bGFFQ0ZoOTRWM0pxUGZreEhKQldONDl2UnQzX3I0TDg2OFlnX29fRkFNQmMzZGxaR1Z1WXkxa2MyMXoiLCJ4bXNfaWRyZWwiOiIxIDI2IiwieG1zX3N0Ijp7InN1YiI6ImpyT1NBNjdOeTMwUkRZWlpYSklUQl9fUmpUNE95Nl9DNlVlNlZtV1I2VUUifSwieG1zX3RjZHQiOjE3NDQyNzkzOTQsInhtc190ZGJyIjoiRVUifQ.eZallTK7tHtYhRSNl6wAzr0y0HNdNv1Ch0nMoELvqgq3fWgMnvSBVWeJ-5_JOJPMKzcvoxaYSreyFIwn3hCurOfaQ1VJFUYSkI_fjIpAaCX5oBM8clxZRbiUWfzayPheFYaZQ3mS4rWT7s7xfe5Vo-Qvxx8yF8h-qxrjx0yXqmQAlqxwIAoCK367qWzNKmmT0aOIH_jvGEQmFvzaNEHmkwMmjOJJeiZjqjdSRjP66Y6fb2UJMDPeDDcQoS_0bVkXsNazgBGfbcVbL9wXyzjyOmLN7bVdYVx_g_91hGfhIjFHiMGBiwScAmabatgGpf8NUUJEpuOMBBqdZLzx9mDPYQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTc4MjYsIm5iZiI6MTc0NjQ1NzgyNiwiZXhwIjoxNzQ2NDYxNzI2LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYWVkYWQ4MGU5ZGMwZDdhZDRhY2I3MWRkMzA5YWJlZiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktMTIyNi03MjIxLTdmNjYtNjg4YThhOGYyY2Y3Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IkZvdnJ5SE51d2syVWxSdnA2U1VLQUEiLCJ2ZXIiOiIyLjAifQ.RRt_AGrTd3u40tFCpRXStkmjgDXxTkhSEqMdc8u2GVkCc9JMg3bUVnCJPsk41WQtRz1zW8iXrF7WI6gAB87HPlXKCaJbHyAKrDUYNRYnnpMbAjH2eIiMsZfVF87nig9jZRBBfy9P9SleqWCxnfiI7H9YqiW3Zcr1wH3m3pdBAENpZoYmLLum4J0Fs8CmXoRu-ODFv03gaT1XWdFYtLrlWIWapxG83g7cRgVRVidhUQvE01u4QuDIX-It1-MFF6ASTc-kfMcFHuqSwaDh9DNNnyOnSG-o1uWX4CDCLhmOJfgqOt30Bxvool6yiE52IT6__Vnbw9fJc_0OwulIq58ZoA', 'expires_at': 1746462355, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457826, 'nbf': 1746457826, 'exp': 1746461726, 'name': 'Pablo Franco', 'nonce': 'eaedad80e9dc0d7ad4acb71dd309abef', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-1226-7221-7f66-688a8a8f2cf7', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'FovryHNuwk2UlRvp6SUKAA', 'ver': '2.0'}}
[2025-05-05 15:15:27,308] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746457826, 'nbf': 1746457826, 'exp': 1746461726, 'name': 'Pablo Franco', 'nonce': 'eaedad80e9dc0d7ad4acb71dd309abef', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-1226-7221-7f66-688a8a8f2cf7', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'FovryHNuwk2UlRvp6SUKAA', 'ver': '2.0'}
[2025-05-05 15:15:27,308] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:15:27,323] [DEBUG] [app] : User Pablo Franco no guardat en db
[2025-05-05 15:15:27,326] [DEBUG] [app] : User Pablo Franco guardat en db
[2025-05-05 15:15:27,327] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:27] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQBOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9kTJ0xXdugp2eKPWba8FBWUvbotukl7mgz2KFSecQ-vctMR54AfjkkxP9gGZT0P2fAXVmpVF5PxkKF40eoSVUdp1pmlkPGSH5LYeKW9IyOcmsEm2odGTvQSJjXDJIxhHvAFerQW-FX09wKobnAQfMYFnBsvd0eQllx3XU8zZmM9hMKHlOsLQ1Rr3JAI0_5ius52ljtLm2OxujkPr_seH5fquXVTLPqMv1Sxex3u16c1gh_tHSRQbEMeQlunFcKehL4nWneEIRiVr_HfHPTC7Bk0eUA87VEJTFUiAZUwbIQXharZSrbSV6zYGY4KwDLLTypc6ndWWLaTdnLGuhk6gxHHfV2RvtBSsVteiA80MuBWMrKIxMzkZi9naoHrtWIqwEf6-z_Ye9KR3RrWklJY538qYTWzoRFTwsGj0Hw-aMmdx2QuEVYiryYClB2VROGehaXXPViQeSf70rphj2wvIhoEMxbS2pRq7BDfpd3J2Nfsme_UpuhlRVa1o9gF8_ZrMtuHy7ZAOHXD5zi5Z4K5lvHJ1rQwZAr0h5S-eWJj-6tG5WQXFKWt9SlUQkknDPHpWrgqaRf89wbMoxfBA7rCY3YoB11I1JIB-eqTXJ4nz5ZJHl3EcQfKOmegwk9lGBhApJz1GWCgel97Oig_4JTh17pKToiR2-RZzwOWlpeQXNuCQpnBqD0FtFoH75ilxQvsnzwEYV7cEPfSyOlB0suSZU2fa6llCp2P6TYRbWrXb2kn3ez3JKth8xffNijCaKvQxFy1iHLCc16w0-MliGML_FqIHexZgkYPyQ1KDM_L3BeXLi8a02T5GhLsJs3ZW8bcxHQZFHFd7Vc7KwFz1OU28VetuVBPBsld4MPMR_y1_pBcapG&state=YfizH41k7luPm9sJ8qa7VaTW3bqGlw&session_state=004d1679-1226-7221-7f66-688a8a8f2cf7 HTTP/1.1[0m" 302 -
[2025-05-05 15:15:27,333] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 15:15:27,334] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:27] "GET / HTTP/1.1" 200 -
[2025-05-05 15:15:30,763] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTc4MjYsIm5iZiI6MTc0NjQ1NzgyNiwiZXhwIjoxNzQ2NDYxNzI2LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYWVkYWQ4MGU5ZGMwZDdhZDRhY2I3MWRkMzA5YWJlZiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktMTIyNi03MjIxLTdmNjYtNjg4YThhOGYyY2Y3Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IkZvdnJ5SE51d2syVWxSdnA2U1VLQUEiLCJ2ZXIiOiIyLjAifQ.RRt_AGrTd3u40tFCpRXStkmjgDXxTkhSEqMdc8u2GVkCc9JMg3bUVnCJPsk41WQtRz1zW8iXrF7WI6gAB87HPlXKCaJbHyAKrDUYNRYnnpMbAjH2eIiMsZfVF87nig9jZRBBfy9P9SleqWCxnfiI7H9YqiW3Zcr1wH3m3pdBAENpZoYmLLum4J0Fs8CmXoRu-ODFv03gaT1XWdFYtLrlWIWapxG83g7cRgVRVidhUQvE01u4QuDIX-It1-MFF6ASTc-kfMcFHuqSwaDh9DNNnyOnSG-o1uWX4CDCLhmOJfgqOt30Bxvool6yiE52IT6__Vnbw9fJc_0OwulIq58ZoA',)
[2025-05-05 15:15:30,763] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTc4MjYsIm5iZiI6MTc0NjQ1NzgyNiwiZXhwIjoxNzQ2NDYxNzI2LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYWVkYWQ4MGU5ZGMwZDdhZDRhY2I3MWRkMzA5YWJlZiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktMTIyNi03MjIxLTdmNjYtNjg4YThhOGYyY2Y3Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IkZvdnJ5SE51d2syVWxSdnA2U1VLQUEiLCJ2ZXIiOiIyLjAifQ.RRt_AGrTd3u40tFCpRXStkmjgDXxTkhSEqMdc8u2GVkCc9JMg3bUVnCJPsk41WQtRz1zW8iXrF7WI6gAB87HPlXKCaJbHyAKrDUYNRYnnpMbAjH2eIiMsZfVF87nig9jZRBBfy9P9SleqWCxnfiI7H9YqiW3Zcr1wH3m3pdBAENpZoYmLLum4J0Fs8CmXoRu-ODFv03gaT1XWdFYtLrlWIWapxG83g7cRgVRVidhUQvE01u4QuDIX-It1-MFF6ASTc-kfMcFHuqSwaDh9DNNnyOnSG-o1uWX4CDCLhmOJfgqOt30Bxvool6yiE52IT6__Vnbw9fJc_0OwulIq58ZoA',)
[2025-05-05 15:15:30,763] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:30] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:15:34,375] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:15:34,376] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:34] "GET /?sid=004d1679-1226-7221-7f66-688a8a8f2cf7 HTTP/1.1" 200 -
[2025-05-05 15:15:40,421] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:15:40,421] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:40] "GET / HTTP/1.1" 200 -
[2025-05-05 15:15:46,413] [DEBUG] [app] : Asignem nonce a la sessio actual: 9fee3eb6e133137c557d1d7f26cfdb0c
[2025-05-05 15:15:46,414] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-05 15:15:46,414] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:15:47,472] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-05 15:15:47,474] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:15:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-05 15:16:18,129] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:16:19,260] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-05 15:16:19,261] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:16:20,274] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-05 15:16:20,275] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlZRSGlWeEhmSWc2SEdudTluRzYtcjQzamxGTkszVTFsSWtWUmlHU0owTGsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY0NTgxNzksImV4cCI6MTc0NjQ2MTc3OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ2NDU4MTc3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.KgzyaqZgoxGNXUvxggu7-Hu0FTltFqw5vuP1C1J9Rmks_e4vncfHmczRQtPE79JH7LkEctnW_feLxNDJOtUrRg-3wXsGH6vT3KP7wz4uCxcszZ2VsiUsOhUccosU7xD-PMhjG-9gYXk5eV7OB-akmnWYCFVsA6C9GD8LaExA3V7lZRSKQxuERJfaIt4s7BRs8_s_I2f-rY-hQeh7Qy8W__0Do1wEzMQDxi7kln-AmlvitVec2ZFEg_9M6I3KVMb22XBIPMwQ9Hj7lc6_Es-X5D0f5bhNolMQU-38uoRpy6EMUB2i76tz1s96St0dGcLNDIJtU82NJSTpcWrcvw-Z2w', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgxNzksImV4cCI6MTc0NjQ2MTc3OSwianRpIjoiSUQuMGJodGlWYVhBOGw5Vk1yUHFmZ3o4d3I3YVVzNlAwdjNxZ3puakg2OWlBUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlmZWUzZWI2ZTEzMzEzN2M1NTdkMWQ3ZjI2Y2ZkYjBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODE3NywiYXRfaGFzaCI6InlnWmJZckRpNHRVX0NRcmJiS0N0SXciLCJlaWQiOiIwMDAwQSJ9.CE8vxKPLHJmZw_KL3LyHhvnDwXe891b-Y9xpfgj-WIx2NvYt9jUI_6dptMP7OtNRWGa2DRYNwvM0k87vbbqhSQtdojLDxkwA2-87U1eteE5TUGCGR3z7KwuIchOyanrCHDXlucFINJomZo7nt8D91xZimxQt_w2ADgycyKNRp6KRdmQsIY7S53lqiBC6dCVZsXx7DUDNqMssQYM_L-jYVONMk9ybvs_-qAU1YEWRFh_X15MYo9P0lTOvw-y_J03vnQRD1dPBo-NINOM-g5ceZifOnYMT25q_mzy5_hXOoOBSZp18qbwFwjeUmtWpxZmbyJmArYqC0Hd_B1xeofn2YQ', 'expires_at': 1746461779, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458179, 'exp': 1746461779, 'jti': 'ID.0bhtiVaXA8l9VMrPqfgz8wr7aUs6P0v3qgznjH69iAQ', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9fee3eb6e133137c557d1d7f26cfdb0c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746458177, 'at_hash': 'ygZbYrDi4tU_CQrbbKCtIw', 'eid': '0000A'}}
[2025-05-05 15:16:20,275] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458179, 'exp': 1746461779, 'jti': 'ID.0bhtiVaXA8l9VMrPqfgz8wr7aUs6P0v3qgznjH69iAQ', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9fee3eb6e133137c557d1d7f26cfdb0c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746458177, 'at_hash': 'ygZbYrDi4tU_CQrbbKCtIw', 'eid': '0000A'}
[2025-05-05 15:16:20,275] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-05 15:16:20,277] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-05 15:16:20,278] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:16:20] "[32mGET /auth/callback?code=YjmMWSSPTm05HnMuQC6qLMbkx1UvlSI3hOjBsIW4tvc&state=ek1nBSInTdTXg0fyylK3txAGT8C0d7 HTTP/1.1[0m" 302 -
[2025-05-05 15:16:20,283] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-05 15:16:20,284] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:16:20] "GET / HTTP/1.1" 200 -
[2025-05-05 15:16:22,191] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.VQHiVxHfIg6HGnu9nG6-r43jlFNK3U1lIkVRiGSJ0Lk', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746458179, 'exp': 1746461779, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746458177, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-05 15:16:22,192] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-05 15:16:22,196] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:16:22] "GET /profile HTTP/1.1" 200 -
[2025-05-05 15:16:23,562] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-05 15:16:23,562] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:16:23] "GET / HTTP/1.1" 200 -
[2025-05-05 15:16:24,527] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgxNzksImV4cCI6MTc0NjQ2MTc3OSwianRpIjoiSUQuMGJodGlWYVhBOGw5Vk1yUHFmZ3o4d3I3YVVzNlAwdjNxZ3puakg2OWlBUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlmZWUzZWI2ZTEzMzEzN2M1NTdkMWQ3ZjI2Y2ZkYjBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODE3NywiYXRfaGFzaCI6InlnWmJZckRpNHRVX0NRcmJiS0N0SXciLCJlaWQiOiIwMDAwQSJ9.CE8vxKPLHJmZw_KL3LyHhvnDwXe891b-Y9xpfgj-WIx2NvYt9jUI_6dptMP7OtNRWGa2DRYNwvM0k87vbbqhSQtdojLDxkwA2-87U1eteE5TUGCGR3z7KwuIchOyanrCHDXlucFINJomZo7nt8D91xZimxQt_w2ADgycyKNRp6KRdmQsIY7S53lqiBC6dCVZsXx7DUDNqMssQYM_L-jYVONMk9ybvs_-qAU1YEWRFh_X15MYo9P0lTOvw-y_J03vnQRD1dPBo-NINOM-g5ceZifOnYMT25q_mzy5_hXOoOBSZp18qbwFwjeUmtWpxZmbyJmArYqC0Hd_B1xeofn2YQ
[2025-05-05 15:16:24,527] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgxNzksImV4cCI6MTc0NjQ2MTc3OSwianRpIjoiSUQuMGJodGlWYVhBOGw5Vk1yUHFmZ3o4d3I3YVVzNlAwdjNxZ3puakg2OWlBUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlmZWUzZWI2ZTEzMzEzN2M1NTdkMWQ3ZjI2Y2ZkYjBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODE3NywiYXRfaGFzaCI6InlnWmJZckRpNHRVX0NRcmJiS0N0SXciLCJlaWQiOiIwMDAwQSJ9.CE8vxKPLHJmZw_KL3LyHhvnDwXe891b-Y9xpfgj-WIx2NvYt9jUI_6dptMP7OtNRWGa2DRYNwvM0k87vbbqhSQtdojLDxkwA2-87U1eteE5TUGCGR3z7KwuIchOyanrCHDXlucFINJomZo7nt8D91xZimxQt_w2ADgycyKNRp6KRdmQsIY7S53lqiBC6dCVZsXx7DUDNqMssQYM_L-jYVONMk9ybvs_-qAU1YEWRFh_X15MYo9P0lTOvw-y_J03vnQRD1dPBo-NINOM-g5ceZifOnYMT25q_mzy5_hXOoOBSZp18qbwFwjeUmtWpxZmbyJmArYqC0Hd_B1xeofn2YQ
[2025-05-05 15:16:24,528] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:16:24] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:17:18,445] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 15:17:18,445] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 15:17:26,738] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:17:26,744] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:26] "GET / HTTP/1.1" 200 -
[2025-05-05 15:17:28,193] [DEBUG] [app] : Asignem nonce a la sessio actual: db898fe3132ec5dde81bb0cf27708faf
[2025-05-05 15:17:28,193] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-05 15:17:28,194] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:17:29,033] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-05 15:17:29,036] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-05 15:17:43,511] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:17:44,521] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-05 15:17:44,526] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:17:45,542] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-05 15:17:45,545] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmFibk1QY2ZkWHYtYW9RZ0Y0dmlyRUJ2cnJmbndIU1NGRTlLODdPMVZDY28iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY0NTgyNjQsImV4cCI6MTc0NjQ2MTg2NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ2NDU4MjYyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.IjP0CtQuQ8jeAc7nZlIQEvPPIwuyFAgwzu3K0_xX-kBhntRubVUHmZolxco3S6GzKdrFoxm9dxmWUQ6cVgFOIkKhbSSvqceWsivNvJ1yBfYZOHKDIupOglDtvsEUWa5A66e-qhhiGUtB1_jvCX7IbEtyPHKBGOvdy4QaRAwhddyiGE4VAhABnx1sd1RuCvm_RWblAUDTeFD_9ethzMAEyuson31gl9Vp7fWB1jO61LY4QbZtmSDz-blfqRHKUWfyCOFNIzvGpNH6-PsQsEtDSdhrq1krOEOeFn2R1uUQVpftUfX5PUAdVlnrauMOlD8PNskxloW255Qm9hI6tv2ABw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgyNjQsImV4cCI6MTc0NjQ2MTg2NCwianRpIjoiSUQuYWVyQUFYdTJSazRMNFB6VWt1ZFpRUGRCdGhiOExIVW1qLXFWRzdaaG9INCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRiODk4ZmUzMTMyZWM1ZGRlODFiYjBjZjI3NzA4ZmFmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODI2MiwiYXRfaGFzaCI6Imp3bFdUTVVsU2o5bXJDRkR3R0VLWUEiLCJlaWQiOiIwMDAwQSJ9.J2xAIt869uQ1mPL9ZSkfoIoPWq5zpTXKdwesMnAFWroCFDv0JtarRJchQe9VNr8yBOoTfBeUMb0Cakap3AH5y8gml1ClkrDcPmSi0JTCpMEnbXbcmoUG4usV7OhFoMJ2VA4NS39T2rYlIcDhWxU8OJzljYhzw7xSJ6cpXga3C4tWOA0yhL9hfxRWMRp1Kmjq2ktnrfbu9Bo_pSWsY-XuFvxxebIY5puO0ABIB0QKTEZYqMa-tdd40ovEvunAGrFlGKa7YFL9EBfPq1FysxF6LcjcPdLga0ro2bc2KB8Db2G_GmTluFVryY0ZjjczbEGTu6unnCcpOSIaPSQSXyMMzg', 'expires_at': 1746461864, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458264, 'exp': 1746461864, 'jti': 'ID.aerAAXu2Rk4L4PzUkudZQPdBthb8LHUmj-qVG7ZhoH4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'db898fe3132ec5dde81bb0cf27708faf', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746458262, 'at_hash': 'jwlWTMUlSj9mrCFDwGEKYA', 'eid': '0000A'}}
[2025-05-05 15:17:45,545] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458264, 'exp': 1746461864, 'jti': 'ID.aerAAXu2Rk4L4PzUkudZQPdBthb8LHUmj-qVG7ZhoH4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'db898fe3132ec5dde81bb0cf27708faf', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746458262, 'at_hash': 'jwlWTMUlSj9mrCFDwGEKYA', 'eid': '0000A'}
[2025-05-05 15:17:45,545] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-05 15:17:45,557] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-05 15:17:45,558] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:45] "[32mGET /auth/callback?code=WgJ-VdOmTM78NOhOetqD2rHJQrrIUf3MZMM3WdldzXM&state=POKVw0itEW00fdSxxhKsyLaSgPq3mp HTTP/1.1[0m" 302 -
[2025-05-05 15:17:45,564] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-05 15:17:45,564] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:45] "GET / HTTP/1.1" 200 -
[2025-05-05 15:17:46,704] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.abnMPcfdXv-aoQgF4virEBvrrfnwHSSFE9K87O1VCco', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746458264, 'exp': 1746461864, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1746458262, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-05-05 15:17:46,706] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-05-05 15:17:46,709] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:46] "GET /profile HTTP/1.1" 200 -
[2025-05-05 15:17:47,624] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-05 15:17:47,625] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:47] "GET / HTTP/1.1" 200 -
[2025-05-05 15:17:49,253] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgyNjQsImV4cCI6MTc0NjQ2MTg2NCwianRpIjoiSUQuYWVyQUFYdTJSazRMNFB6VWt1ZFpRUGRCdGhiOExIVW1qLXFWRzdaaG9INCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRiODk4ZmUzMTMyZWM1ZGRlODFiYjBjZjI3NzA4ZmFmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODI2MiwiYXRfaGFzaCI6Imp3bFdUTVVsU2o5bXJDRkR3R0VLWUEiLCJlaWQiOiIwMDAwQSJ9.J2xAIt869uQ1mPL9ZSkfoIoPWq5zpTXKdwesMnAFWroCFDv0JtarRJchQe9VNr8yBOoTfBeUMb0Cakap3AH5y8gml1ClkrDcPmSi0JTCpMEnbXbcmoUG4usV7OhFoMJ2VA4NS39T2rYlIcDhWxU8OJzljYhzw7xSJ6cpXga3C4tWOA0yhL9hfxRWMRp1Kmjq2ktnrfbu9Bo_pSWsY-XuFvxxebIY5puO0ABIB0QKTEZYqMa-tdd40ovEvunAGrFlGKa7YFL9EBfPq1FysxF6LcjcPdLga0ro2bc2KB8Db2G_GmTluFVryY0ZjjczbEGTu6unnCcpOSIaPSQSXyMMzg
[2025-05-05 15:17:49,253] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTgyNjQsImV4cCI6MTc0NjQ2MTg2NCwianRpIjoiSUQuYWVyQUFYdTJSazRMNFB6VWt1ZFpRUGRCdGhiOExIVW1qLXFWRzdaaG9INCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRiODk4ZmUzMTMyZWM1ZGRlODFiYjBjZjI3NzA4ZmFmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1ODI2MiwiYXRfaGFzaCI6Imp3bFdUTVVsU2o5bXJDRkR3R0VLWUEiLCJlaWQiOiIwMDAwQSJ9.J2xAIt869uQ1mPL9ZSkfoIoPWq5zpTXKdwesMnAFWroCFDv0JtarRJchQe9VNr8yBOoTfBeUMb0Cakap3AH5y8gml1ClkrDcPmSi0JTCpMEnbXbcmoUG4usV7OhFoMJ2VA4NS39T2rYlIcDhWxU8OJzljYhzw7xSJ6cpXga3C4tWOA0yhL9hfxRWMRp1Kmjq2ktnrfbu9Bo_pSWsY-XuFvxxebIY5puO0ABIB0QKTEZYqMa-tdd40ovEvunAGrFlGKa7YFL9EBfPq1FysxF6LcjcPdLga0ro2bc2KB8Db2G_GmTluFVryY0ZjjczbEGTu6unnCcpOSIaPSQSXyMMzg
[2025-05-05 15:17:49,254] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:49] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:17:49,668] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:17:49,668] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:49] "GET / HTTP/1.1" 200 -
[2025-05-05 15:17:55,712] [DEBUG] [app] : Asignem nonce a la sessio actual: ed499611551c31922109576371556d0e
[2025-05-05 15:17:55,712] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-05 15:17:55,713] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:17:55] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-05 15:27:34,698] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:27:34,698] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:34] "GET / HTTP/1.1" 200 -
[2025-05-05 15:27:35,998] [DEBUG] [app] : Asignem nonce a la sessio actual: 8a927fa02b7c9552164a395fa5a2853e
[2025-05-05 15:27:35,998] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:27:35,999] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:27:36,567] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 15:27:36,570] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:36] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:27:41,480] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:27:42,067] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 4011
[2025-05-05 15:27:42,069] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:27:42,566] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 15:27:42,567] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4975, 'ext_expires_in': 4975, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IjlydDVTRWMyTU1URWdjRU40dzhNU2czMFdSN2VMcjFzbFItcUJhMU5QemsiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU4NTYxLCJuYmYiOjE3NDY0NTg1NjEsImV4cCI6MTc0NjQ2MzgzNywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBc1BkM01DOWJKTlJaTWpaYisrZTR0ZGxKdmV3M3RYK2NscnR1K2w4ekJOMVJyMkU5SlFQL1VVLys5aE10L1FJblVHbmFsK2hhZ01Qd3gxUk9FbjhGSmdlK3JySkd6RHp2eTNoNzlPQW1FMG5CMzl4WGxPdVhKS3BUaXZkZnBwSHNPMlBiS1RyT0hSQVNhM21XZCtrK1pIc1BiU1R1OUNDQnI0ekwrK0dSN3lvUU9NS250dVhmQXErMkJyZGU2NUhnIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDAzZTk3ODktZTA4Mi0zNGJkLWM3NzktZjVhMTlmZmU3NTkxIiwic2lnbmluX3N0YXRlIjpbImttc2kiXSwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoib3djcWxzbjNXMHFxRVBLYjlkeUJBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiJzVm9lVzZtZmZzVFJYOUFvWDVnZVVkWEVqTjlDNnlqbGZicWJjSDZKRTdrQlpYVnliM0JsZDJWemRDMWtjMjF6IiwieG1zX2lkcmVsIjoiMSAxNCIsInhtc19zdCI6eyJzdWIiOiJqck9TQTY3TnkzMFJEWVpaWEpJVEJfX1JqVDRPeTZfQzZVZTZWbVdSNlVFIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.FdDHukz8Ga2fk0Xf3WoZoo3wQ_6FT4n7CFpNtN0xw3Y0bILhvU0FIpJcZAyxLfk1aWwER85yZrZoTBkFmXnmHG0NCagCStjWBKJzZA_EqrsH68w6hdb_HR-aIXbnA42sn4x7kGWn-Z7DJ16ciF3HFHY9N-SGD0uDxq3oWLPZ2YGgC7c8XrGk42Y2uVuqsBzO3igrWoCSzsTZEc37Rn8crPQc6cm3_gfZigw6Orh_qCYTJlXVHE-U7P3z8hsxC4AN02iw7zSuTXU7Ag8Ybk5ZPQ36d4q2rxll9Z6v0y6qlJtrE-1Na7QzGNnhubbKERlJfIGAa8QTHMw5envRGKcWhQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg1NjEsIm5iZiI6MTc0NjQ1ODU2MSwiZXhwIjoxNzQ2NDYyNDYxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiI4YTkyN2ZhMDJiN2M5NTUyMTY0YTM5NWZhNWEyODUzZSIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDAzZTk3ODktZTA4Mi0zNGJkLWM3NzktZjVhMTlmZmU3NTkxIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Im93Y3Fsc24zVzBxcUVQS2I5ZHlCQUEiLCJ2ZXIiOiIyLjAifQ.VXKpkeWwzyF1HINio5WAqOjjnJ9rqUKNjjbjkJzL4GC6kWl48Vkl6vBQUAjWejWB20shzeI95lk4v5jTBc8edB7n0rmiDYlOnrqVmEhMvlzs1vjNT4CbaoSJyMeoTDAQpgUF-EidUTyI9CiCu-O2HTe41dnZXhO7c0YbZV2_NSUVeHlq05PHO4ctYCOFBufwA4StbbDR7LydM3rhALWsFsty2kdfO926i7tWFF3L1ngAcFVG6D8RGUyt-gc2deAMczlNWYjjS_p6933KZ6sD0mrm3z1A-kKdrNLggGE55nFDaT8NsFwPR8rgnhL2ZbKmw0VXIeq0bdAHUUqaePSTEg', 'expires_at': 1746463837, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746458561, 'nbf': 1746458561, 'exp': 1746462461, 'name': 'Pablo Franco', 'nonce': '8a927fa02b7c9552164a395fa5a2853e', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '003e9789-e082-34bd-c779-f5a19ffe7591', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'owcqlsn3W0qqEPKb9dyBAA', 'ver': '2.0'}}
[2025-05-05 15:27:42,568] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746458561, 'nbf': 1746458561, 'exp': 1746462461, 'name': 'Pablo Franco', 'nonce': '8a927fa02b7c9552164a395fa5a2853e', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '003e9789-e082-34bd-c779-f5a19ffe7591', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'owcqlsn3W0qqEPKb9dyBAA', 'ver': '2.0'}
[2025-05-05 15:27:42,568] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:27:42,570] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:27:42,571] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:42] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_4iaLtvW2d5lSFy7zv1JHAvom-kLfV20EUup9g9qcnVgo2H43NtZJadaTJqIXrjuxWJIrcsVrw-EKZ1y2wSVJYvfSCCzawCCPfXEcqyoReKi3RoM13wJcyoLXzhRMeif6rP0etoDzlVTIfMDlRo-TtKi6b8e_dtHuzUV7hJ6ovQ_lKVHolnavynPQFX97IJDNz0vKktgixnUzkI5hL_r4ATKM2eTmq3hQDp_OJ7ULbJ7y_FqwbvLNcVj9ievUGf8PfLUatCdXedztD1iqtrymRfss4eX6I0kJ-Bp1_GScXV0WGUiadkQktx1mkEnqsDrJU3R9HXOJIJccyIZPW9KqNhPEUfWWYZTlXQJVh6yeysDEOA-jVokO5hCdjVU5tj2XZlseqgX-nY9moSvX1Mz0KS_tXzrZtyXZtn2VaVU4UzJyhNGwPMO64dTevYhSE7-iDRjdSGAKvKfz91joPtAk7TwnvgYGufbnEQ3XQPDztLFoOhDIrU2AvB4l4bas7cFfWi_hVohAzhOEvBONnPSR_lf6Zt8PI9__0eIoS_NVhIchBqlZXLi2TFlJ9r06R4issa7lPscA06Uh_Fnfib4xULWwNqeYN4umQih4o0N6VNGtF1yTByGWF7Y2lUzn5wYsQyCt9MK1WpIau2kc57YQCO5S8ZRXOS_Euq92LKC9H2gfyavv9GaruadWbcwibA26lcZGatAssiVDv5D9-Z4hnQgFvA_d48CZYQU5YC1Tdpdy_C5eB9N4pM_t7WcfnvoPD07ArXCWufgSIT51W1u-MN1VPnu_QRPdcOB6KB6slwFpybXv-0pstEviBFX1tyL7sihyR9Jw_06J2WQGFo9_ImXX3CHFsVqjUDPA8m2tX0iub3ifx8lI&state=IVqKaY414WE3iIpQInLtZ1jrnIHweb&session_state=003e9789-e082-34bd-c779-f5a19ffe7591 HTTP/1.1[0m" 302 -
[2025-05-05 15:27:42,579] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 15:27:42,579] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:42] "GET / HTTP/1.1" 200 -
[2025-05-05 15:27:54,222] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg1NjEsIm5iZiI6MTc0NjQ1ODU2MSwiZXhwIjoxNzQ2NDYyNDYxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiI4YTkyN2ZhMDJiN2M5NTUyMTY0YTM5NWZhNWEyODUzZSIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDAzZTk3ODktZTA4Mi0zNGJkLWM3NzktZjVhMTlmZmU3NTkxIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Im93Y3Fsc24zVzBxcUVQS2I5ZHlCQUEiLCJ2ZXIiOiIyLjAifQ.VXKpkeWwzyF1HINio5WAqOjjnJ9rqUKNjjbjkJzL4GC6kWl48Vkl6vBQUAjWejWB20shzeI95lk4v5jTBc8edB7n0rmiDYlOnrqVmEhMvlzs1vjNT4CbaoSJyMeoTDAQpgUF-EidUTyI9CiCu-O2HTe41dnZXhO7c0YbZV2_NSUVeHlq05PHO4ctYCOFBufwA4StbbDR7LydM3rhALWsFsty2kdfO926i7tWFF3L1ngAcFVG6D8RGUyt-gc2deAMczlNWYjjS_p6933KZ6sD0mrm3z1A-kKdrNLggGE55nFDaT8NsFwPR8rgnhL2ZbKmw0VXIeq0bdAHUUqaePSTEg',)
[2025-05-05 15:27:54,222] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg1NjEsIm5iZiI6MTc0NjQ1ODU2MSwiZXhwIjoxNzQ2NDYyNDYxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiI4YTkyN2ZhMDJiN2M5NTUyMTY0YTM5NWZhNWEyODUzZSIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDAzZTk3ODktZTA4Mi0zNGJkLWM3NzktZjVhMTlmZmU3NTkxIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Im93Y3Fsc24zVzBxcUVQS2I5ZHlCQUEiLCJ2ZXIiOiIyLjAifQ.VXKpkeWwzyF1HINio5WAqOjjnJ9rqUKNjjbjkJzL4GC6kWl48Vkl6vBQUAjWejWB20shzeI95lk4v5jTBc8edB7n0rmiDYlOnrqVmEhMvlzs1vjNT4CbaoSJyMeoTDAQpgUF-EidUTyI9CiCu-O2HTe41dnZXhO7c0YbZV2_NSUVeHlq05PHO4ctYCOFBufwA4StbbDR7LydM3rhALWsFsty2kdfO926i7tWFF3L1ngAcFVG6D8RGUyt-gc2deAMczlNWYjjS_p6933KZ6sD0mrm3z1A-kKdrNLggGE55nFDaT8NsFwPR8rgnhL2ZbKmw0VXIeq0bdAHUUqaePSTEg',)
[2025-05-05 15:27:54,222] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:54] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:27:58,152] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:27:58,153] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:27:58] "GET /?sid=003e9789-e082-34bd-c779-f5a19ffe7591 HTTP/1.1" 200 -
[2025-05-05 15:28:04,196] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:28:04,197] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:04] "GET / HTTP/1.1" 200 -
[2025-05-05 15:28:28,843] [DEBUG] [app] : Asignem nonce a la sessio actual: bc9564369bc336f56b9ef27f9942105c
[2025-05-05 15:28:28,843] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-05 15:28:28,845] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:28] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-05 15:28:30,220] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-05 15:28:31,406] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-05 15:28:31,407] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnAteDdiTkhQamM1WnhaNUtBaEt1bUJZbDI2aWY5STRuTGdUMTNjLVFleW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY0NTg5MTEsImV4cCI6MTc0NjQ2MjUxMSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ2NDU1NjgxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.bUK1wegLXCRnIdHdICIkoTcHcE0fJtHgytIuim2mVfty_Vr3JPIAzF89Mi9tBbXPczxuwVTzpxOr1zdqaariiQPZXQNS4Ia3bISU_5zr698f9Oq55V3SxhTatpyeFNyPkoBlmOiU3cr4JlfA2LDBk91dfjpUTfEgOB7pFRqTtjb-pDup-gCPUEsT4q2BmvF3pw6PwuhFVb-4T2jJsKPGdg2JV25BxFLC_4fvTMBxD6etj5yKbb0gDudwh5rcpEnCk-9xpeILy7G5GlTbKZ7_q8m4UkE6AabBAYMY7LGZg7vdvrShKDWcj06VRcAw0AJg0qR9Jns6fdH7pewJCaVpUg', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTg5MTEsImV4cCI6MTc0NjQ2MjUxMSwianRpIjoiSUQua25HeUcyaFFiWjI3VklhOW81REl1OExoSVBCSGZhMTRVT1VJT3h6UHN0NCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImJjOTU2NDM2OWJjMzM2ZjU2YjllZjI3Zjk5NDIxMDVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1NTY4MSwiYXRfaGFzaCI6Ii1JRFNmc1cwWGUzSm5waEdZVmotb2ciLCJlaWQiOiIwMDAwQSJ9.F03iurfOfiy_18Rg1PjroggO6jXeUTla78Osm_Ftj_QLdZO4W1_U9-sRe3oVuX3n4GU3vPqzFZhgAHd3BeykjkVRLgU1klib5WgSxpIc25pkBKGo_UAYpmz-RL5TcrTUMqotYDPqw8qecDCFTg1tLfF3Irgm3C8cvwvarHfYOsJU2HIFfRGWwGaB_POHf5Q-GXzFvhi_lbRdhH8J9MXKof3kQbLNKFZyuI_r8VKkQ1LGvtLvVT2qnLN3wjnia8-HhL1EKuht312tScMDSW_Il9QLJ7KzTOmqhmCpCBL5a7xSJoOgGkgy-Sga8Gkk45bb8vVS9udqV0qoZiuErcwLTw', 'expires_at': 1746462511, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458911, 'exp': 1746462511, 'jti': 'ID.knGyG2hQbZ27VIa9o5DIu8LhIPBHfa14UOUIOxzPst4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'bc9564369bc336f56b9ef27f9942105c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746455681, 'at_hash': '-IDSfsW0Xe3JnphGYVj-og', 'eid': '0000A'}}
[2025-05-05 15:28:31,408] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746458911, 'exp': 1746462511, 'jti': 'ID.knGyG2hQbZ27VIa9o5DIu8LhIPBHfa14UOUIOxzPst4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'bc9564369bc336f56b9ef27f9942105c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746455681, 'at_hash': '-IDSfsW0Xe3JnphGYVj-og', 'eid': '0000A'}
[2025-05-05 15:28:31,409] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-05 15:28:31,411] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-05 15:28:31,412] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:31] "[32mGET /auth/callback?code=0mWu3OqlQIJQ1yZQWb2dd0p-KItVtYBI5F2PxCnLUUk&state=fG6UeZakriEhRFJmr4V2GLVB48T24t HTTP/1.1[0m" 302 -
[2025-05-05 15:28:31,418] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-05 15:28:31,418] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:31] "GET / HTTP/1.1" 200 -
[2025-05-05 15:28:38,639] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTg5MTEsImV4cCI6MTc0NjQ2MjUxMSwianRpIjoiSUQua25HeUcyaFFiWjI3VklhOW81REl1OExoSVBCSGZhMTRVT1VJT3h6UHN0NCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImJjOTU2NDM2OWJjMzM2ZjU2YjllZjI3Zjk5NDIxMDVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1NTY4MSwiYXRfaGFzaCI6Ii1JRFNmc1cwWGUzSm5waEdZVmotb2ciLCJlaWQiOiIwMDAwQSJ9.F03iurfOfiy_18Rg1PjroggO6jXeUTla78Osm_Ftj_QLdZO4W1_U9-sRe3oVuX3n4GU3vPqzFZhgAHd3BeykjkVRLgU1klib5WgSxpIc25pkBKGo_UAYpmz-RL5TcrTUMqotYDPqw8qecDCFTg1tLfF3Irgm3C8cvwvarHfYOsJU2HIFfRGWwGaB_POHf5Q-GXzFvhi_lbRdhH8J9MXKof3kQbLNKFZyuI_r8VKkQ1LGvtLvVT2qnLN3wjnia8-HhL1EKuht312tScMDSW_Il9QLJ7KzTOmqhmCpCBL5a7xSJoOgGkgy-Sga8Gkk45bb8vVS9udqV0qoZiuErcwLTw
[2025-05-05 15:28:38,640] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY0NTg5MTEsImV4cCI6MTc0NjQ2MjUxMSwianRpIjoiSUQua25HeUcyaFFiWjI3VklhOW81REl1OExoSVBCSGZhMTRVT1VJT3h6UHN0NCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImJjOTU2NDM2OWJjMzM2ZjU2YjllZjI3Zjk5NDIxMDVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NjQ1NTY4MSwiYXRfaGFzaCI6Ii1JRFNmc1cwWGUzSm5waEdZVmotb2ciLCJlaWQiOiIwMDAwQSJ9.F03iurfOfiy_18Rg1PjroggO6jXeUTla78Osm_Ftj_QLdZO4W1_U9-sRe3oVuX3n4GU3vPqzFZhgAHd3BeykjkVRLgU1klib5WgSxpIc25pkBKGo_UAYpmz-RL5TcrTUMqotYDPqw8qecDCFTg1tLfF3Irgm3C8cvwvarHfYOsJU2HIFfRGWwGaB_POHf5Q-GXzFvhi_lbRdhH8J9MXKof3kQbLNKFZyuI_r8VKkQ1LGvtLvVT2qnLN3wjnia8-HhL1EKuht312tScMDSW_Il9QLJ7KzTOmqhmCpCBL5a7xSJoOgGkgy-Sga8Gkk45bb8vVS9udqV0qoZiuErcwLTw
[2025-05-05 15:28:38,640] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:38] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:28:39,587] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:28:39,588] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:39] "GET / HTTP/1.1" 200 -
[2025-05-05 15:28:40,871] [DEBUG] [app] : Asignem nonce a la sessio actual: ea6b156daa24cb64fc924ea67474f033
[2025-05-05 15:28:40,871] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:28:40,872] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:28:40] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:29:13,079] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:29:13,534] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3972
[2025-05-05 15:29:13,535] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 5312, 'ext_expires_in': 5312, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IlkteTRfcU1KSTUtTWV1eWdSZk1sV09Bd2ExcVM5TVVUb3ZvUnZvSy1oYk0iLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU4NjUzLCJuYmYiOjE3NDY0NTg2NTMsImV4cCI6MTc0NjQ2NDI2NiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBR3V5c3RlV01QV1pvZE1TKzFlQVJyL3QxMTFPTWpVZGNDR1g0eDRyT1I5MzNBMm1JdTNKTG9hWWFPV1NQK1g1YTd0OXIzbUZEbVNjdmZiNm91dTFxTWhqb0xHck16L1JaODV6eXN4YXUzNStnQkZlc2ZQSHc1c1I0ZVdadkkrWGFVMU55UmJ4L3lpSlgwR290ZmxONlhpUW5QRERNRE5tYmhCS3d5TVZRdzM5b3g4SXN4eUUvUk54aEtTamcycXpiIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktZDdiMi1jOTVlLWVhYjMtYTUzOTRmN2UyNzAzIiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoiSVZabFRkV1VoRWlQWV9LU2tMTVdBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiJnTWVReWdud1djVDFNb0VGMFB3VkxDYnBLRGtMREJBaHptT0FHZUMzeXBnQmMzZGxaR1Z1WXkxa2MyMXoiLCJ4bXNfaWRyZWwiOiIyIDEiLCJ4bXNfc3QiOnsic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSJ9LCJ4bXNfdGNkdCI6MTc0NDI3OTM5NCwieG1zX3RkYnIiOiJFVSJ9.QCkut0BZAwCsClTV5yoTs8miJ0sS_qpw5koEy6HrPjC6dw8LXivJ63Ar-_C_o-EgvkgkE5U6oP8z_K4Kuo7iOnGAOc5RLLCEskEpR6A5UXVv4Qr7hNlEJ029CG1uC7nUJIk9bTYA_05mePP6jqHlucyzYL2zVAgXSPwvd66cDRfLGswoMWn11y5nQa2DZ77EJSddxbdTAJ4futx4ah0Eor9J5zLxiOC9oG1o8KthgLq3FRCC-9EDQVi3KrIneQKs5DfsSO6n36mHPT9YDQztVwXFnKtdmYGwe_luam1OhElglarzYK3wpFLyQdlN370k94QLqMH0cS8DwUkZaGePmA', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg2NTMsIm5iZiI6MTc0NjQ1ODY1MywiZXhwIjoxNzQ2NDYyNTUzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYTZiMTU2ZGFhMjRjYjY0ZmM5MjRlYTY3NDc0ZjAzMyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktZDdiMi1jOTVlLWVhYjMtYTUzOTRmN2UyNzAzIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IklWWmxUZFdVaEVpUFlfS1NrTE1XQUEiLCJ2ZXIiOiIyLjAifQ.KMS5Pj3stpj0A8CdyMQZ9Zm_kUXor7xlZHg3HFap0d8kgyYxd0ipRloDJtnOs5npD9UNEqeW5u4bNX6YZUGwicj25AImoottoqBDtG9050QuWnxMu4h1fl92dVZEbkNUnAFEDqtq7iI563lzertkVcoCVN-IBzIzTJZWp-Z2hRHuAXNUp1jTUU8EL4JYXADE5biSvtKb_QpUYm44oHDlKHUx9VJW6-NiYAifmAUBAzWXVNu1RGHsvN1_Op3eEkiEF_qCyjAHHwehxFlP-ZVDalc5oEy9Cac8TRSRdHjyhbswZopl0j2fc8S43hqrRm9vN5BRkvqtsxyXDWQSjlmcVg', 'expires_at': 1746464265, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746458653, 'nbf': 1746458653, 'exp': 1746462553, 'name': 'Pablo Franco', 'nonce': 'ea6b156daa24cb64fc924ea67474f033', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-d7b2-c95e-eab3-a5394f7e2703', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'IVZlTdWUhEiPY_KSkLMWAA', 'ver': '2.0'}}
[2025-05-05 15:29:13,536] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746458653, 'nbf': 1746458653, 'exp': 1746462553, 'name': 'Pablo Franco', 'nonce': 'ea6b156daa24cb64fc924ea67474f033', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-d7b2-c95e-eab3-a5394f7e2703', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'IVZlTdWUhEiPY_KSkLMWAA', 'ver': '2.0'}
[2025-05-05 15:29:13,536] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:29:13,538] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:29:13,539] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:29:13] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8MtFz-7s2qn5_3aTjYbRbN2xq21jIFpJkEBUeXgQthSIsj-4_QT1xQBNC-A6TOsTnMmtpQE8bGXIH17T7W1jHpPSlw4tROp9ADTR8_9cIcKGaKcL5X4n-cNVhnmVaL9lh1ZxVErnKA3zj5iCZxloRo_MKuVzGMOJKVttNUSj1JWyxg2Tu06OpFMln9XEToR9JpoBD8vASFVXV7zhSSssbU5SzqOSRb6zorxYgPYRrsFq2JDQLIFmDW_L0IFInK4niWNWkpBPktdf54Xxw5iRg2ZexJRF2I8UPELK_IF2a_Z8WOSC32pn3rgfT-XWluN6gCIewFx4yDAgUvC0rFTIVEfr5wg4GXbDQbBMGnXFm9X2YscCJ2l9c8O6ujVCqxgrcDfj-Dlo4GZkwBKwq3UJP6DiBUDKk5ziy589YEnKKSD1kJqhFbNRdIOwh4F9mKzXRVujgCYdvdNVQGICXn6AEtD1Amggkc86FiBjOazVoLE2FN9h7f057NygibHna7qsbO1P-F6PpWn_SKmfXPNhfmVoUiMidhx8hzLO76eDR7ouzndyjirE4uhDkAXbsaVZob6tXtec2f7NSeuKzHbwzlB8Uwe_zaMKFoQpDYmNgraSfLj1jnrNRnocKfdL4OGGaJH417iP9tU7cPV5N5BADXUHvZVpWb-o4F7iwyLF79VCPfJL8orjZVpsJQ-ajh8A_s7v7nuOYfmddtPdJPIVciToA8UUp6FrpgwPcU5Hsd8_dFcG5jiRi2Ou_s3qC0N96qnDxvyf-aDG3TSUiaHH6pA7ARsgmAYwxaO8mC_5XK-Dmv6JMVntY_rX8xuGSEIzpXHHWmsweYHOFnRCpnjyCs1prUEYgwa83GAeN12N9uH-xrYFzE&state=yYJTCLIFLoX86Km04bggbBOlrzUURc&session_state=004d1679-d7b2-c95e-eab3-a5394f7e2703 HTTP/1.1[0m" 302 -
[2025-05-05 15:29:13,551] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 15:29:13,551] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:29:13] "GET / HTTP/1.1" 200 -
[2025-05-05 15:29:17,999] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg2NTMsIm5iZiI6MTc0NjQ1ODY1MywiZXhwIjoxNzQ2NDYyNTUzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYTZiMTU2ZGFhMjRjYjY0ZmM5MjRlYTY3NDc0ZjAzMyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktZDdiMi1jOTVlLWVhYjMtYTUzOTRmN2UyNzAzIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IklWWmxUZFdVaEVpUFlfS1NrTE1XQUEiLCJ2ZXIiOiIyLjAifQ.KMS5Pj3stpj0A8CdyMQZ9Zm_kUXor7xlZHg3HFap0d8kgyYxd0ipRloDJtnOs5npD9UNEqeW5u4bNX6YZUGwicj25AImoottoqBDtG9050QuWnxMu4h1fl92dVZEbkNUnAFEDqtq7iI563lzertkVcoCVN-IBzIzTJZWp-Z2hRHuAXNUp1jTUU8EL4JYXADE5biSvtKb_QpUYm44oHDlKHUx9VJW6-NiYAifmAUBAzWXVNu1RGHsvN1_Op3eEkiEF_qCyjAHHwehxFlP-ZVDalc5oEy9Cac8TRSRdHjyhbswZopl0j2fc8S43hqrRm9vN5BRkvqtsxyXDWQSjlmcVg',)
[2025-05-05 15:29:17,999] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTg2NTMsIm5iZiI6MTc0NjQ1ODY1MywiZXhwIjoxNzQ2NDYyNTUzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJlYTZiMTU2ZGFhMjRjYjY0ZmM5MjRlYTY3NDc0ZjAzMyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktZDdiMi1jOTVlLWVhYjMtYTUzOTRmN2UyNzAzIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IklWWmxUZFdVaEVpUFlfS1NrTE1XQUEiLCJ2ZXIiOiIyLjAifQ.KMS5Pj3stpj0A8CdyMQZ9Zm_kUXor7xlZHg3HFap0d8kgyYxd0ipRloDJtnOs5npD9UNEqeW5u4bNX6YZUGwicj25AImoottoqBDtG9050QuWnxMu4h1fl92dVZEbkNUnAFEDqtq7iI563lzertkVcoCVN-IBzIzTJZWp-Z2hRHuAXNUp1jTUU8EL4JYXADE5biSvtKb_QpUYm44oHDlKHUx9VJW6-NiYAifmAUBAzWXVNu1RGHsvN1_Op3eEkiEF_qCyjAHHwehxFlP-ZVDalc5oEy9Cac8TRSRdHjyhbswZopl0j2fc8S43hqrRm9vN5BRkvqtsxyXDWQSjlmcVg',)
[2025-05-05 15:29:17,999] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:29:17] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:29:20,843] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:29:20,843] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:29:20] "GET /?sid=004d1679-d7b2-c95e-eab3-a5394f7e2703 HTTP/1.1" 200 -
[2025-05-05 15:29:26,884] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:29:26,884] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:29:26] "GET / HTTP/1.1" 200 -
[2025-05-05 15:38:56,065] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:38:56,065] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:38:56] "GET / HTTP/1.1" 200 -
[2025-05-05 15:38:57,514] [DEBUG] [app] : Asignem nonce a la sessio actual: 826f33fe4ebaa97bdcba00c752346f1a
[2025-05-05 15:38:57,514] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:38:57,515] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:38:57] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:41:11,972] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:41:12,551] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:41:12,552] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4950, 'ext_expires_in': 4950, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6ImQ4aUNvRzBlNXpxa1l5Zjk2SUNjakV5UWVER0JZbEtNSUdwU1ptWXVud00iLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5MzcyLCJuYmYiOjE3NDY0NTkzNzIsImV4cCI6MTc0NjQ2NDYyMywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBamVvR2JISHlTeEhrWmxaSEk1NGRlWDRCMDhBOUpvWWlBaG9JSDlNaEc3QUh3OE5WWWxhdkFxMlI1L0xzbGxBekZWRkkxK0lDNzlFamlIdlRLUm1IKzVEWmFSNnNaWWpWU1F3UitxSE5BajlKVE9ibnJVMHJRVmloYlVJb2NDbWpTdXBJUnhROHNvK1B2Skl0SHVlT2VSYVp1WXZIVFZSMzJEdkdYN216ZkE5TDBzZjExeDFydnMvamhNZVBMc2o5IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyMiB1c2VyMiIsIm9pZCI6ImI0M2Q4MzJjLTk1NzAtNDI5OS1hNDZiLTVhNWY0Yjk2YzAzNCIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU3IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FSRk9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktMDJhMi0wZDc2LTc0YjQtMjIzZjcwMWY1ZjBhIiwic3ViIjoiQ3Vtb3pBLXB2MmNRSE8tcC1UVGtncUliLU9mamV2MjhWZVRBdE5kX3pUVSIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjJ1c2VyMkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyMnVzZXIyQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6InVIOTl2NXdNR0VDU2NrUlJWaGQxQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiNW5fUDZ4TkFOMm1OaDVOLWlGQWhCdXQzZlR6MlQ4clA3X2prRmdOY2J5WUJabkpoYm1ObFl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAyOCIsInhtc19zdCI6eyJzdWIiOiJRZXVFWV93cUJ4Mzk3N2dvOHEyM1JnOTNYUVR5YktMMXhBb0VSeXd6amtBIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.dAOdYYqDbZ_iywPUtPef1XzGScIUvD9CZyTxNKgwXeil7EvguW3hAkTxNK1SyJlCB2htOzcgY_-7J0MUV6--UcKXxANeXxRFnRft59N_-WjohefSWddI0W8bENZp3KGJzvdmftSNaK_MC6FkLmzcKm-p4zwmgOXJmAKJlsg0BdYsQVK6QVsRpPKUuhcATawvr0m_6EYeHTPOJienEWBxnuqv0J2pDEt1AL7oZdEO95H3pKQiBM4k7VvrolHyHDt1D8YZUm-sA0AxWPpMhlWvFodiOPHsNza3D9NpudDSFkbt-76Z6lQs3KpeK_0FQ_yKO-wtC5FDTL0xF7N9JZdHdA', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTkzNzIsIm5iZiI6MTc0NjQ1OTM3MiwiZXhwIjoxNzQ2NDYzMjcyLCJuYW1lIjoidXNlcjIgdXNlcjIiLCJub25jZSI6IjgyNmYzM2ZlNGViYWE5N2JkY2JhMDBjNzUyMzQ2ZjFhIiwib2lkIjoiYjQzZDgzMmMtOTU3MC00Mjk5LWE0NmItNWE1ZjRiOTZjMDM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJ1c2VyMkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVJGT0FBLiIsInNpZCI6IjAwNGQxNjc5LTAyYTItMGQ3Ni03NGI0LTIyM2Y3MDFmNWYwYSIsInN1YiI6IlFldUVZX3dxQngzOTc3Z284cTIzUmc5M1hRVHliS0wxeEFvRVJ5d3pqa0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ1SDk5djV3TUdFQ1Nja1JSVmhkMUFBIiwidmVyIjoiMi4wIn0.Jvop80YWLG1uEXbGL0_BAYbX23XsCbFNywYnpfwjPkZ0ScCWnFahkdjzkS4Q97he7XHN89A97h6946fl9Jr4MqOQe-kLqvVuU58v0m2NAnVi3zE1BJ1uEust9dzo_AyKWL5VQP6Fs6Jpk_9raQOdNz6jxN-sb6rcWHZtRZWO1eDuVPvSxs5ycaH5ks4lgZCo-eBUi5_UIz7NDtq1QPHpKyLLSbAjmw2vxGJXShorzntSVMreNreqqsdKvzVIEnmUaspLdi3x5MT78mNp--srhtooQAr355ZwhC0CztF4gWxnlWmWC1xvrtp_-s8YDdTUnaQN_XT1_ovHStHKmaHpJA', 'expires_at': 1746464622, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459372, 'nbf': 1746459372, 'exp': 1746463272, 'name': 'user2 user2', 'nonce': '826f33fe4ebaa97bdcba00c752346f1a', 'oid': 'b43d832c-9570-4299-a46b-5a5f4b96c034', 'preferred_username': 'user2user2@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWARFOAA.', 'sid': '004d1679-02a2-0d76-74b4-223f701f5f0a', 'sub': 'QeuEY_wqBx3977go8q23Rg93XQTybKL1xAoERywzjkA', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'uH99v5wMGECSckRRVhd1AA', 'ver': '2.0'}}
[2025-05-05 15:41:12,553] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459372, 'nbf': 1746459372, 'exp': 1746463272, 'name': 'user2 user2', 'nonce': '826f33fe4ebaa97bdcba00c752346f1a', 'oid': 'b43d832c-9570-4299-a46b-5a5f4b96c034', 'preferred_username': 'user2user2@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWARFOAA.', 'sid': '004d1679-02a2-0d76-74b4-223f701f5f0a', 'sub': 'QeuEY_wqBx3977go8q23Rg93XQTybKL1xAoERywzjkA', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'uH99v5wMGECSckRRVhd1AA', 'ver': '2.0'}
[2025-05-05 15:41:12,553] [INFO] [app] : Sessio info usuari: user2 user2, email: user2user2@TFGPABLO.onmicrosoft.com
[2025-05-05 15:41:12,554] [DEBUG] [app] : User user2 user2 no guardat en db
[2025-05-05 15:41:12,556] [DEBUG] [app] : User user2 user2 guardat en db
[2025-05-05 15:41:12,556] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:12] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8qvjR3DsTO65XSCDuUgJwpMe-tRuGKBwGhVvZCzLPOrftwnlEWL_QT7waXXp6D8MG8UM3NKJvosRtFbYZRXUB9Btp9IOxoJcgBhqm1bPhZ4Pq9ykbiom8swcgq_eXSiZ1ovB-nkLLb3B_7wgfT1Dj2HntySGe5Ql1CWLccKDel1fyx1GJshmVKKlLYi3IUDd7d0wOH08MNmwywcW_Ccr68YxB5iDQV3cP8GLs-KXKDP4LCOhtzxY6_PYGzAPMEzZRlfq3YSesywHrslwSx7_MEAcgOQLDoc2r5wHOeh3JAV92s2i2MCutAijsE2ciaE9wHUxItVJigVchglLKdXAderBvFXuErh7O5ZL9pJioc3rydjzCFYJAzqzaEeAB0V5f1llfXy_RAaL_mSx8oPjx1B8f_KKDp_-wqMr1VapqpUjmerdxIqZXfMRyrL_0Ik2NBYyWPtBl70d6kGBc5gm-gC4XzsCtIhVDmiS6T2Tl3XcWroBhbJU_bKqU8n58RpDGzm4ea5wYB9XXdll6jrT__1vdXEf0pr4g7Zve1ATWIEQvS-lQNW0YRreHEXCX5ip73NalIO5Tdn3TOo53PTS6BHTaJM4H4sBHOWpLlp-cWOjYANcnenJJRnAjiIggyK9K1MllByA8yA1cD66zjhVpBbjhe2LJK3qw3svn3CStQPecCWfSgmttU7N6XUF6DuWTa77_6RkQnbam-kNnbN2H2WElSVMLUElFjd_bs__5sdHRDHyrBOwsYTdF3zOgQT5mq-TBns7FjoIXT24oZA5YnqOKhCNOzvX1KXAbpNARfKxa095742AtpswnHEXlLFPHRMbPPItJ6MY_I47C2G8hVYrILAd8orciA-Wez8w&state=ehgcLuHRYs7XnjkoXWpptRTK3EScYO&session_state=004d1679-02a2-0d76-74b4-223f701f5f0a HTTP/1.1[0m" 302 -
[2025-05-05 15:41:12,563] [INFO] [app] : Usuari autenticat {'email': 'user2user2@TFGPABLO.onmicrosoft.com', 'name': 'user2 user2'}
[2025-05-05 15:41:12,563] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:12] "GET / HTTP/1.1" 200 -
[2025-05-05 15:41:18,223] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTkzNzIsIm5iZiI6MTc0NjQ1OTM3MiwiZXhwIjoxNzQ2NDYzMjcyLCJuYW1lIjoidXNlcjIgdXNlcjIiLCJub25jZSI6IjgyNmYzM2ZlNGViYWE5N2JkY2JhMDBjNzUyMzQ2ZjFhIiwib2lkIjoiYjQzZDgzMmMtOTU3MC00Mjk5LWE0NmItNWE1ZjRiOTZjMDM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJ1c2VyMkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVJGT0FBLiIsInNpZCI6IjAwNGQxNjc5LTAyYTItMGQ3Ni03NGI0LTIyM2Y3MDFmNWYwYSIsInN1YiI6IlFldUVZX3dxQngzOTc3Z284cTIzUmc5M1hRVHliS0wxeEFvRVJ5d3pqa0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ1SDk5djV3TUdFQ1Nja1JSVmhkMUFBIiwidmVyIjoiMi4wIn0.Jvop80YWLG1uEXbGL0_BAYbX23XsCbFNywYnpfwjPkZ0ScCWnFahkdjzkS4Q97he7XHN89A97h6946fl9Jr4MqOQe-kLqvVuU58v0m2NAnVi3zE1BJ1uEust9dzo_AyKWL5VQP6Fs6Jpk_9raQOdNz6jxN-sb6rcWHZtRZWO1eDuVPvSxs5ycaH5ks4lgZCo-eBUi5_UIz7NDtq1QPHpKyLLSbAjmw2vxGJXShorzntSVMreNreqqsdKvzVIEnmUaspLdi3x5MT78mNp--srhtooQAr355ZwhC0CztF4gWxnlWmWC1xvrtp_-s8YDdTUnaQN_XT1_ovHStHKmaHpJA',)
[2025-05-05 15:41:18,223] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTkzNzIsIm5iZiI6MTc0NjQ1OTM3MiwiZXhwIjoxNzQ2NDYzMjcyLCJuYW1lIjoidXNlcjIgdXNlcjIiLCJub25jZSI6IjgyNmYzM2ZlNGViYWE5N2JkY2JhMDBjNzUyMzQ2ZjFhIiwib2lkIjoiYjQzZDgzMmMtOTU3MC00Mjk5LWE0NmItNWE1ZjRiOTZjMDM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJ1c2VyMkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVJGT0FBLiIsInNpZCI6IjAwNGQxNjc5LTAyYTItMGQ3Ni03NGI0LTIyM2Y3MDFmNWYwYSIsInN1YiI6IlFldUVZX3dxQngzOTc3Z284cTIzUmc5M1hRVHliS0wxeEFvRVJ5d3pqa0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ1SDk5djV3TUdFQ1Nja1JSVmhkMUFBIiwidmVyIjoiMi4wIn0.Jvop80YWLG1uEXbGL0_BAYbX23XsCbFNywYnpfwjPkZ0ScCWnFahkdjzkS4Q97he7XHN89A97h6946fl9Jr4MqOQe-kLqvVuU58v0m2NAnVi3zE1BJ1uEust9dzo_AyKWL5VQP6Fs6Jpk_9raQOdNz6jxN-sb6rcWHZtRZWO1eDuVPvSxs5ycaH5ks4lgZCo-eBUi5_UIz7NDtq1QPHpKyLLSbAjmw2vxGJXShorzntSVMreNreqqsdKvzVIEnmUaspLdi3x5MT78mNp--srhtooQAr355ZwhC0CztF4gWxnlWmWC1xvrtp_-s8YDdTUnaQN_XT1_ovHStHKmaHpJA',)
[2025-05-05 15:41:18,223] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:18] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:41:22,966] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:41:22,966] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:22] "GET /?sid=004d1679-02a2-0d76-74b4-223f701f5f0a HTTP/1.1" 200 -
[2025-05-05 15:41:29,015] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:41:29,016] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:29] "GET / HTTP/1.1" 200 -
[2025-05-05 15:41:34,665] [DEBUG] [app] : Asignem nonce a la sessio actual: 4ffa5f8dfc468e019313b673394f1163
[2025-05-05 15:41:34,665] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:41:34,665] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:41:34] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:42:56,984] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:42:57,482] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3760
[2025-05-05 15:42:57,484] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4569, 'ext_expires_in': 4569, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IlNzYmlQWEMyOU9sbGVpUUtPd3pNU3NERTJkdlQyVUJWbEJMUVBMYlNpZnciLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5NDc3LCJuYmYiOjE3NDY0NTk0NzcsImV4cCI6MTc0NjQ2NDM0NywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBNzFBbFBkTEc2V3NiTGk5Z1VDMWx0cnQxa0h0d2UvTndSZmdJcUxIZjJFT01zc0VwdG03UWc5UDV0dWs0SlgzUUxHSWpCdjRrSTBleTlvOTlEMHhJaGxpcGN5VnBiR3grTmJyQ05qclNUa1pvUnNpeVZBc25pNTRHMEVid1dyM3EwYS83a3VuU29pUjdWUEc3QW9qU08wV0FQb1I2UzJCenFDVGRIQ1RTQUE2bXFqdDJmL2QyZ2o4Z0Fmd3pXbUpmIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsIm9pZCI6IjA5ODE2ZjUxLTYwZWMtNGJlOS04Nzk2LTQ5ZTlkYmQwODUwYyIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU0IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FRMU9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktN2IwZC1iZGQzLWY1M2YtM2QxMGY4NzhmNDllIiwic3ViIjoia0xBd3JfUVM5Mmd3dXhCSkpTQVdCeWhLaWp5YmZOQzZROFI4RnFuSXpVayIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjN1c2VyM0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyM3VzZXIzQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6Ikhzbi1jU0xsSjA2V0pmLTBLYlR2QUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiRDF0UjBGaXhVZ0FiazJfMHZHWmIwcko4WGp4WWgxcTNhbGdFX0hDNzRrVUJaWFZ5YjNCbGJtOXlkR2d0WkhOdGN3IiwieG1zX2lkcmVsIjoiMTQgMSIsInhtc19zdCI6eyJzdWIiOiJRZE5WQ0dTSTZ5ekRESjVKeU5sMkZPTkwtb3VYcWhqVmVoZTRMVEhBTjJRIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.IvYMnLEMKw4dRau03Lr_QHCuKI50t3Z2GX2ZvN0C5wBI1uKO7rlUpv_ChCAlt1Qy0CFhaukY3ASk_XphKJ0lI-eR0gZTDFURwE4FC-5jcX7Eq8sBydbSL3M_iq5JenANgbbaEE4rF_B9OU8d70jvF5kNhCOoQ3n7fE-v8eh57kWABqFeo_TTqDJz-1PTvckPbi3rurr8xDOUL0HhlbGvqbDzRx0jfW1FT3Gn6yx62t3tpU8gjpyPMbbW_mrNhUx6e2QCi7m3jzKpTqWAhGni8CC6-jqitrZCwjrZA5N2B14zu257z8vfDArkS64kPhn0NYkfGbOFgPD8FJp-ERBvYw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk0NzcsIm5iZiI6MTc0NjQ1OTQ3NywiZXhwIjoxNzQ2NDYzMzc3LCJuYW1lIjoidXNlcjMgdXNlcjMiLCJub25jZSI6IjRmZmE1ZjhkZmM0NjhlMDE5MzEzYjY3MzM5NGYxMTYzIiwib2lkIjoiMDk4MTZmNTEtNjBlYy00YmU5LTg3OTYtNDllOWRiZDA4NTBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjN1c2VyM0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVExT0FBLiIsInNpZCI6IjAwNGQxNjc5LTdiMGQtYmRkMy1mNTNmLTNkMTBmODc4ZjQ5ZSIsInN1YiI6IlFkTlZDR1NJNnl6RERKNUp5TmwyRk9OTC1vdVhxaGpWZWhlNExUSEFOMlEiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIc24tY1NMbEowNldKZi0wS2JUdkFBIiwidmVyIjoiMi4wIn0.WMo66Juub0Vjobx1dC0qNasYcpOFAFpRnDBwl24ISQ5PsvsmoMj5O1D98hP0fnLTb6636kAIyFaB_x6N7YzJMrjUKtOJcar5Yxji86xpC6WK0gnJ0-Wb6d93wKrA78EifjWhiPFQvn1S72yperwE08hIlL-TTjQNRWjr4jKJ8QovrY0isiW6Rcb-Wbe-ExiJZRTwNrDcdMWFvxjfC6KKcjdGar-zENyzt-t6_qdXmfxQ11urHManAZohHrBkFWIdcBKPzvJB-5Oyfc_ErMuo8jEurrhsfclTSN9YSoRlj1BKJXgLHy8nCDCaZ9KxnXg2ixtp6Jk90L6U5zPxYyI5Ew', 'expires_at': 1746464346, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459477, 'nbf': 1746459477, 'exp': 1746463377, 'name': 'user3 user3', 'nonce': '4ffa5f8dfc468e019313b673394f1163', 'oid': '09816f51-60ec-4be9-8796-49e9dbd0850c', 'preferred_username': 'user3user3@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQ1OAA.', 'sid': '004d1679-7b0d-bdd3-f53f-3d10f878f49e', 'sub': 'QdNVCGSI6yzDDJ5JyNl2FONL-ouXqhjVehe4LTHAN2Q', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'Hsn-cSLlJ06WJf-0KbTvAA', 'ver': '2.0'}}
[2025-05-05 15:42:57,484] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459477, 'nbf': 1746459477, 'exp': 1746463377, 'name': 'user3 user3', 'nonce': '4ffa5f8dfc468e019313b673394f1163', 'oid': '09816f51-60ec-4be9-8796-49e9dbd0850c', 'preferred_username': 'user3user3@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAQ1OAA.', 'sid': '004d1679-7b0d-bdd3-f53f-3d10f878f49e', 'sub': 'QdNVCGSI6yzDDJ5JyNl2FONL-ouXqhjVehe4LTHAN2Q', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'Hsn-cSLlJ06WJf-0KbTvAA', 'ver': '2.0'}
[2025-05-05 15:42:57,484] [INFO] [app] : Sessio info usuari: user3 user3, email: user3user3@TFGPABLO.onmicrosoft.com
[2025-05-05 15:42:57,485] [DEBUG] [app] : User user3 user3 no guardat en db
[2025-05-05 15:42:57,487] [DEBUG] [app] : User user3 user3 guardat en db
[2025-05-05 15:42:57,488] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:42:57] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P90etRhuiiUXjrDWMizUSsVH8yEBP_bajAtmnHct9FizcA9hWHFUnlN5XIJ-B6m3ePKafop7vg2Fbwz_z51Nrq7N7Ljo6V7UMSro0h0Wewu0xGdbZnRZklwivli54qq6wtKUXjG4cJxCYo6AiZOA8Z5TSgFxvINs-bA1SHrbtuKL3fhWZaYxnxjP8heKDK7IGOt3cjPwpokzpSmHCem2LM9Zi6M4UmTcGms-WLHykmo5y6GyAPhvLFyhqqdgS3Iliw12jRURcXn3Pfg1YtVZTt0RGWdxTNx7jVLSH4tzG9c3FkcnigLedzm9BZSmvlLAUhfWejnsQJNylHXYxSvflw-_mw7BS_70_zBgizyOvPMc-6sW85M9pkm_LMXsSi31vGFhFIOj-HDvvzjvEVeVLxl0WWFA7RUm9pNAtvWC3ygGGjPFwBXQHBDh4L0OTnCi3xEgbmMP_VuGOA90OngbocTmimX9F6ap-mXoOqUX-MjFWbvoXfDn5b4CXDd-CrJQ5cwMUoBeOk3Vn91xpl1bAHqe1wd4UWaAkyRyS97rhGEj5duJucynrs9uWqjMUOQ-eLCA2crd4ug46UfdtR0my3GDbfIIGW0-M5zDCt2gDedVjJawpExy3YIahBHe5BZ5HEDfaBd9z85hzE1POh-AbKa-7MWVj8Y2i_dxTse2mt3bebmX-DzRhKD72ybGT2TrYkNIQvgEM-v_3p85DtZ38Yr03hpxJjvB-SeqXgPLChzYO5EUqlV89ECF095u7OPzYBogANS_0lRYiH5RlJRfkq8jhS531xD8JTzIk3y_UbJjk9PRD-nf2N0Gc3-XaCWqv6X4OuCFIZ2XFx_KbyoXY0oUbImRk-gfPMx1s9Ylf0&state=8Zy3UFuntngqZzdKQFwpv2giHd5Hc2&session_state=004d1679-7b0d-bdd3-f53f-3d10f878f49e HTTP/1.1[0m" 302 -
[2025-05-05 15:42:57,497] [INFO] [app] : Usuari autenticat {'email': 'user3user3@TFGPABLO.onmicrosoft.com', 'name': 'user3 user3'}
[2025-05-05 15:42:57,497] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:42:57] "GET / HTTP/1.1" 200 -
[2025-05-05 15:43:08,274] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk0NzcsIm5iZiI6MTc0NjQ1OTQ3NywiZXhwIjoxNzQ2NDYzMzc3LCJuYW1lIjoidXNlcjMgdXNlcjMiLCJub25jZSI6IjRmZmE1ZjhkZmM0NjhlMDE5MzEzYjY3MzM5NGYxMTYzIiwib2lkIjoiMDk4MTZmNTEtNjBlYy00YmU5LTg3OTYtNDllOWRiZDA4NTBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjN1c2VyM0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVExT0FBLiIsInNpZCI6IjAwNGQxNjc5LTdiMGQtYmRkMy1mNTNmLTNkMTBmODc4ZjQ5ZSIsInN1YiI6IlFkTlZDR1NJNnl6RERKNUp5TmwyRk9OTC1vdVhxaGpWZWhlNExUSEFOMlEiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIc24tY1NMbEowNldKZi0wS2JUdkFBIiwidmVyIjoiMi4wIn0.WMo66Juub0Vjobx1dC0qNasYcpOFAFpRnDBwl24ISQ5PsvsmoMj5O1D98hP0fnLTb6636kAIyFaB_x6N7YzJMrjUKtOJcar5Yxji86xpC6WK0gnJ0-Wb6d93wKrA78EifjWhiPFQvn1S72yperwE08hIlL-TTjQNRWjr4jKJ8QovrY0isiW6Rcb-Wbe-ExiJZRTwNrDcdMWFvxjfC6KKcjdGar-zENyzt-t6_qdXmfxQ11urHManAZohHrBkFWIdcBKPzvJB-5Oyfc_ErMuo8jEurrhsfclTSN9YSoRlj1BKJXgLHy8nCDCaZ9KxnXg2ixtp6Jk90L6U5zPxYyI5Ew',)
[2025-05-05 15:43:08,274] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk0NzcsIm5iZiI6MTc0NjQ1OTQ3NywiZXhwIjoxNzQ2NDYzMzc3LCJuYW1lIjoidXNlcjMgdXNlcjMiLCJub25jZSI6IjRmZmE1ZjhkZmM0NjhlMDE5MzEzYjY3MzM5NGYxMTYzIiwib2lkIjoiMDk4MTZmNTEtNjBlYy00YmU5LTg3OTYtNDllOWRiZDA4NTBjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjN1c2VyM0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVExT0FBLiIsInNpZCI6IjAwNGQxNjc5LTdiMGQtYmRkMy1mNTNmLTNkMTBmODc4ZjQ5ZSIsInN1YiI6IlFkTlZDR1NJNnl6RERKNUp5TmwyRk9OTC1vdVhxaGpWZWhlNExUSEFOMlEiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIc24tY1NMbEowNldKZi0wS2JUdkFBIiwidmVyIjoiMi4wIn0.WMo66Juub0Vjobx1dC0qNasYcpOFAFpRnDBwl24ISQ5PsvsmoMj5O1D98hP0fnLTb6636kAIyFaB_x6N7YzJMrjUKtOJcar5Yxji86xpC6WK0gnJ0-Wb6d93wKrA78EifjWhiPFQvn1S72yperwE08hIlL-TTjQNRWjr4jKJ8QovrY0isiW6Rcb-Wbe-ExiJZRTwNrDcdMWFvxjfC6KKcjdGar-zENyzt-t6_qdXmfxQ11urHManAZohHrBkFWIdcBKPzvJB-5Oyfc_ErMuo8jEurrhsfclTSN9YSoRlj1BKJXgLHy8nCDCaZ9KxnXg2ixtp6Jk90L6U5zPxYyI5Ew',)
[2025-05-05 15:43:08,274] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:43:08] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:43:10,240] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:43:10,241] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:43:10] "GET /?sid=004d1679-7b0d-bdd3-f53f-3d10f878f49e HTTP/1.1" 200 -
[2025-05-05 15:43:16,271] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:43:16,271] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:43:16] "GET / HTTP/1.1" 200 -
[2025-05-05 15:43:19,869] [DEBUG] [app] : Asignem nonce a la sessio actual: 6fd5c73a84dec66bae356c80688c4272
[2025-05-05 15:43:19,869] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:43:19,869] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:43:19] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:45:09,932] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:45:10,392] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:45:10,394] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 3632, 'ext_expires_in': 3632, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6Ilp3aTVHYWhpM0xDWGNvSzZqWm5Pa3Y5Y0tqSTcyNXZ2bmM5TVVSdEJvN2ciLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5NjEwLCJuYmYiOjE3NDY0NTk2MTAsImV4cCI6MTc0NjQ2MzU0MywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBRlBBeGY5Q2J0c1JJMnFWakN4NDluRXNTbExBY3lZWlJWU2xhN3E3TzkreXl1L0ZLMTdsSXJSa25Mb3lhaFQxUVFZRENIQXZ0TW9laXAwbk5VWjJIRnpMb0lOVVBDRkNIN0crbGlFVUNJdEZ5NitpQStwWGdLSnFEVzVlcS9vR1gzZHpiZU1aVytVTVpxeTdmRWcvRXFHMTlURTVYRTNoUnIzTVhDOFRzeExndWU0S1Y5eG0xVkFGZ0pNWUFKYnF0IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsIm9pZCI6IjE3YmJmMDVhLTZkM2QtNGRiOS04YjkyLWViYWNjNmM2OTIyMyIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDgxOEYxIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FVVk9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktNzM2Yy00NDA5LWRhMDYtYzdlZTIxOWJhNDE2Iiwic3ViIjoiUVN4TXVJLThYS0hKRzNQMlhJS0lTZXlMR2VNaUhvVXZEc25SMVUtUk02USIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjR1c2VyNEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyNHVzZXI0QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6ImwzVHRqM3pWT0VPM251SnNIVXlhQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoidkNpbnk2MGFlNHluQ0VSVlZBYm9OY2o1a2g1cHRqNW5OajhDU2VZLUs5SUJjM2RsWkdWdVl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMTIgMSIsInhtc19zdCI6eyJzdWIiOiI3elg1alMwbEp3bVZ3UlE1aWNKcXlnSFQzMkxTbXJMRUVKS2Rxb3hjaktRIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.SzIJvbb30gOAAwCGnESr3l0lcsoIrTGQe93ndWZ66yJDij893AnwGpQ2Dihu_0ykGaeVfvisMo54Na7ioaflP11ukFwThLYgaJ2s7iU8wKhYH5b06wMyK4OigM2VuN0IuBv0ODzonb3DAJwIDcajepSxWcOqRudpc5B-OOI3Of9Un1taAox4WX4HZPLxJC1Xyo3rjA_l2eUaE1S91Phpv2yE0TQK-ACfe1F0Z2GhZSTDBgCMqZorTxKGgj7btyCSNRq6GoL8ENN2ETQrhlCY4bEMyhACd2HRekE92NHcGW-mhtfQsft0pSzVS60-m0NpMrTzxYYHYW5R4xHCa-PZww', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2MTAsIm5iZiI6MTc0NjQ1OTYxMCwiZXhwIjoxNzQ2NDYzNTEwLCJuYW1lIjoidXNlcjQgdXNlcjQiLCJub25jZSI6IjZmZDVjNzNhODRkZWM2NmJhZTM1NmM4MDY4OGM0MjcyIiwib2lkIjoiMTdiYmYwNWEtNmQzZC00ZGI5LThiOTItZWJhY2M2YzY5MjIzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjR1c2VyNEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVVWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTczNmMtNDQwOS1kYTA2LWM3ZWUyMTliYTQxNiIsInN1YiI6Ijd6WDVqUzBsSndtVndSUTVpY0pxeWdIVDMyTFNtckxFRUpLZHFveGNqS1EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJsM1R0ajN6Vk9FTzNudUpzSFV5YUFBIiwidmVyIjoiMi4wIn0.YNEBS6qQ4FoG0CWHWBiHl4u02vWGOVIF6U_nDy4m1DQuh3e8MRm-gmC0PCbzN__bdwwUE1nySWzJ8rot_YoWxwJZBhTlro3AtQ9DEsdkwrO1IyFNBthiC6WS5Kjjhd6bdu3uLML-iQEF7sz-Ll6489Ksn9UhHxNd-vaWPltcGStdLxBHO0u_UUBwxY5l7dSs3qBuc3HRkWyCBUlrkp3LzVW82qh0BXIpyrkD4G5WaOGuQ_w0lxCMeqGzGUeFNOfFBiW03IH-JjPoYGfTexY0X8IynNhuOn9XfAwiLpHBZWzX4wugMMK30uSBGadaf3xmOVKqPDbLE2FCz08DrYcy7Q', 'expires_at': 1746463542, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459610, 'nbf': 1746459610, 'exp': 1746463510, 'name': 'user4 user4', 'nonce': '6fd5c73a84dec66bae356c80688c4272', 'oid': '17bbf05a-6d3d-4db9-8b92-ebacc6c69223', 'preferred_username': 'user4user4@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAUVOAA.', 'sid': '004d1679-736c-4409-da06-c7ee219ba416', 'sub': '7zX5jS0lJwmVwRQ5icJqygHT32LSmrLEEJKdqoxcjKQ', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'l3Ttj3zVOEO3nuJsHUyaAA', 'ver': '2.0'}}
[2025-05-05 15:45:10,395] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459610, 'nbf': 1746459610, 'exp': 1746463510, 'name': 'user4 user4', 'nonce': '6fd5c73a84dec66bae356c80688c4272', 'oid': '17bbf05a-6d3d-4db9-8b92-ebacc6c69223', 'preferred_username': 'user4user4@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAUVOAA.', 'sid': '004d1679-736c-4409-da06-c7ee219ba416', 'sub': '7zX5jS0lJwmVwRQ5icJqygHT32LSmrLEEJKdqoxcjKQ', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'l3Ttj3zVOEO3nuJsHUyaAA', 'ver': '2.0'}
[2025-05-05 15:45:10,395] [INFO] [app] : Sessio info usuari: user4 user4, email: user4user4@TFGPABLO.onmicrosoft.com
[2025-05-05 15:45:10,396] [DEBUG] [app] : User user4 user4 no guardat en db
[2025-05-05 15:45:10,397] [DEBUG] [app] : User user4 user4 guardat en db
[2025-05-05 15:45:10,398] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:10] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9l2GqVR4ZJw_YG2Q7b4Y1JnfoyFnm38cuOe0cd_xvaVCM0f1DJgQwx-2YEIlm1YB0-RtX10SgtnaLUicU-zjCrJcVtij3Z_G-gI0m7zD09T8YME-KgXLLjA8c4xJORJdND1SlcMEB_hF26VPfUeFVDyWfFmeway3nEMyPlFV8YexxB8Q4pDqyORyJL15sBOshqUvBU0RUvxpGZu8-S50noECYkXCAzdyX98g4mRv0OQtLcO301LSI2IwDsC7ZIZ0X3fE5bsllhTfe8s8x22UcdvMgUxeGJ1P0_C_9UsyWuObAaCegt7BWJN0_kCkYHjnuYKSJtc7BAeRWhaoN4OdG4qHP45pRFbcuiwT5CfHCSyQQ8Ht4KAAMnaVhpW0_n25bw_Twd9ivsCvgQr38KoYg_e14iURyoZrXC9sMJBVWL3wTFbYk0tIKs0-JKeT-V76CYXooIcUVrb7hbeSVgzDE7z6zfLIP4tqYX8AeWUVVtsmi3kpe-6_L2X_bOGs38RK3QJIM5imrHLF5UHxV8lpj7y7Ypk7Fy40gwu6NmATbZAJYEHdo-sZ-Bt7IK3IkT9vlnaOgj0BPR2edzspIhRrYtBglzm4AL7UrRKsF35G5a6grheQR6D1MeyRkIqJiVNwkOEolXzFLE_woSaP8vTlzSKmttuBeKdPWZuLUKqe-Nsivpq9vAP3p1ueuUeUIha843bCo9qKAY7ey-Gu3fNub8XwrOqYEQn3IjHk_d4_ZM-iYD6VSlmOsT0Q496RbTtxvA8ug5BxmIr2fTQRY1u2XfsT6g8XxNuztOOQTt13ZRBoahGYf8i1UJ6EqJzRT3pmordQbmpCVBYMgye0F8vdyF2BFXefivAtE5_2-xawFQyw&state=1cSWiMYWLXllFaRvhkc6vFatyC7oiX&session_state=004d1679-736c-4409-da06-c7ee219ba416 HTTP/1.1[0m" 302 -
[2025-05-05 15:45:10,404] [INFO] [app] : Usuari autenticat {'email': 'user4user4@TFGPABLO.onmicrosoft.com', 'name': 'user4 user4'}
[2025-05-05 15:45:10,404] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:10] "GET / HTTP/1.1" 200 -
[2025-05-05 15:45:13,459] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2MTAsIm5iZiI6MTc0NjQ1OTYxMCwiZXhwIjoxNzQ2NDYzNTEwLCJuYW1lIjoidXNlcjQgdXNlcjQiLCJub25jZSI6IjZmZDVjNzNhODRkZWM2NmJhZTM1NmM4MDY4OGM0MjcyIiwib2lkIjoiMTdiYmYwNWEtNmQzZC00ZGI5LThiOTItZWJhY2M2YzY5MjIzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjR1c2VyNEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVVWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTczNmMtNDQwOS1kYTA2LWM3ZWUyMTliYTQxNiIsInN1YiI6Ijd6WDVqUzBsSndtVndSUTVpY0pxeWdIVDMyTFNtckxFRUpLZHFveGNqS1EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJsM1R0ajN6Vk9FTzNudUpzSFV5YUFBIiwidmVyIjoiMi4wIn0.YNEBS6qQ4FoG0CWHWBiHl4u02vWGOVIF6U_nDy4m1DQuh3e8MRm-gmC0PCbzN__bdwwUE1nySWzJ8rot_YoWxwJZBhTlro3AtQ9DEsdkwrO1IyFNBthiC6WS5Kjjhd6bdu3uLML-iQEF7sz-Ll6489Ksn9UhHxNd-vaWPltcGStdLxBHO0u_UUBwxY5l7dSs3qBuc3HRkWyCBUlrkp3LzVW82qh0BXIpyrkD4G5WaOGuQ_w0lxCMeqGzGUeFNOfFBiW03IH-JjPoYGfTexY0X8IynNhuOn9XfAwiLpHBZWzX4wugMMK30uSBGadaf3xmOVKqPDbLE2FCz08DrYcy7Q',)
[2025-05-05 15:45:13,459] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2MTAsIm5iZiI6MTc0NjQ1OTYxMCwiZXhwIjoxNzQ2NDYzNTEwLCJuYW1lIjoidXNlcjQgdXNlcjQiLCJub25jZSI6IjZmZDVjNzNhODRkZWM2NmJhZTM1NmM4MDY4OGM0MjcyIiwib2lkIjoiMTdiYmYwNWEtNmQzZC00ZGI5LThiOTItZWJhY2M2YzY5MjIzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjR1c2VyNEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVVWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTczNmMtNDQwOS1kYTA2LWM3ZWUyMTliYTQxNiIsInN1YiI6Ijd6WDVqUzBsSndtVndSUTVpY0pxeWdIVDMyTFNtckxFRUpLZHFveGNqS1EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJsM1R0ajN6Vk9FTzNudUpzSFV5YUFBIiwidmVyIjoiMi4wIn0.YNEBS6qQ4FoG0CWHWBiHl4u02vWGOVIF6U_nDy4m1DQuh3e8MRm-gmC0PCbzN__bdwwUE1nySWzJ8rot_YoWxwJZBhTlro3AtQ9DEsdkwrO1IyFNBthiC6WS5Kjjhd6bdu3uLML-iQEF7sz-Ll6489Ksn9UhHxNd-vaWPltcGStdLxBHO0u_UUBwxY5l7dSs3qBuc3HRkWyCBUlrkp3LzVW82qh0BXIpyrkD4G5WaOGuQ_w0lxCMeqGzGUeFNOfFBiW03IH-JjPoYGfTexY0X8IynNhuOn9XfAwiLpHBZWzX4wugMMK30uSBGadaf3xmOVKqPDbLE2FCz08DrYcy7Q',)
[2025-05-05 15:45:13,460] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:13] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:45:15,398] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:45:15,398] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:15] "GET /?sid=004d1679-736c-4409-da06-c7ee219ba416 HTTP/1.1" 200 -
[2025-05-05 15:45:21,431] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:45:21,431] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:21] "GET / HTTP/1.1" 200 -
[2025-05-05 15:45:22,579] [DEBUG] [app] : Asignem nonce a la sessio actual: a6bc68f36026f82b728fd3b3b597175e
[2025-05-05 15:45:22,579] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:45:22,580] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:45:22] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:46:18,091] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:46:18,673] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:46:18,675] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4026, 'ext_expires_in': 4026, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6Ik80UUxWdmhLZW5GOFRzUnluZE1hVW42dWZWN3E3M2tSbVZic192d2V1TjAiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5Njc4LCJuYmYiOjE3NDY0NTk2NzgsImV4cCI6MTc0NjQ2NDAwNSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBZERKN3o4UGdYdUN2dGZxTjNvcFlXUnByWVVxNlRlMGhPbDBOUmFCek5QVERsaXVNOEtZQmFwb1ZKbnU3ZDZHbDl5TWw1NVJjR2hYRHdtNmUydHhmSlZXTVRyaDhxdGV0U1dGMnpwWExCVWY1QXNQakU1UHRUL0xodUhTdVpGczFSUU4zREdVVkFTUXlxbzZILzhyNjNFdDhqRzB1VlBqVkhpd2VhM2ZSL3hmRi9OeTdoN1VYK1luLzN5dUx0UmszIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsIm9pZCI6IjBhOGJmYWNkLTlkZmEtNDEzMC05Yzk5LWMzYTM3ZTQ0Mzc4ZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU5IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FlWk9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktMmNiOC01YzBmLTEyOWQtYjJjZGMzODliOTJiIiwic3ViIjoiWEdGVHpSd2wzd2ROQVhVM0RXYzVhNVdFcnZER1hrU2JLd1IyVy1aeFFySSIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjV1c2VyNUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyNXVzZXI1QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6ImZiZlFrWTJqdlVTazhzSGJDdmw5QUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiVzdhcHVJUkVyVFJ6Q05laDZERjFyTFN5SldneFh0R1M2UG5tSjBhcmNNQUJabkpoYm1ObFl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAxOCIsInhtc19zdCI6eyJzdWIiOiJBaTh4bVF6bXZRdEhib0Vqd2tHRFljbUZTTG9SNGc1S015UmxUdXhibFNBIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.UGPgOEydE6OdCXLrNAf2iniABFYFLIMuOwT4RTew3u0__LufjiFlmkXFjfWpVPdBs9U-YLuyLiG3L57y_Xuz7rvntoS3zCBIgtqXrFgbZcPN06h7RN2jVhvw-3V1iGRTGQrTWaIZpuer2lJOaPa-Gv9uJAc5FxY_mBzoGI6KY3IKPqLBfMkBHOa1ety5XxbMI5Tmt_bTqdTbXwMdeIXNHLIkUImP8yCaCj2XHwcibKozCF7xdBB7KpTrktXvFnm6mxcDzd4EEbu7c-y2Q_Wa-yQYDATdagAUCG-tzZWhShVTkqViRo56vjnCpoRzpvXaBfsnYWi949X-FHsAYWUqxg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2NzgsIm5iZiI6MTc0NjQ1OTY3OCwiZXhwIjoxNzQ2NDYzNTc4LCJuYW1lIjoidXNlcjUgdXNlcjUiLCJub25jZSI6ImE2YmM2OGYzNjAyNmY4MmI3MjhmZDNiM2I1OTcxNzVlIiwib2lkIjoiMGE4YmZhY2QtOWRmYS00MTMwLTljOTktYzNhMzdlNDQzNzhmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjV1c2VyNUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWVaT0FBLiIsInNpZCI6IjAwNGQxNjc5LTJjYjgtNWMwZi0xMjlkLWIyY2RjMzg5YjkyYiIsInN1YiI6IkFpOHhtUXptdlF0SGJvRWp3a0dEWWNtRlNMb1I0ZzVLTXlSbFR1eGJsU0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJmYmZRa1kyanZVU2s4c0hiQ3ZsOUFBIiwidmVyIjoiMi4wIn0.S-wLd7C0CEdPsIcXxGJ_nagUk6bz3gCKbLICuzKW1v__RwEfKs0cCLPJJAkf3IZvJmH2lJcKXXcv2qQOsB8xj1VoZ9GTZ_B4LmIRjFm1GVwGocduXO0zsGZfstNnoaHI-6GTIIR1z75xCp4tQ7X7pYDBgoDbiPbjpX23aj-RgfJfs26jxcavVaWIgl3SKh85BqtW-VtpYc_vlSLVpz5HQH1Ex3-EqsRbsCDwRE0I8QQxxAobXE6DmzPgaCQeCaPjEBabJ-M0EuT7uimQIicRJwuA7kuyo2wHC-rPCYlVYF2lU-aE4vBYZbOWhPu8GQHpxK7G1z0vHt_t2CBV1JOhHQ', 'expires_at': 1746464004, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459678, 'nbf': 1746459678, 'exp': 1746463578, 'name': 'user5 user5', 'nonce': 'a6bc68f36026f82b728fd3b3b597175e', 'oid': '0a8bfacd-9dfa-4130-9c99-c3a37e44378f', 'preferred_username': 'user5user5@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAeZOAA.', 'sid': '004d1679-2cb8-5c0f-129d-b2cdc389b92b', 'sub': 'Ai8xmQzmvQtHboEjwkGDYcmFSLoR4g5KMyRlTuxblSA', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'fbfQkY2jvUSk8sHbCvl9AA', 'ver': '2.0'}}
[2025-05-05 15:46:18,675] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459678, 'nbf': 1746459678, 'exp': 1746463578, 'name': 'user5 user5', 'nonce': 'a6bc68f36026f82b728fd3b3b597175e', 'oid': '0a8bfacd-9dfa-4130-9c99-c3a37e44378f', 'preferred_username': 'user5user5@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAeZOAA.', 'sid': '004d1679-2cb8-5c0f-129d-b2cdc389b92b', 'sub': 'Ai8xmQzmvQtHboEjwkGDYcmFSLoR4g5KMyRlTuxblSA', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'fbfQkY2jvUSk8sHbCvl9AA', 'ver': '2.0'}
[2025-05-05 15:46:18,675] [INFO] [app] : Sessio info usuari: user5 user5, email: user5user5@TFGPABLO.onmicrosoft.com
[2025-05-05 15:46:18,677] [DEBUG] [app] : User user5 user5 no guardat en db
[2025-05-05 15:46:18,679] [DEBUG] [app] : User user5 user5 guardat en db
[2025-05-05 15:46:18,680] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:18] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P97-ymVvQiDw4I9JqCTss0JNMdjv7NXzot7lnrz-1QDValiTaF35X6kf9xgtZbX-KS-nWkYLaK5yHsoUSfAslz6MooSrYP7hqpgTZHjPJdbPUwZKO81sUgxydMcB1Bx_9UsSpfbTXh0KjbYcEEo0IorXJzJe-bnKfjmfE-wLP1ZZXwRpl_S7EThTK5TLnexBfobPofI-r_3cHv4CZ5370Eontaj4EEYuu0mg1iYrSox8liLqKoRQdBeAiJuq4YS70kQn2MasBSWffWRtz2BxRE-Q5YlR2qy6v1IfF8CFl8P-lKgdJCYrlMwmqTwHjZN1wVnD5iiU4L5wBg80lqCVDRU8aKoxxnMOBa9PYcW7V50PMEQX6Vwt1X-hNmSEp1P5v3pn4stSMqagoWJTjokjxJDJO8IWs6vMrBqDwh-cs4Qp8i8uJTYXQWM_uzbf3Lsprg96NukK32_Rvb5gcvaUOe1VpQLvPEXqLYIgF0d9DEpefbyKVcDTIqj-w_X79fwgc_-PWzUjqqlUQxD_f7Imr0zl7O3EOmQ4MDiVZzLsgmw75_fm9mKK2YsbuXyxnJem_kYD_eoASoaWOPnfxYZdHrcVA6YBIYIFOngRxazRj_DDx1iqNGnaed_YfIIYRLEdSTqeqBfaAD-DoSnl5MwgX6uAeZI9NbTQxArzuNTpzqJyTXzjifQ90e1rfbBHiVwGkI2MLwE5IQiYcnIGgn2XzM5uJDHgPkdINLzp5B1E2hyF9kgj7Y0Efdy69vFCcZOqX66eCp8HfTmxeh5n-eVL2tNaynCCEsb1l1GZAXuxsHCzyjQuC0Lpq0bHyGWyJrDhuxNB2WG7aQaVrLsZtH0MB_wkDkCa0V4zLAXXZjuaqTcx1g&state=3m5zo2mbFUslEE5HUEKfdWWprYZroD&session_state=004d1679-2cb8-5c0f-129d-b2cdc389b92b HTTP/1.1[0m" 302 -
[2025-05-05 15:46:18,687] [INFO] [app] : Usuari autenticat {'email': 'user5user5@TFGPABLO.onmicrosoft.com', 'name': 'user5 user5'}
[2025-05-05 15:46:18,687] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:18] "GET / HTTP/1.1" 200 -
[2025-05-05 15:46:21,733] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2NzgsIm5iZiI6MTc0NjQ1OTY3OCwiZXhwIjoxNzQ2NDYzNTc4LCJuYW1lIjoidXNlcjUgdXNlcjUiLCJub25jZSI6ImE2YmM2OGYzNjAyNmY4MmI3MjhmZDNiM2I1OTcxNzVlIiwib2lkIjoiMGE4YmZhY2QtOWRmYS00MTMwLTljOTktYzNhMzdlNDQzNzhmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjV1c2VyNUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWVaT0FBLiIsInNpZCI6IjAwNGQxNjc5LTJjYjgtNWMwZi0xMjlkLWIyY2RjMzg5YjkyYiIsInN1YiI6IkFpOHhtUXptdlF0SGJvRWp3a0dEWWNtRlNMb1I0ZzVLTXlSbFR1eGJsU0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJmYmZRa1kyanZVU2s4c0hiQ3ZsOUFBIiwidmVyIjoiMi4wIn0.S-wLd7C0CEdPsIcXxGJ_nagUk6bz3gCKbLICuzKW1v__RwEfKs0cCLPJJAkf3IZvJmH2lJcKXXcv2qQOsB8xj1VoZ9GTZ_B4LmIRjFm1GVwGocduXO0zsGZfstNnoaHI-6GTIIR1z75xCp4tQ7X7pYDBgoDbiPbjpX23aj-RgfJfs26jxcavVaWIgl3SKh85BqtW-VtpYc_vlSLVpz5HQH1Ex3-EqsRbsCDwRE0I8QQxxAobXE6DmzPgaCQeCaPjEBabJ-M0EuT7uimQIicRJwuA7kuyo2wHC-rPCYlVYF2lU-aE4vBYZbOWhPu8GQHpxK7G1z0vHt_t2CBV1JOhHQ',)
[2025-05-05 15:46:21,733] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk2NzgsIm5iZiI6MTc0NjQ1OTY3OCwiZXhwIjoxNzQ2NDYzNTc4LCJuYW1lIjoidXNlcjUgdXNlcjUiLCJub25jZSI6ImE2YmM2OGYzNjAyNmY4MmI3MjhmZDNiM2I1OTcxNzVlIiwib2lkIjoiMGE4YmZhY2QtOWRmYS00MTMwLTljOTktYzNhMzdlNDQzNzhmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjV1c2VyNUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWVaT0FBLiIsInNpZCI6IjAwNGQxNjc5LTJjYjgtNWMwZi0xMjlkLWIyY2RjMzg5YjkyYiIsInN1YiI6IkFpOHhtUXptdlF0SGJvRWp3a0dEWWNtRlNMb1I0ZzVLTXlSbFR1eGJsU0EiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJmYmZRa1kyanZVU2s4c0hiQ3ZsOUFBIiwidmVyIjoiMi4wIn0.S-wLd7C0CEdPsIcXxGJ_nagUk6bz3gCKbLICuzKW1v__RwEfKs0cCLPJJAkf3IZvJmH2lJcKXXcv2qQOsB8xj1VoZ9GTZ_B4LmIRjFm1GVwGocduXO0zsGZfstNnoaHI-6GTIIR1z75xCp4tQ7X7pYDBgoDbiPbjpX23aj-RgfJfs26jxcavVaWIgl3SKh85BqtW-VtpYc_vlSLVpz5HQH1Ex3-EqsRbsCDwRE0I8QQxxAobXE6DmzPgaCQeCaPjEBabJ-M0EuT7uimQIicRJwuA7kuyo2wHC-rPCYlVYF2lU-aE4vBYZbOWhPu8GQHpxK7G1z0vHt_t2CBV1JOhHQ',)
[2025-05-05 15:46:21,733] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:21] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:46:24,042] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:46:24,042] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:24] "GET /?sid=004d1679-2cb8-5c0f-129d-b2cdc389b92b HTTP/1.1" 200 -
[2025-05-05 15:46:30,067] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:46:30,067] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:30] "GET / HTTP/1.1" 200 -
[2025-05-05 15:46:31,308] [DEBUG] [app] : Asignem nonce a la sessio actual: e323b190e873caad9ec3e52d82543590
[2025-05-05 15:46:31,308] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:46:31,310] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:46:31] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:47:20,611] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:47:21,193] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:47:21,195] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 3794, 'ext_expires_in': 3794, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6ImRYSnlrejlKTk5DSGJycEZLbHNaSXBYQmtTTGZXRlgyRFpudHlScjBnNTAiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5NzQxLCJuYmYiOjE3NDY0NTk3NDEsImV4cCI6MTc0NjQ2MzgzNiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBUnFqSXN4YUhkeG1tQU5QSGdBODJ3elR5bmZEMmV4UW9DcUREeVVrazBtUHFEMG5QSFFibjJqeXVkY0NzRDlYZE9FS3EvUGkzSTB3MU4vZ29WQStaeDhQNGozNnFocXhZdkczdjc4ekhIaGRabWhpVkxuK0V4aml2ZjJWaXhBMmFoNXVZK1hCZHVpb1QwNWVWNGlYRExZNkJaeFJ4ekQ2VldZbDNRZ05yakFDeXhvWmVWNXM0bkxSYnZEUWdiMXVTIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsIm9pZCI6Ijc3ZTU3YjYzLTFlYmEtNDA3YS05YzEyLTc0YTI0ODM5NGIwYSIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU2IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FTVk9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktNjQyZi03OWY3LTFhMGEtOTNmMGRmYjZmY2M5Iiwic3ViIjoiSEpvMDc2TElqbGxBaUlOeUxQMzhJSmxCVkRzTng5aUE1U0RLTzBYVTNQNCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjZ1c2VyNkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyNnVzZXI2QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6IkFLNU43YWhUc0VLSVo5LTlicmVzQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiR1dqTkhKT2dkdmItbmdhNEhOMnZuMzB4T3prWVkydHFEQjBuZXV4TDRqSUJabkpoYm1ObFl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAxNCIsInhtc19zdCI6eyJzdWIiOiI3ekNqbi1QS2RYOUFjZmFWMjdVNmtnNDhzdnk5RE4ybHpobVd5cGFhRi1zIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.Uttwdtri3JGtjXNrsgnjwsggPmASEI4880HXkdUlzbF6ZzqmlgKzTqHCFSVTR2ggf5K_g8a74KcTOjPn35b0t_PkuaIRMbbOD-uXDJyFQPdQlhjGq3Jwzlmu5FZv7j7a8_4biPQYYPsMfDwaSmC4_Lq7VtBUJiyZYGNiiFJ3EGDkit9aumpfXcYRRBd8ef2aSGlMKxvRc1B-hbDD-HByx158Ws6p3ZXxKdFf5vkHIpr_g7yVhvsVQZZHw65qMTii1fvfAAMq4UUZS-eYesNl5OyPIfh0oG3ElrkA5y7Bta0LAygK29ckIpGY5jot1eRKV-Y5f7AZ0tKLxdSx-nbJwg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3NDEsIm5iZiI6MTc0NjQ1OTc0MSwiZXhwIjoxNzQ2NDYzNjQxLCJuYW1lIjoidXNlcjYgdXNlcjYiLCJub25jZSI6ImUzMjNiMTkwZTg3M2NhYWQ5ZWMzZTUyZDgyNTQzNTkwIiwib2lkIjoiNzdlNTdiNjMtMWViYS00MDdhLTljMTItNzRhMjQ4Mzk0YjBhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZ1c2VyNkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTY0MmYtNzlmNy0xYTBhLTkzZjBkZmI2ZmNjOSIsInN1YiI6Ijd6Q2puLVBLZFg5QWNmYVYyN1U2a2c0OHN2eTlETjJsemhtV3lwYWFGLXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJBSzVON2FoVHNFS0laOS05YnJlc0FBIiwidmVyIjoiMi4wIn0.CNaR0iQXnV8cEmuYyoKzOdWpiru_dGP5qIVeom6-h6j2LN1JFuq4-U-H23K2SbR-MtK7JNWT-F7i6YkatLYEswYPXwVxCjiX2ml8Brvr7x8iM_LP_bzo4GgPEy8etiYM_O-VjoRaTawNq_ze3QVsIuX3hG9tTMKASkbFhEvJ-A6nY4G5Z9KRW1j15qR7QzI86cklpityJPHg8w5a-sZpPSHRxmHb9xrB3gXTmgFcNUrNeWb7yFndk75KLFJxIkPp6FN5RKzv072XwL4frRXkNNDEPY67FKybTC1VUu0_X8kqFzVCCCWY5H4eQeOgl3TBvOm_VxovSAMrQ1GiG3hUKQ', 'expires_at': 1746463835, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459741, 'nbf': 1746459741, 'exp': 1746463641, 'name': 'user6 user6', 'nonce': 'e323b190e873caad9ec3e52d82543590', 'oid': '77e57b63-1eba-407a-9c12-74a248394b0a', 'preferred_username': 'user6user6@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWASVOAA.', 'sid': '004d1679-642f-79f7-1a0a-93f0dfb6fcc9', 'sub': '7zCjn-PKdX9AcfaV27U6kg48svy9DN2lzhmWypaaF-s', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'AK5N7ahTsEKIZ9-9bresAA', 'ver': '2.0'}}
[2025-05-05 15:47:21,195] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459741, 'nbf': 1746459741, 'exp': 1746463641, 'name': 'user6 user6', 'nonce': 'e323b190e873caad9ec3e52d82543590', 'oid': '77e57b63-1eba-407a-9c12-74a248394b0a', 'preferred_username': 'user6user6@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWASVOAA.', 'sid': '004d1679-642f-79f7-1a0a-93f0dfb6fcc9', 'sub': '7zCjn-PKdX9AcfaV27U6kg48svy9DN2lzhmWypaaF-s', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'AK5N7ahTsEKIZ9-9bresAA', 'ver': '2.0'}
[2025-05-05 15:47:21,195] [INFO] [app] : Sessio info usuari: user6 user6, email: user6user6@TFGPABLO.onmicrosoft.com
[2025-05-05 15:47:21,197] [DEBUG] [app] : User user6 user6 no guardat en db
[2025-05-05 15:47:21,199] [DEBUG] [app] : User user6 user6 guardat en db
[2025-05-05 15:47:21,199] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:21] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9PGokvNicqkHmAU1cnWoXVz0WWnACCy9yZOVL-leLYfTryaHs1efku6X0o3aeoZ85XdfHUTbnD9XqHwxk_uKFUUtN6ZOyCFVHC2EIOkcQWrXWR_84NTpITE9PiX9gmQn8b9kGmSrwuNec9sWuEHoFzbSZMYWH-Kw_OV78IVIS0WSEKouLQoLwvXXXJ94lZMhzZLXYURhgPy5uckU2A1rwTYVThJs10Hxq8fHvYguC6FcHjfy2xNokXS_sUPUmYdrdSR-m3T3N_Ue94IZJigkE8XGIS302VB2f51YNdPY1ZMxzV4PhEvMaBZWVYhXsA8auEHbI7hr9betwoHgYYfo4StAyx1WlzYeJ0fA3LeK6vnOXkSHZHpZNoGpVVqMJhvfa7TGdT3Uz8j8n_SuPkzeZBzU9rKeKcyQ9IK59Wcze3NU4CSsjvmb7VBefNnvjNRNH7pwg_8sF9qVxLZ73BMoXHKvlF1VGBY14lhTTzO6pWe1wBLBdppeAB1BpqX8CcCzIdhXMsAXLohzuKbbSJnjUjbU0Xx_aQsfE0d4_J4-n0fFHdJWZw3izx5fNHVI4ko-6OqXr6SWOMDbow_dmHHH4vP2wxc-xaE7uybxS74mpVUJPF269sGxCGXgD7snx4dBkYHGEU7ZE_8Srl1rOsH-O9GghROxnIuncynNv1ufG69bdFuEQ8KqyxZPz38GGMDlVDsphfye0jQEKNJFUvJeGJraeW0bAJ4IKQqiMdB_IQjO_TB8UDxinzBo5UlqDspspMFxSc0J6Hns--kSVphkSQQvJK4GEQX8MEHItd2Ng5_rboUeLON8PLkg9quFHAFB9RH84oO112Q53idtYWi_BkoNusBKGi6NL7v6mSUw&state=hV8ZZX5PcDJBRXUFLdTwVyqFVkLs2b&session_state=004d1679-642f-79f7-1a0a-93f0dfb6fcc9 HTTP/1.1[0m" 302 -
[2025-05-05 15:47:21,208] [INFO] [app] : Usuari autenticat {'email': 'user6user6@TFGPABLO.onmicrosoft.com', 'name': 'user6 user6'}
[2025-05-05 15:47:21,208] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:21] "GET / HTTP/1.1" 200 -
[2025-05-05 15:47:23,730] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3NDEsIm5iZiI6MTc0NjQ1OTc0MSwiZXhwIjoxNzQ2NDYzNjQxLCJuYW1lIjoidXNlcjYgdXNlcjYiLCJub25jZSI6ImUzMjNiMTkwZTg3M2NhYWQ5ZWMzZTUyZDgyNTQzNTkwIiwib2lkIjoiNzdlNTdiNjMtMWViYS00MDdhLTljMTItNzRhMjQ4Mzk0YjBhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZ1c2VyNkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTY0MmYtNzlmNy0xYTBhLTkzZjBkZmI2ZmNjOSIsInN1YiI6Ijd6Q2puLVBLZFg5QWNmYVYyN1U2a2c0OHN2eTlETjJsemhtV3lwYWFGLXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJBSzVON2FoVHNFS0laOS05YnJlc0FBIiwidmVyIjoiMi4wIn0.CNaR0iQXnV8cEmuYyoKzOdWpiru_dGP5qIVeom6-h6j2LN1JFuq4-U-H23K2SbR-MtK7JNWT-F7i6YkatLYEswYPXwVxCjiX2ml8Brvr7x8iM_LP_bzo4GgPEy8etiYM_O-VjoRaTawNq_ze3QVsIuX3hG9tTMKASkbFhEvJ-A6nY4G5Z9KRW1j15qR7QzI86cklpityJPHg8w5a-sZpPSHRxmHb9xrB3gXTmgFcNUrNeWb7yFndk75KLFJxIkPp6FN5RKzv072XwL4frRXkNNDEPY67FKybTC1VUu0_X8kqFzVCCCWY5H4eQeOgl3TBvOm_VxovSAMrQ1GiG3hUKQ',)
[2025-05-05 15:47:23,730] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3NDEsIm5iZiI6MTc0NjQ1OTc0MSwiZXhwIjoxNzQ2NDYzNjQxLCJuYW1lIjoidXNlcjYgdXNlcjYiLCJub25jZSI6ImUzMjNiMTkwZTg3M2NhYWQ5ZWMzZTUyZDgyNTQzNTkwIiwib2lkIjoiNzdlNTdiNjMtMWViYS00MDdhLTljMTItNzRhMjQ4Mzk0YjBhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZ1c2VyNkBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNWT0FBLiIsInNpZCI6IjAwNGQxNjc5LTY0MmYtNzlmNy0xYTBhLTkzZjBkZmI2ZmNjOSIsInN1YiI6Ijd6Q2puLVBLZFg5QWNmYVYyN1U2a2c0OHN2eTlETjJsemhtV3lwYWFGLXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJBSzVON2FoVHNFS0laOS05YnJlc0FBIiwidmVyIjoiMi4wIn0.CNaR0iQXnV8cEmuYyoKzOdWpiru_dGP5qIVeom6-h6j2LN1JFuq4-U-H23K2SbR-MtK7JNWT-F7i6YkatLYEswYPXwVxCjiX2ml8Brvr7x8iM_LP_bzo4GgPEy8etiYM_O-VjoRaTawNq_ze3QVsIuX3hG9tTMKASkbFhEvJ-A6nY4G5Z9KRW1j15qR7QzI86cklpityJPHg8w5a-sZpPSHRxmHb9xrB3gXTmgFcNUrNeWb7yFndk75KLFJxIkPp6FN5RKzv072XwL4frRXkNNDEPY67FKybTC1VUu0_X8kqFzVCCCWY5H4eQeOgl3TBvOm_VxovSAMrQ1GiG3hUKQ',)
[2025-05-05 15:47:23,730] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:23] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:47:25,354] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:47:25,355] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:25] "GET /?sid=004d1679-642f-79f7-1a0a-93f0dfb6fcc9 HTTP/1.1" 200 -
[2025-05-05 15:47:31,366] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:47:31,367] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:31] "GET / HTTP/1.1" 200 -
[2025-05-05 15:47:32,599] [DEBUG] [app] : Asignem nonce a la sessio actual: bfdb29563bed4a39685925f30eb18049
[2025-05-05 15:47:32,599] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:47:32,600] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:47:32] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:48:19,410] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:48:19,686] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:48:19,687] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4762, 'ext_expires_in': 4762, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IlBXdmdRaVY3dlNVWlMyZmZSeWx0VklIU252Y2xpRVhNVkl3cV9GcWY5Nk0iLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5Nzk5LCJuYmYiOjE3NDY0NTk3OTksImV4cCI6MTc0NjQ2NDg2MiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBcW5xL3JoY1VJQTVWRXk0Y0JPdkd0V0VDbHhWbWhtZmdKOVNCV09wMXVid0JScTM3aWZWOWxadTNSdWNnd3d1bDdMbERkcXJBeUpudVlDVVA4V3Yzb0NOaVRRbDVkUnZPTmZyVlVlb0pYZ3k1UXlSck1DUmVvcDh2eC9jZFBleTVzekpBS21LTzFDY3drYlpSYkxHYy8ySmpjMGN2NWRnUXp4ZEhHR1Z5TDIvc3RLcmVvdnRkWXBZeWVDb3IvWWZEIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsIm9pZCI6ImIxN2EzNTQwLTg2MzItNDE5Zi04ZDliLTk2ODA5MmYxOTA1MyIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDgxOEVGIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiQk9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktNmRmMi0yZTIyLTVjZTgtYjI0NzJiZWRkMWEyIiwic3ViIjoiWkRPdm55Tkx6M18xWkR4dGlJa1ZUZlRTa3AxLXJMMVNvU0kxZ0drdlZQWSIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjd1c2VyN0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyN3VzZXI3QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6Ii1fYUpLbENlMFVlN25wZld2bkJoQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiQmdtRHhoWGFzckl5c2VtT1duQ0VLTkdZak9TLUtoem5NTXhGUGJ2VU5XTUJabkpoYm1ObFl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAyNiIsInhtc19zdCI6eyJzdWIiOiJDNkNaOTEtMHNZUlBORWYwaGhtSGpEMEhrY0lLRVV6V2NZMXI2S1Y1NTk4In0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.gq2X-k0wQVf34GMcWMc2c8f9r15ig2th3gXAk9CcL1KY-rbyO6c6fWqIk3YcGKQOtD4h3equYY2B_M_wCROfH5rAoWTrj9rN71z0R9nJJ96DE3tsSHkyYuK03lw7dzJTpn7E2Pm3463isG0rAzzQpXw9v0QgIb59rcoIMYOiBbcECk8Z33kQfkD9TYa5XXA2mitCmARHzkmGkEoTEJqgXslsqZplXJYF81Mra7j1eWwdt1Xt4iAi3VUZbtjgpKNyZ_Dr12Skpcu5Rwzb68n1bGS4xTGuZzNl4XwvyCnYBmwAFkOCdLVwXwI3tQitG8sNQiE31cOmGS-81ttOkZQWIQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3OTksIm5iZiI6MTc0NjQ1OTc5OSwiZXhwIjoxNzQ2NDYzNjk5LCJuYW1lIjoidXNlcjcgdXNlcjciLCJub25jZSI6ImJmZGIyOTU2M2JlZDRhMzk2ODU5MjVmMzBlYjE4MDQ5Iiwib2lkIjoiYjE3YTM1NDAtODYzMi00MTlmLThkOWItOTY4MDkyZjE5MDUzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjd1c2VyN0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWJCT0FBLiIsInNpZCI6IjAwNGQxNjc5LTZkZjItMmUyMi01Y2U4LWIyNDcyYmVkZDFhMiIsInN1YiI6IkM2Q1o5MS0wc1lSUE5FZjBoaG1IakQwSGtjSUtFVXpXY1kxcjZLVjU1OTgiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiItX2FKS2xDZTBVZTducGZXdm5CaEFBIiwidmVyIjoiMi4wIn0.DshlrqSFBYBCK-BRrOhXxhUtwMjiPOmCL4c6WYo5yIqsq5AdttaMYWsk48sXFdv_F7jABcxkfhXJ2qQ_LVbGvyeCc49HBu1j8hql6_LkesRixrH1d3y1Rfr_RiSLaVT_fFelqGTQbGgDo561uPlYQxLp9Bqqi4TBz19n3DvmL3ugoT1Ujxvexgzl-QxzLtsHeSUVc4622HZDBuWkS4e99GCUip7vi2TVwjCOY62YQ-V9puJgrwosYAAcaSzfSPt_UxOatZUhWVVJzWlqYT62DXo1u911qD3vZmqZRFm65x6cyRYsNE5GOP6jXbNy9BcI9VwTWgg1MSg7xNhoXTSMXA', 'expires_at': 1746464861, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459799, 'nbf': 1746459799, 'exp': 1746463699, 'name': 'user7 user7', 'nonce': 'bfdb29563bed4a39685925f30eb18049', 'oid': 'b17a3540-8632-419f-8d9b-968092f19053', 'preferred_username': 'user7user7@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbBOAA.', 'sid': '004d1679-6df2-2e22-5ce8-b2472bedd1a2', 'sub': 'C6CZ91-0sYRPNEf0hhmHjD0HkcIKEUzWcY1r6KV5598', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '-_aJKlCe0Ue7npfWvnBhAA', 'ver': '2.0'}}
[2025-05-05 15:48:19,687] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459799, 'nbf': 1746459799, 'exp': 1746463699, 'name': 'user7 user7', 'nonce': 'bfdb29563bed4a39685925f30eb18049', 'oid': 'b17a3540-8632-419f-8d9b-968092f19053', 'preferred_username': 'user7user7@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbBOAA.', 'sid': '004d1679-6df2-2e22-5ce8-b2472bedd1a2', 'sub': 'C6CZ91-0sYRPNEf0hhmHjD0HkcIKEUzWcY1r6KV5598', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '-_aJKlCe0Ue7npfWvnBhAA', 'ver': '2.0'}
[2025-05-05 15:48:19,687] [INFO] [app] : Sessio info usuari: user7 user7, email: user7user7@TFGPABLO.onmicrosoft.com
[2025-05-05 15:48:19,689] [DEBUG] [app] : User user7 user7 no guardat en db
[2025-05-05 15:48:19,690] [DEBUG] [app] : User user7 user7 guardat en db
[2025-05-05 15:48:19,691] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:19] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_1TyIZIaRZB8TSxwe1TBHX5Mk2V9BhXA_sCSbjFAm0bMySdT6npcObl45DFgKCn5DCFF41L_4kfblsS-Y3SDR9UM9jwqt2ST1JQCtKKUYfPmPpCT18DmwapZo7iMdgJvdF1ZqnB2Thx5kS1Wa2NEm51OTGTRB4HVPrm15dIT7up5rVrTUpsRiq23xH6LlSVWwv8C9jHr5Hu1dwIGes_oIv1m2PFQOKmkuXX6_PnxI6RMV-p5xhiNrc6U-Uqczxs60C-CEKdapn9WI-7N8bxv0-a1pO_YwRw2-5j8LuveH72VVRmIBhaMZZGyJAJ_YhfpFrPVvSv1A80EX-ep_w_-UZHQg0444iTjO7b4AB71Ms3ZZL6WXG7Sx82PoKcIJqfTmuwl_68MOJJQs44QIYGQs5PxYKTJqOgyu4sZnC9Ar0OTvQqUrM-zzu0yjGmagYs3jG0k9iVm69NIoTC9ApJ-DdKE7JQn3KDi4m_gZiUMry6W9o_ixcV-j1oxEb3nYxybvzXkhQ6HPU1-kSs4Q2w4PMw9XXidisLtgku2n4bR94bRc1TX4mmAgc7elezqTDkOoIfTyiOrhBoBxlWoVDui6TWZM1l1lkfQF5jf4sJH-jgU0C1KbfpLy2xEoQoD19IOneiVRERu1ArOlGoWG8cOyZJNbwGrgv8OlblY2kZBcG5XiGvmghVOxfNRb7jFu5B9COMlQD37d4dxtoS-n0ZlXnvuPGJsqJYyZv78l3mP_Cmnp8RabY2GU76nqNKrSttGC4k02ZQAoNEXEmS9cxJ_yylFZkdVc2vjtIpUY6QJofYsbH0z8k3Cx_fH6DKPjwdA6NXhlZHKRJ6w17BKusIQLjS17bQQ7_RKHtJbZm0QsjyA&state=ZjmJU2JvMGA9GVwQylzFl5u8Caoy3R&session_state=004d1679-6df2-2e22-5ce8-b2472bedd1a2 HTTP/1.1[0m" 302 -
[2025-05-05 15:48:19,701] [INFO] [app] : Usuari autenticat {'email': 'user7user7@TFGPABLO.onmicrosoft.com', 'name': 'user7 user7'}
[2025-05-05 15:48:19,701] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:19] "GET / HTTP/1.1" 200 -
[2025-05-05 15:48:20,847] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3OTksIm5iZiI6MTc0NjQ1OTc5OSwiZXhwIjoxNzQ2NDYzNjk5LCJuYW1lIjoidXNlcjcgdXNlcjciLCJub25jZSI6ImJmZGIyOTU2M2JlZDRhMzk2ODU5MjVmMzBlYjE4MDQ5Iiwib2lkIjoiYjE3YTM1NDAtODYzMi00MTlmLThkOWItOTY4MDkyZjE5MDUzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjd1c2VyN0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWJCT0FBLiIsInNpZCI6IjAwNGQxNjc5LTZkZjItMmUyMi01Y2U4LWIyNDcyYmVkZDFhMiIsInN1YiI6IkM2Q1o5MS0wc1lSUE5FZjBoaG1IakQwSGtjSUtFVXpXY1kxcjZLVjU1OTgiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiItX2FKS2xDZTBVZTducGZXdm5CaEFBIiwidmVyIjoiMi4wIn0.DshlrqSFBYBCK-BRrOhXxhUtwMjiPOmCL4c6WYo5yIqsq5AdttaMYWsk48sXFdv_F7jABcxkfhXJ2qQ_LVbGvyeCc49HBu1j8hql6_LkesRixrH1d3y1Rfr_RiSLaVT_fFelqGTQbGgDo561uPlYQxLp9Bqqi4TBz19n3DvmL3ugoT1Ujxvexgzl-QxzLtsHeSUVc4622HZDBuWkS4e99GCUip7vi2TVwjCOY62YQ-V9puJgrwosYAAcaSzfSPt_UxOatZUhWVVJzWlqYT62DXo1u911qD3vZmqZRFm65x6cyRYsNE5GOP6jXbNy9BcI9VwTWgg1MSg7xNhoXTSMXA',)
[2025-05-05 15:48:20,848] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk3OTksIm5iZiI6MTc0NjQ1OTc5OSwiZXhwIjoxNzQ2NDYzNjk5LCJuYW1lIjoidXNlcjcgdXNlcjciLCJub25jZSI6ImJmZGIyOTU2M2JlZDRhMzk2ODU5MjVmMzBlYjE4MDQ5Iiwib2lkIjoiYjE3YTM1NDAtODYzMi00MTlmLThkOWItOTY4MDkyZjE5MDUzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjd1c2VyN0BURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQWJCT0FBLiIsInNpZCI6IjAwNGQxNjc5LTZkZjItMmUyMi01Y2U4LWIyNDcyYmVkZDFhMiIsInN1YiI6IkM2Q1o5MS0wc1lSUE5FZjBoaG1IakQwSGtjSUtFVXpXY1kxcjZLVjU1OTgiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiItX2FKS2xDZTBVZTducGZXdm5CaEFBIiwidmVyIjoiMi4wIn0.DshlrqSFBYBCK-BRrOhXxhUtwMjiPOmCL4c6WYo5yIqsq5AdttaMYWsk48sXFdv_F7jABcxkfhXJ2qQ_LVbGvyeCc49HBu1j8hql6_LkesRixrH1d3y1Rfr_RiSLaVT_fFelqGTQbGgDo561uPlYQxLp9Bqqi4TBz19n3DvmL3ugoT1Ujxvexgzl-QxzLtsHeSUVc4622HZDBuWkS4e99GCUip7vi2TVwjCOY62YQ-V9puJgrwosYAAcaSzfSPt_UxOatZUhWVVJzWlqYT62DXo1u911qD3vZmqZRFm65x6cyRYsNE5GOP6jXbNy9BcI9VwTWgg1MSg7xNhoXTSMXA',)
[2025-05-05 15:48:20,848] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:20] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:48:23,727] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:48:23,728] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:23] "GET /?sid=004d1679-6df2-2e22-5ce8-b2472bedd1a2 HTTP/1.1" 200 -
[2025-05-05 15:48:29,733] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:48:29,734] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:29] "GET / HTTP/1.1" 200 -
[2025-05-05 15:48:30,707] [DEBUG] [app] : Asignem nonce a la sessio actual: 28702e265fedbe31f06bbe25b4cfd07e
[2025-05-05 15:48:30,707] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:48:30,708] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:48:30] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:49:32,493] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:49:32,954] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:49:32,955] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 3888, 'ext_expires_in': 3888, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6ImRLYkhPY0xmdktUNHF0Y3hOTS1Na1FTamw3OFpnSlFNMnpWb0hmWkxCSDgiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5ODcyLCJuYmYiOjE3NDY0NTk4NzIsImV4cCI6MTc0NjQ2NDA2MSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBaVQvUVlLYkVHQ2dkdUdzYUFhUnRiS1pNMHFLVjlMelpHSis1SkRkQy9JbytsZzdDeUhEMEhQWkt6U1pUS2pqb2lsWmluaE50aG1MN3kyT0VwVTJsT1RmOTNiZUZvcXZBU1VlRlRWbEhZbmNhencyUFVpRmNCN0haTU5HUFBZZW1jdXQ5Um5yZGNUc0FaWWlqQlFuRlFzV29WeTh6OXc2MzdZT1l5cnhwU3RQK1BDVHovVitmMGh4TDVlNjN1dGRpIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsIm9pZCI6IjhiMTE3M2M4LTk1MjQtNDI3OS1hZGM1LWYyNzFjMTE3ODQzOSIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU1IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FTaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktM2E0Zi1hZmIxLTJkYmYtOGRkNjM0ZDIwZDU2Iiwic3ViIjoibEt6Qk1LRzlmMVlTV3NxR0p5WVN2WEduN0FOVUVUTlM4ZHV5UXE3NFFsOCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjh1c2VyOEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyOHVzZXI4QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6InZFM0VuamRnZFV5dGJiNVBrc1RIQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiQ0JJMUNUOHpRaUtfQkNFYVdwOW83d3RoejNGU0JpaFZJVXVyUGNmY0dEVUJjM2RsWkdWdVl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAxNiIsInhtc19zdCI6eyJzdWIiOiJTOWdPNTE5UUhGU0NOMkUwSXZaQ3J5WVNBcHF4R1ZjOC15eUJrN2dFcHlzIn0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.QjPERPHJZYIm_G5lUgPx6LipMfwhmnu6IafugxMQ4eXi2IL7rOPfH8T9wPJ7DiLca5ZUr0pvou0rUgb1B70VW9wYLZKPCBKlXUcTzDnRW4i4w57Yi0x83gewWDFdABLYtm54IOKAWJpVCwIdlulvA5N11Hr1ms9xfqfFci4zOo_428bKzEf4QREv8JLoxL1u2Nj3Q24-WoPFJUl2t9Hm2BzsUSWxgMrDOrg3kSjVDvJvzyzn_ESgex0_0IKt1pUL_QaFtkAb7aLnqzCFbU0LR_4FFxY8EyARoHlfDMmvQS7maV0tOtQaNt57j8005FblIuotHq7dSU_ll7Me2KSErA', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk4NzIsIm5iZiI6MTc0NjQ1OTg3MiwiZXhwIjoxNzQ2NDYzNzcyLCJuYW1lIjoidXNlcjggdXNlcjgiLCJub25jZSI6IjI4NzAyZTI2NWZlZGJlMzFmMDZiYmUyNWI0Y2ZkMDdlIiwib2lkIjoiOGIxMTczYzgtOTUyNC00Mjc5LWFkYzUtZjI3MWMxMTc4NDM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjh1c2VyOEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNoT0FBLiIsInNpZCI6IjAwNGQxNjc5LTNhNGYtYWZiMS0yZGJmLThkZDYzNGQyMGQ1NiIsInN1YiI6IlM5Z081MTlRSEZTQ04yRTBJdlpDcnlZU0FwcXhHVmM4LXl5Qms3Z0VweXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ2RTNFbmpkZ2RVeXRiYjVQa3NUSEFBIiwidmVyIjoiMi4wIn0.QOd7-J833aexCDr31_oMVEcHZ2XfZ2o_nv0jIa5Ra_ir1DkGvM_-gWbLEISVnz3fVHf_g1Te4yTx57-VdBmgcXS_MCnjJ8wnPk5pr7IJylMEZmrwSXacgWOKSfs8amVMLdRt6zjUZsMN7K_IeIhwLi_gaPQUbd1b2AUH87PIpvKDsJl0K1Xsm5zrjTLbBUwDdTtpwbZydqrL11Ab2SG_CwVVbzO0BM4ezikcfoE0buUtB4-TYljt3GBU-2atuBWBY6vpJcHfvkwUQYKu3EzPf5jz629qYqp2d1K0GXKd3K2_uL3v7TlqfEV4sEeLVfbx23xdWZfVep02MkUWkWvP4g', 'expires_at': 1746464060, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459872, 'nbf': 1746459872, 'exp': 1746463772, 'name': 'user8 user8', 'nonce': '28702e265fedbe31f06bbe25b4cfd07e', 'oid': '8b1173c8-9524-4279-adc5-f271c1178439', 'preferred_username': 'user8user8@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAShOAA.', 'sid': '004d1679-3a4f-afb1-2dbf-8dd634d20d56', 'sub': 'S9gO519QHFSCN2E0IvZCryYSApqxGVc8-yyBk7gEpys', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'vE3EnjdgdUytbb5PksTHAA', 'ver': '2.0'}}
[2025-05-05 15:49:32,956] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459872, 'nbf': 1746459872, 'exp': 1746463772, 'name': 'user8 user8', 'nonce': '28702e265fedbe31f06bbe25b4cfd07e', 'oid': '8b1173c8-9524-4279-adc5-f271c1178439', 'preferred_username': 'user8user8@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAShOAA.', 'sid': '004d1679-3a4f-afb1-2dbf-8dd634d20d56', 'sub': 'S9gO519QHFSCN2E0IvZCryYSApqxGVc8-yyBk7gEpys', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'vE3EnjdgdUytbb5PksTHAA', 'ver': '2.0'}
[2025-05-05 15:49:32,956] [INFO] [app] : Sessio info usuari: user8 user8, email: user8user8@TFGPABLO.onmicrosoft.com
[2025-05-05 15:49:32,957] [DEBUG] [app] : User user8 user8 no guardat en db
[2025-05-05 15:49:32,959] [DEBUG] [app] : User user8 user8 guardat en db
[2025-05-05 15:49:32,961] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:32] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8bDxAlxprdXx1XNjZ4ptFUGCnJepZIxN60NnYGyEfOZN8MBDVTWFH86HmmEcP7yJob6LKOL7pA_KiaxNgsqlPb9jQxvMQW9ZlLzNAjrpItAkG5ZgWcl4bX57geUvAJGrl2FASChrmX25DvTlzocx89YL45mgcZCFaJxj4bpZbJmPrcJ8mSSREbZh8UczRhQvcHxzv_D1hxFckL0ujG8az1vOAWJObOMb0ywy5Czj_l2sNlFkSGaVbiQE8I815r3-_VKQgyuuJ0tv7bX9NO-0CjCDh3gZL1gBiohJOlIJ-kS-Ll5GcQETo63TkzOuB7Ftl5sEsy8VQC7A9NT85tdtACs49v5E5EUYDVgmY1DUakAI-FXBo2qPItQls7kchCZlPA018QpyCY-n2P7OAOOiLmzwZwriUci6mZ-bV-o1IvYKrDLUC99fzLHk4SdKIAPk50L_R1eSto7uggvmAlySLP-RRTBlDWsMhujQ--cvM_Mv5YZf8Y0p7WaQHXj3QFvxfWg9BfgblEHZB5Os0fcXGaty9kKfCwNELbZKUF1io51ST7XY-vCEsA3xRax3p5px7wi5id08BALJoNVaczoKf5tXRu73eaOxrXtYsQ1Jty9UG4f3e7w0aJVKEp4fD_mKHZCsHUCgMkniMJhO5dzpDVY5OYiqYkHfqeVNtQRRFPYNgDXEC_nPzhlB0nWo9uQWeTZdbY6DNxkxIwSCbfUVKUexhTxeaSn87NwQJi8HhebJRPkYZWh26sV4Ub6h1otnzwI6vz02l1kvvT9KzW6evpvVoNkmfWX5F893ubiCZulm03c7-ho8fynjL505uPaDl9GJMPWD1xBOftYOE8GsysNmeh5NShkpeCovwTpA&state=ASDPAy5Bxq0rHFZKRqLoEnDC1sgQEH&session_state=004d1679-3a4f-afb1-2dbf-8dd634d20d56 HTTP/1.1[0m" 302 -
[2025-05-05 15:49:32,969] [INFO] [app] : Usuari autenticat {'email': 'user8user8@TFGPABLO.onmicrosoft.com', 'name': 'user8 user8'}
[2025-05-05 15:49:32,970] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:32] "GET / HTTP/1.1" 200 -
[2025-05-05 15:49:34,668] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk4NzIsIm5iZiI6MTc0NjQ1OTg3MiwiZXhwIjoxNzQ2NDYzNzcyLCJuYW1lIjoidXNlcjggdXNlcjgiLCJub25jZSI6IjI4NzAyZTI2NWZlZGJlMzFmMDZiYmUyNWI0Y2ZkMDdlIiwib2lkIjoiOGIxMTczYzgtOTUyNC00Mjc5LWFkYzUtZjI3MWMxMTc4NDM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjh1c2VyOEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNoT0FBLiIsInNpZCI6IjAwNGQxNjc5LTNhNGYtYWZiMS0yZGJmLThkZDYzNGQyMGQ1NiIsInN1YiI6IlM5Z081MTlRSEZTQ04yRTBJdlpDcnlZU0FwcXhHVmM4LXl5Qms3Z0VweXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ2RTNFbmpkZ2RVeXRiYjVQa3NUSEFBIiwidmVyIjoiMi4wIn0.QOd7-J833aexCDr31_oMVEcHZ2XfZ2o_nv0jIa5Ra_ir1DkGvM_-gWbLEISVnz3fVHf_g1Te4yTx57-VdBmgcXS_MCnjJ8wnPk5pr7IJylMEZmrwSXacgWOKSfs8amVMLdRt6zjUZsMN7K_IeIhwLi_gaPQUbd1b2AUH87PIpvKDsJl0K1Xsm5zrjTLbBUwDdTtpwbZydqrL11Ab2SG_CwVVbzO0BM4ezikcfoE0buUtB4-TYljt3GBU-2atuBWBY6vpJcHfvkwUQYKu3EzPf5jz629qYqp2d1K0GXKd3K2_uL3v7TlqfEV4sEeLVfbx23xdWZfVep02MkUWkWvP4g',)
[2025-05-05 15:49:34,668] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk4NzIsIm5iZiI6MTc0NjQ1OTg3MiwiZXhwIjoxNzQ2NDYzNzcyLCJuYW1lIjoidXNlcjggdXNlcjgiLCJub25jZSI6IjI4NzAyZTI2NWZlZGJlMzFmMDZiYmUyNWI0Y2ZkMDdlIiwib2lkIjoiOGIxMTczYzgtOTUyNC00Mjc5LWFkYzUtZjI3MWMxMTc4NDM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjh1c2VyOEBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVNoT0FBLiIsInNpZCI6IjAwNGQxNjc5LTNhNGYtYWZiMS0yZGJmLThkZDYzNGQyMGQ1NiIsInN1YiI6IlM5Z081MTlRSEZTQ04yRTBJdlpDcnlZU0FwcXhHVmM4LXl5Qms3Z0VweXMiLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJ2RTNFbmpkZ2RVeXRiYjVQa3NUSEFBIiwidmVyIjoiMi4wIn0.QOd7-J833aexCDr31_oMVEcHZ2XfZ2o_nv0jIa5Ra_ir1DkGvM_-gWbLEISVnz3fVHf_g1Te4yTx57-VdBmgcXS_MCnjJ8wnPk5pr7IJylMEZmrwSXacgWOKSfs8amVMLdRt6zjUZsMN7K_IeIhwLi_gaPQUbd1b2AUH87PIpvKDsJl0K1Xsm5zrjTLbBUwDdTtpwbZydqrL11Ab2SG_CwVVbzO0BM4ezikcfoE0buUtB4-TYljt3GBU-2atuBWBY6vpJcHfvkwUQYKu3EzPf5jz629qYqp2d1K0GXKd3K2_uL3v7TlqfEV4sEeLVfbx23xdWZfVep02MkUWkWvP4g',)
[2025-05-05 15:49:34,668] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:34] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:49:36,420] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:49:36,421] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:36] "GET /?sid=004d1679-3a4f-afb1-2dbf-8dd634d20d56 HTTP/1.1" 200 -
[2025-05-05 15:49:42,445] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:49:42,446] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:42] "GET / HTTP/1.1" 200 -
[2025-05-05 15:49:43,361] [DEBUG] [app] : Asignem nonce a la sessio actual: a9c1396ec14ebe68fb8628a337127754
[2025-05-05 15:49:43,361] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:49:43,361] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:49:43] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:50:29,019] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:50:29,392] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3752
[2025-05-05 15:50:29,395] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 4096, 'ext_expires_in': 4096, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IlViWmd0NzZOZ0l0Q1MyaGt3eUZkX2RTVl9vVFFxZERkUlg4ZnRDdVNyZUEiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5OTI5LCJuYmYiOjE3NDY0NTk5MjksImV4cCI6MTc0NjQ2NDMyNiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBYWtoRDJhcHVTOTlCNE0vN1ZuTEZVcW5PNzVGMWY4TDNBTEVFL3ppU2VmQzEvMEgrcHpSUWNqZUIvZ1lVVCtsL1hRZ2RQUVpFWTBza1kySmwrcW80ckx1bUptaVU3bVI5NnVBMDdZbEVzRGw0bENwYjIrWDFNeUhTcllsZVIrQkJEQmdnb0c2YVBKeUp0ZTdwc3drdlZuS3pJQllybUtLZVVQRkNlRld4SU5xU3M1WlZZcmUxNTRIbUxOVkJsdDFGIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI4My40My43MS41MyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDk1NDhFNDU4IiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FYaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktYWIzNC1lNTdiLTBiZWItNjk0MjUxOGUxNzZmIiwic3ViIjoidHVwNklNOEl4bkFkMlpMa1o3ZWFYd2laZjZnangxREJhR29wOVpuSXZnRSIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1c2VyOXVzZXI5QFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6IktfQmh6THlCdGtlM25HY0R0VzhPQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiSW1xcXl0eEpmZjU4VnRtRktTX0JySHhCb1BhUEdRQ013VlRNSll4SVFHZ0JjM2RsWkdWdVl5MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAyNiIsInhtc19zdCI6eyJzdWIiOiJiV1hEZVFFSEMwVkk1cDNpUlQtSFRJR245UTVJR3czbHdHeTd0Nk1Ycl93In0sInhtc190Y2R0IjoxNzQ0Mjc5Mzk0LCJ4bXNfdGRiciI6IkVVIn0.DrBo_CIYVdm63vVVH6WPbxwTol97oonq6GmHbzBo4hcgDNeB13IIXBTYzxWIA3IS-HdmNgee1el4BhcGd7UlIq2wTkNYYpCB5qhyooLY_wnHxdnCt4fl32EhNTw5PrzRRbdIxYwRPQuhim17AX9i2gu9H_m6iVfPSv1v0a8_h_w8JNaWk09UfUdCNx6Yiz12BdjvAJ34AW1ZUQOhXv3g4Yf0F8U2Znea6VEXtac7XWyla-b2P7olSObytPiZZfRYquphGighvZvP2e4zuOCDvmJO_GvrkJRJ3M7PQvq7kv52iJr_oqVZnHguLeddQpUiGdVydL0e5FSwM8rJ2sKymQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5MjksIm5iZiI6MTc0NjQ1OTkyOSwiZXhwIjoxNzQ2NDYzODI5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImE5YzEzOTZlYzE0ZWJlNjhmYjg2MjhhMzM3MTI3NzU0Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWFiMzQtZTU3Yi0wYmViLTY5NDI1MThlMTc2ZiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJLX0Joekx5QnRrZTNuR2NEdFc4T0FBIiwidmVyIjoiMi4wIn0.HUuOz3MGW9QVDfDRYvHbNKpT8nJQKIh1eITpl658dGofaMTls3TTe-sRB57YdwCjl7nYkc96D9-SZEiBcRHkR6xriMFUwWypHssn-yq4NSEQxpMMeFi_9y3TmexmLQfDVZbbFTVsmIwB_faTE5VN41Ack63JI4XcG3yuC2F8i4qWGkaAqy7TF4Gi4AImkyINICHC0i_qtUCXL7jWwFzHFffs_0rI6XeRxnZhXm-IpsvGRuGVgG5rYoVNObI1vPrECgDO20SC-D-nZIlDEugMFk4payzB4NC3H-wHYnRHbM5iMHrtnhAALm9rEfr7JGBBtGia7SwM4byh4YaL6DHrWw', 'expires_at': 1746464325, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459929, 'nbf': 1746459929, 'exp': 1746463829, 'name': 'user9 user9', 'nonce': 'a9c1396ec14ebe68fb8628a337127754', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004d1679-ab34-e57b-0beb-6942518e176f', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'K_BhzLyBtke3nGcDtW8OAA', 'ver': '2.0'}}
[2025-05-05 15:50:29,395] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459929, 'nbf': 1746459929, 'exp': 1746463829, 'name': 'user9 user9', 'nonce': 'a9c1396ec14ebe68fb8628a337127754', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004d1679-ab34-e57b-0beb-6942518e176f', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'K_BhzLyBtke3nGcDtW8OAA', 'ver': '2.0'}
[2025-05-05 15:50:29,395] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-05 15:50:29,396] [DEBUG] [app] : User user9 user9 no guardat en db
[2025-05-05 15:50:29,398] [DEBUG] [app] : User user9 user9 guardat en db
[2025-05-05 15:50:29,399] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:29] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_bLRi9O-VvhetZiNiFhuXWdkB9RvK7O0h2L2NdSIC5xcCpieyjuhmbjQ66Nxr4VJY6o0kdqmNROX1tg2aDnYKH_Q4MXDcu2KCkr3hKZRtWs9-FYj6tiF6l0vr1XM2V9l1aYhuOxzUGIw0E1Kejhoiy5eHwXlij3dcOUdSMCtxuKDd1kbjYhGHcS_rC_lrKHForIuDx6j2qS3IDjBYTm-Rg8oRyt7ARWLZfMByrjK8LP8ImGiyWfHtm3qg-9ClijMGGD4T6yTjaB6uRuwcyFiDi_GzHNi3mZZVoWeRBh4pYiLC5MH6LLvWAv11oV7Ahku55S9PPBykJPfbkecgfLuJ0rr1vOoT6DxqdIfmoK8vTXBkrql_gPjxmhe3xHIq5b4TelM91BPHXTdMS86O5RvLZ6I67854ussHSYfoeh1aymU45_SfsyjgunRlEjM4VmxiDs-LDir6KCaNxvUY8PONSAiJR-qig4x2fmlulJubnXEdfEOadT5SZQVi7L1lebDNpDm3Mqt4XdEx8KrmLXfyKruRdfrSnors6gCaDCS7dVp9vaK5hcJurhR_PLLG4ld3ShFmk-LsfYD7xwP_rem0cHZmIiCqPTA7mizaviZwyfAzmWpRsG3nQ-VmMx8RRkYHebvUKbySLNlQRFQwXEICLRuuzkB0kzG_NMELFU2iaOL_eQUQ2onYfsR918EefrUwY6LOfMdzcilm58PsDmc_Lr--XCuf2cjkJO20sioVC2uiFRffbQ6Z3FY3hPtswnb2BqdY-3saP3872RyDkiTRKwz7pP6_mH2dYd_zkDn632xbnbMKO9e-Ecx-eE9yKN0FrBX6piZHC-5iHb-Ws0keVdrKSMlFhKmZI1tZ9kUksQkXbxQ&state=VuL4Rchb9M1mmG35U4czlHhUC2PQxj&session_state=004d1679-ab34-e57b-0beb-6942518e176f HTTP/1.1[0m" 302 -
[2025-05-05 15:50:29,406] [INFO] [app] : Usuari autenticat {'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-05 15:50:29,407] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:29] "GET / HTTP/1.1" 200 -
[2025-05-05 15:50:30,596] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5MjksIm5iZiI6MTc0NjQ1OTkyOSwiZXhwIjoxNzQ2NDYzODI5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImE5YzEzOTZlYzE0ZWJlNjhmYjg2MjhhMzM3MTI3NzU0Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWFiMzQtZTU3Yi0wYmViLTY5NDI1MThlMTc2ZiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJLX0Joekx5QnRrZTNuR2NEdFc4T0FBIiwidmVyIjoiMi4wIn0.HUuOz3MGW9QVDfDRYvHbNKpT8nJQKIh1eITpl658dGofaMTls3TTe-sRB57YdwCjl7nYkc96D9-SZEiBcRHkR6xriMFUwWypHssn-yq4NSEQxpMMeFi_9y3TmexmLQfDVZbbFTVsmIwB_faTE5VN41Ack63JI4XcG3yuC2F8i4qWGkaAqy7TF4Gi4AImkyINICHC0i_qtUCXL7jWwFzHFffs_0rI6XeRxnZhXm-IpsvGRuGVgG5rYoVNObI1vPrECgDO20SC-D-nZIlDEugMFk4payzB4NC3H-wHYnRHbM5iMHrtnhAALm9rEfr7JGBBtGia7SwM4byh4YaL6DHrWw',)
[2025-05-05 15:50:30,596] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5MjksIm5iZiI6MTc0NjQ1OTkyOSwiZXhwIjoxNzQ2NDYzODI5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImE5YzEzOTZlYzE0ZWJlNjhmYjg2MjhhMzM3MTI3NzU0Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWFiMzQtZTU3Yi0wYmViLTY5NDI1MThlMTc2ZiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJLX0Joekx5QnRrZTNuR2NEdFc4T0FBIiwidmVyIjoiMi4wIn0.HUuOz3MGW9QVDfDRYvHbNKpT8nJQKIh1eITpl658dGofaMTls3TTe-sRB57YdwCjl7nYkc96D9-SZEiBcRHkR6xriMFUwWypHssn-yq4NSEQxpMMeFi_9y3TmexmLQfDVZbbFTVsmIwB_faTE5VN41Ack63JI4XcG3yuC2F8i4qWGkaAqy7TF4Gi4AImkyINICHC0i_qtUCXL7jWwFzHFffs_0rI6XeRxnZhXm-IpsvGRuGVgG5rYoVNObI1vPrECgDO20SC-D-nZIlDEugMFk4payzB4NC3H-wHYnRHbM5iMHrtnhAALm9rEfr7JGBBtGia7SwM4byh4YaL6DHrWw',)
[2025-05-05 15:50:30,597] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:30] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:50:32,066] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:50:32,067] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:32] "GET /?sid=004d1679-ab34-e57b-0beb-6942518e176f HTTP/1.1" 200 -
[2025-05-05 15:50:38,114] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:50:38,114] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:38] "GET / HTTP/1.1" 200 -
[2025-05-05 15:50:53,515] [DEBUG] [app] : Asignem nonce a la sessio actual: 2e881e7eee6670c8c2a6472881204b3c
[2025-05-05 15:50:53,516] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:50:53,516] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:50:53] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:51:13,536] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:51:14,045] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3982
[2025-05-05 15:51:14,046] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 5277, 'ext_expires_in': 5277, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6IlJKc1lHTTBPaUpjUWZiN2YyR0hxb0hneVd2cExMbUNYODRkcGp3X3BjbmsiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDU5OTczLCJuYmYiOjE3NDY0NTk5NzMsImV4cCI6MTc0NjQ2NTU1MSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBUGZrVENzT284QnJrTUEyNGpLTENKTzRXTzhJa3dBZkpzdXhBZDNTbDVQZzgwMENIOFR4eXU5Z3JveFB2dTZrbG43SFN6eEZrSkdZWG40MFFISDJIN2Zha3ZyV0NweER0WHBBOE9GeFBLQ3hEU3NTamNDSEFMSDlWVVY4ZXV3K0owTWtGaFByNzhQSjgwTDVES1pWWlo3SktwZ2YrRmlhdys0RkFEdVVLcVZmL0JwRktGQUU5ME1pTFVJQVZPdEtVIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktOTVjYS1kMGU3LWI0MjAtODhhNDU2OGU5YmRjIiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoieWt6WUNvX0JkVWFnOGtMdHdmUVhBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiI1SU9tcEVOUVgyYzJFSVd3bFE2Y0QtQ3NFR1pqSTR6a1hxN1ZQTnAwNVdrQlpYVnliM0JsYm05eWRHZ3RaSE50Y3ciLCJ4bXNfaWRyZWwiOiIxIDI2IiwieG1zX3N0Ijp7InN1YiI6ImpyT1NBNjdOeTMwUkRZWlpYSklUQl9fUmpUNE95Nl9DNlVlNlZtV1I2VUUifSwieG1zX3RjZHQiOjE3NDQyNzkzOTQsInhtc190ZGJyIjoiRVUifQ.K4ZsO63Q0QFTL8vJjUpqKAq8myDafwjlB8ZdDDbGi20oRZfTx0Zih7OB-D7QREK7DfDqytchCkPpZYqC5novc8kn6pOu3DaAD0aBfJfWA9wt29QKtqdJcwySZrJ5Pck6sltH6XdKfdWQfE98SV0ExNL_FYosXjYqWCwePNsxM_vNhp02iwoaEavuJJudaxpY-JD_FZJOT11v-BPgoHPUO9UOotnB2jPx-zPUzDVny-sVSYa0cBdmkvg1rJ-i57xGxHpO6LBdAbFQ4kwTdV6Cg94SubBlAnOXjyIzyz5QMWCai1BJMlMESqmK1V_BjDvxwY6rTnfgPv3G-47r6Out3g', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5NzMsIm5iZiI6MTc0NjQ1OTk3MywiZXhwIjoxNzQ2NDYzODczLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyZTg4MWU3ZWVlNjY3MGM4YzJhNjQ3Mjg4MTIwNGIzYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOTVjYS1kMGU3LWI0MjAtODhhNDU2OGU5YmRjIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6InlrellDb19CZFVhZzhrTHR3ZlFYQUEiLCJ2ZXIiOiIyLjAifQ.GYLu0C-ZZtILeZxSYKrKhEJWeka0wo5OmGuN3_v6kNJlNOf7G76bV2VsGMsLD7VnsA_auQ8RQa4_FODEpUXjvgSKIBzZ8DEAKlQf55OpeQ8Qho2q4VFuWInLON3KGKbr6TyhIugYCRfvTkLUXBGiqA8JdsodSV65eXrsL8t4ajhXcqSV4f_-_vj9Qd8ROM25FsOwdKj_CwW_LuS0HWaqo1ICIAV1Ws9xSdE-dLZ9GYWMT6LD55kVrV3EOuoCQf_g0otFvnmEuUnqAPjWNAMdiAQ8AVllEP-wy_W1vUhdVg9mawWsPemjgNTNUBvnmDQhqmbiP_NGTaDB01al5SfJeA', 'expires_at': 1746465551, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459973, 'nbf': 1746459973, 'exp': 1746463873, 'name': 'Pablo Franco', 'nonce': '2e881e7eee6670c8c2a6472881204b3c', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-95ca-d0e7-b420-88a4568e9bdc', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'ykzYCo_BdUag8kLtwfQXAA', 'ver': '2.0'}}
[2025-05-05 15:51:14,047] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746459973, 'nbf': 1746459973, 'exp': 1746463873, 'name': 'Pablo Franco', 'nonce': '2e881e7eee6670c8c2a6472881204b3c', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-95ca-d0e7-b420-88a4568e9bdc', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'ykzYCo_BdUag8kLtwfQXAA', 'ver': '2.0'}
[2025-05-05 15:51:14,047] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:51:14,048] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:51:14,048] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:51:14] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8582vUJWydqEn0k-205e35_HAGqWO88gvpjX7300gK8LzsaLYwjdfJY0jo_XDuNxGARhHvXJsXf-eA47Wewys6MCuh_mpYPZu8RjxVCNlU-UeJ2MqpWkI8TaXjNInakxDZgxJx0kpHwnTgui_ClkF9lOxvc4acxJw59T0lmpsU92dhWtLZciCMScpnutsGQKyAzQ3rFOaD2EvEErTL1tncnLlNY4kLZ3nhtk8x0zQHaKPyA8Gs1C7JYh2BlYcs3yKVxc6RQqoToImsugKH58aA1d728MXuVWdZ0zyo0Spmz12xioj9_jSkrd1TgBFDfSEZKeKMj6KbrPdrMFMfLq8oVCS5lQIG37dpsodHIA-e09WS03oSRqThdfAFbvWNsJH45_wh3BrsRXJCgBJK6oXfknss1xeaCYnI7PGchIMx90eegH9l73UcqY-Z6kIjgjdOhTSzQrr0gs8BfCj57xBQM64m5MSvUinq_T0jNLV-Hryw0dSG1UMw2NK48W3q-v9zxD0h5qkD-tAO_UPSSOL1uG4LVxp6rufslcZ46EmkkFjpJNSK8H_1nmzM-M7RwD1Kn15zDrXTL9Fuirn0SJP85H18AUWbel2UOsqCPobBnD5N2vsonbDKUzQTKX_rVcCZK985WtNTUoZ1lnRJwHSXVjX6_klO37T8w1n7xC7WTXu1qitwAbJ5yKzb9VtdSradtScGl4UxfixcAVtsaVy2AaSox8N0-dToolnstReqE60X1gaoif3rUD5oMWMfonIsmvutfCCsOZ1lt6hRqQbU89-NFU8gegA0MqWO6czsSpYWFTQ2htCZ2RZcqqDiIB5qF1sioBlOUroB5ewisR9Djw2jqVLbVfdrIqn0whzog2jLfHQ&state=3yMZ7cu0p55UPet1updbRZFh3oPDjx&session_state=004d1679-95ca-d0e7-b420-88a4568e9bdc HTTP/1.1[0m" 302 -
[2025-05-05 15:51:14,055] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 15:51:14,055] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:51:14] "GET / HTTP/1.1" 200 -
[2025-05-05 15:51:30,460] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5NzMsIm5iZiI6MTc0NjQ1OTk3MywiZXhwIjoxNzQ2NDYzODczLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyZTg4MWU3ZWVlNjY3MGM4YzJhNjQ3Mjg4MTIwNGIzYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOTVjYS1kMGU3LWI0MjAtODhhNDU2OGU5YmRjIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6InlrellDb19CZFVhZzhrTHR3ZlFYQUEiLCJ2ZXIiOiIyLjAifQ.GYLu0C-ZZtILeZxSYKrKhEJWeka0wo5OmGuN3_v6kNJlNOf7G76bV2VsGMsLD7VnsA_auQ8RQa4_FODEpUXjvgSKIBzZ8DEAKlQf55OpeQ8Qho2q4VFuWInLON3KGKbr6TyhIugYCRfvTkLUXBGiqA8JdsodSV65eXrsL8t4ajhXcqSV4f_-_vj9Qd8ROM25FsOwdKj_CwW_LuS0HWaqo1ICIAV1Ws9xSdE-dLZ9GYWMT6LD55kVrV3EOuoCQf_g0otFvnmEuUnqAPjWNAMdiAQ8AVllEP-wy_W1vUhdVg9mawWsPemjgNTNUBvnmDQhqmbiP_NGTaDB01al5SfJeA',)
[2025-05-05 15:51:30,460] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NTk5NzMsIm5iZiI6MTc0NjQ1OTk3MywiZXhwIjoxNzQ2NDYzODczLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyZTg4MWU3ZWVlNjY3MGM4YzJhNjQ3Mjg4MTIwNGIzYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOTVjYS1kMGU3LWI0MjAtODhhNDU2OGU5YmRjIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6InlrellDb19CZFVhZzhrTHR3ZlFYQUEiLCJ2ZXIiOiIyLjAifQ.GYLu0C-ZZtILeZxSYKrKhEJWeka0wo5OmGuN3_v6kNJlNOf7G76bV2VsGMsLD7VnsA_auQ8RQa4_FODEpUXjvgSKIBzZ8DEAKlQf55OpeQ8Qho2q4VFuWInLON3KGKbr6TyhIugYCRfvTkLUXBGiqA8JdsodSV65eXrsL8t4ajhXcqSV4f_-_vj9Qd8ROM25FsOwdKj_CwW_LuS0HWaqo1ICIAV1Ws9xSdE-dLZ9GYWMT6LD55kVrV3EOuoCQf_g0otFvnmEuUnqAPjWNAMdiAQ8AVllEP-wy_W1vUhdVg9mawWsPemjgNTNUBvnmDQhqmbiP_NGTaDB01al5SfJeA',)
[2025-05-05 15:51:30,461] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:51:30] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 15:51:32,699] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:51:32,700] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:51:32] "GET /?sid=004d1679-95ca-d0e7-b420-88a4568e9bdc HTTP/1.1" 200 -
[2025-05-05 15:51:38,738] [INFO] [app] : Usuari no autenticat
[2025-05-05 15:51:38,739] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:51:38] "GET / HTTP/1.1" 200 -
[2025-05-05 15:57:13,414] [DEBUG] [app] : Asignem nonce a la sessio actual: 256c09bed0d260ae212e3e12de3fe317
[2025-05-05 15:57:13,414] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 15:57:13,414] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:57:13] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 15:57:40,176] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 15:57:40,574] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3992
[2025-05-05 15:57:40,575] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'email openid profile User.Read User.ReadWrite User.ReadWrite.All', 'expires_in': 3966, 'ext_expires_in': 3966, 'access_token': 'eyJ0eXAiOiJKV1QiLCJub25jZSI6Iml4eG5ma0xEZmhfbU9maDRDT25GMFZmV1NfNnktcnYxUWNmbWR2VzVXQk0iLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMvIiwiaWF0IjoxNzQ2NDYwMzYwLCJuYmYiOjE3NDY0NjAzNjAsImV4cCI6MTc0NjQ2NDYyNywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBN0RZRVRLa3FyUDFnaUgvSklUMTFTcWVkb3RDM2ZweHVocFZkLytjcXJSRlNlL3VQV2p6dy9qUDlvRmpObHFIY2hsQzFFbmJoaUg1RGVYb0FkQWxZWWFQdFlLdzVFcmV2a3lNRU9PZEFSOFRHaDZKb1NVZVRSTHliZVBjZUYvelVSdC9hY3dXSUhTR0szN1pxNitFSXpwSnBseXdXLzk3MVNBemtMbkVZcmQ2UEtYL1dLOEtZamY5ZE53Z2hXTUVXIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJteUFwcEZsYXNrIiwiYXBwaWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6IkZyYW5jbyIsImdpdmVuX25hbWUiOiJQYWJsbyIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgzLjQzLjcxLjUzIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwNDdGQjJCRDMyIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDR3TUFBQUFBQUFBQXdBQUFBQUFBQUFBV0FiaE9BQS4iLCJzY3AiOiJlbWFpbCBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgVXNlci5SZWFkV3JpdGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lkIjoiMDA0ZDE2NzktOGQ2NC04Y2RhLTNlNDktMTg5ZTM2MDQ5MzlkIiwic3ViIjoiaVBuRkw2ZUFuZXM1cEJGaXgwMWhkNGNDRmptUjNQUGNzVjZ0Wk1NcVgwMCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJFVSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInVuaXF1ZV9uYW1lIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXBuIjoicGFibG9mcmFuY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwidXRpIjoiVG1kQUZReVNGa0tXVU1WSEZncTZBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNThhMTNlYTMtYzYzMi00NmFlLTllZTAtOWMwZDQzY2Q3ZjNkIiwiODQyNGM2ZjAtYTE4OS00OTllLWJiZDAtMjZjMTc1M2M5NmQ0IiwiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19mdGQiOiIwalJJbUUzaDNqV1pMX21vSWJLRmZzTmJwWl90aDNCYUJIRjZKU19aRG1JQlpuSmhibU5sWXkxa2MyMXoiLCJ4bXNfaWRyZWwiOiIxIDIwIiwieG1zX3N0Ijp7InN1YiI6ImpyT1NBNjdOeTMwUkRZWlpYSklUQl9fUmpUNE95Nl9DNlVlNlZtV1I2VUUifSwieG1zX3RjZHQiOjE3NDQyNzkzOTQsInhtc190ZGJyIjoiRVUifQ.aQ82kCbAbU84tdjpE50rFdvpKY9VsMOztTZjGxyfLYjoaUvtaKEWE8QULCtQcH9ecJZ-TIMtzz7a1egAGZhfzGhsR3xPfoatZx98vJKN9GE2UZzTh1ewpK21mhhFAgZTSwT1phxYp5MsbVrpUMvIqhT7aVfVJolwpu6gli36IfO3MkNXsJ5vATrzV0-NNmPylK72yU79_C3mbZoLRBIm15pG72tZ4xlR8FOILL9ZS5QWg8UB33HAl5sEGyrmTNMJ9HU0Yu7Fe9dllPG4rZIlLLc4Z5hAR0n9iU8Mr6EVwjgmGuR-D_ZNRxhR4sDRWBPiW3QD3wO19hxGXsBlAC_pww', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjAzNjAsIm5iZiI6MTc0NjQ2MDM2MCwiZXhwIjoxNzQ2NDY0MjYwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyNTZjMDliZWQwZDI2MGFlMjEyZTNlMTJkZTNmZTMxNyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOGQ2NC04Y2RhLTNlNDktMTg5ZTM2MDQ5MzlkIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IlRtZEFGUXlTRmtLV1VNVkhGZ3E2QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Kz0OfM_s5rsU66KZFSlxEgAyNp2R4uTIDPnOMmkou9v8J5FJlvUvaEXF9ouqaMVfQStzbWrkpBNnflykSeQn5Az2lldUh4VxNRQTrDGZag9cBuAcs6zMyEbNzTVCWIftrqe93RbrWHBix3GFWqWonJ2LInADuhgImz3W819DXRuHf8SNSBRknLT7Cbh_WUHMSgrRmIQZGbDh3bk079cH6fgthCxn-kpb3rSZB45rroMijJZRTFZUHEYfZtMHO9F6JNDIDVEiqIPQWnL8KBJ0id756UReKXg5AhVyBCV14ufLAv74OT2qCZ7r_OzUdH0df-O_8qgsgHhjJaTnEpY-3A', 'expires_at': 1746464626, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460360, 'nbf': 1746460360, 'exp': 1746464260, 'name': 'Pablo Franco', 'nonce': '256c09bed0d260ae212e3e12de3fe317', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-8d64-8cda-3e49-189e3604939d', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'TmdAFQySFkKWUMVHFgq6AA', 'ver': '2.0', 'eid': '0011A'}}
[2025-05-05 15:57:40,575] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460360, 'nbf': 1746460360, 'exp': 1746464260, 'name': 'Pablo Franco', 'nonce': '256c09bed0d260ae212e3e12de3fe317', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-8d64-8cda-3e49-189e3604939d', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'TmdAFQySFkKWUMVHFgq6AA', 'ver': '2.0', 'eid': '0011A'}
[2025-05-05 15:57:40,575] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:57:40,577] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 15:57:40,579] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:57:40] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P86RhqpRZHgsRs8o-i9ougTaXt5mGjK9YuZkEpF8Za9KP9a9S1FCo0mYiwJefkwIdJvMVTMTVYWxcoAGrvhdBbm1l3eZsFDjwqQ1rfj2viyy2v7WzC6OjxQm9kFBGKeqyweitt1-dGvxPWIOytmX-20h1KOVEM6t4mVSJ7f1UPpYn_N-UU7Dlf0nI33FxTVCgFAGluXDzo8PmC-60e8laSmijdqm2xhtuQq0NgZJT543NhwWXM30sRxIea90rJQH_mETmJ1bZR0x8bO3TQX7qKUO-XnLgoQi88NY7mQzRUXxL_maOodkVL6-HOIahXL6W3m30UQPmz6VJ77S9lcANUI1pZFBcoT0hy1z0FB4Ws2KD0MTPDwFAg-8Y7o5Z3_L4yZT2OPYX-SYuVfJ2Jl5_rDhXSruztlK5MSM6udr8XzHs1Yx7K7cZd6dtfHLEclT-B4aA4Fvkv-_ZtXuEoovvLE0kUREyLgA0EdtOcPObwATsUs_5eenyMTmbd2A1z4P9X9Uos9GehBrnRyZE9Zq9a_SC-eu3yOJHNjj8VzqvgL4fGyN8xh3M8zho8qnDFLidqhkm4QcsmZA2PknX-5iZT7YeVQXMrUG2QlqOXeJnaaJGyflAorBsw1mPhWSIaWzYuRBA-h_uMEAb4sGJPZKHFU0Is1BMBgarW4Kg_Y80DPEWUsXefg1-0oYNmBne9XVcTbsLbkYR4ZjkUjhHPSNlf95KPfEVtfolMygyhuqkkO-4NwBrn4lC08vo7d1xzSwcBgQKjQBdVhcpxAqQ3n7dlKJmGsTl3dQ9wuVtJ7mYjjS86Amn1ncWU0Mn3HwL09fjZBJg6XHwXxzuNP7d4lS11xjUaPqXGvxDUeCPTW8wXqASqVYLGyVP01&state=j2kiIXtt7K73sfF9zLQqM11roaqTLg&session_state=004d1679-8d64-8cda-3e49-189e3604939d HTTP/1.1[0m" 302 -
[2025-05-05 15:57:40,585] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 15:57:40,586] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 15:57:40] "GET / HTTP/1.1" 200 -
[2025-05-05 16:01:33,856] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 16:01:33,856] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 16:01:39,378] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjAzNjAsIm5iZiI6MTc0NjQ2MDM2MCwiZXhwIjoxNzQ2NDY0MjYwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyNTZjMDliZWQwZDI2MGFlMjEyZTNlMTJkZTNmZTMxNyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOGQ2NC04Y2RhLTNlNDktMTg5ZTM2MDQ5MzlkIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IlRtZEFGUXlTRmtLV1VNVkhGZ3E2QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Kz0OfM_s5rsU66KZFSlxEgAyNp2R4uTIDPnOMmkou9v8J5FJlvUvaEXF9ouqaMVfQStzbWrkpBNnflykSeQn5Az2lldUh4VxNRQTrDGZag9cBuAcs6zMyEbNzTVCWIftrqe93RbrWHBix3GFWqWonJ2LInADuhgImz3W819DXRuHf8SNSBRknLT7Cbh_WUHMSgrRmIQZGbDh3bk079cH6fgthCxn-kpb3rSZB45rroMijJZRTFZUHEYfZtMHO9F6JNDIDVEiqIPQWnL8KBJ0id756UReKXg5AhVyBCV14ufLAv74OT2qCZ7r_OzUdH0df-O_8qgsgHhjJaTnEpY-3A',)
[2025-05-05 16:01:39,378] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjAzNjAsIm5iZiI6MTc0NjQ2MDM2MCwiZXhwIjoxNzQ2NDY0MjYwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiIyNTZjMDliZWQwZDI2MGFlMjEyZTNlMTJkZTNmZTMxNyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktOGQ2NC04Y2RhLTNlNDktMTg5ZTM2MDQ5MzlkIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IlRtZEFGUXlTRmtLV1VNVkhGZ3E2QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Kz0OfM_s5rsU66KZFSlxEgAyNp2R4uTIDPnOMmkou9v8J5FJlvUvaEXF9ouqaMVfQStzbWrkpBNnflykSeQn5Az2lldUh4VxNRQTrDGZag9cBuAcs6zMyEbNzTVCWIftrqe93RbrWHBix3GFWqWonJ2LInADuhgImz3W819DXRuHf8SNSBRknLT7Cbh_WUHMSgrRmIQZGbDh3bk079cH6fgthCxn-kpb3rSZB45rroMijJZRTFZUHEYfZtMHO9F6JNDIDVEiqIPQWnL8KBJ0id756UReKXg5AhVyBCV14ufLAv74OT2qCZ7r_OzUdH0df-O_8qgsgHhjJaTnEpY-3A',)
[2025-05-05 16:01:39,379] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:01:39] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 16:01:41,805] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:01:41,813] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:01:41] "GET /?sid=004d1679-8d64-8cda-3e49-189e3604939d HTTP/1.1" 200 -
[2025-05-05 16:01:47,832] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:01:47,832] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:01:47] "GET / HTTP/1.1" 200 -
[2025-05-05 16:01:51,918] [DEBUG] [app] : Asignem nonce a la sessio actual: f45119aff872092fa9a3ff690d64d856
[2025-05-05 16:01:51,918] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 16:01:51,919] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:01:52,156] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 16:01:52,158] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:01:52] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 16:02:03,931] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:02:04,285] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2993
[2025-05-05 16:02:04,286] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:02:04,516] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 16:02:04,520] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4495, 'ext_expires_in': 4495, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA2MjQsIm5iZiI6MTc0NjQ2MDYyNCwiZXhwIjoxNzQ2NDY1NDIwLCJhaW8iOiJBYVFBVy84WkFBQUFyN3JLYzlNOWJWWi8wL1RjM3JYYmZuUnNGczFzT2FqalcwZEdLaEVLZ2VHcFlCamgzRzJhTWhvdFBhdm9ZbXlha1E1R0w5Q0tCUnJkMlF5UG8zUDBMZFBnZVBXUk1hSFlvTHNMSGdTNGVkWHZ1YXYwV2dIbG1oNGJYNUNtd3YvTzdjUmFyN21PbERPTjloVFcxTVVBb05HdXM4anhXaFluWk0zemhxK0g3UkFIajJwTE9QQlFEV3J5TGF5eE1ienNNYXVRbnlFZis3cmxSd21Va1VzU29RPT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2NwIjoibXlBcHAtc2NvcGUiLCJzaWQiOiIwMDRkMTY3OS03MmEwLTJiZGUtNmQ4NS1mZDM2N2JiNDljYjYiLCJzdWIiOiJqck9TQTY3TnkzMFJEWVpaWEpJVEJfX1JqVDRPeTZfQzZVZTZWbVdSNlVFIiwidGlkIjoiMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzIiwidXRpIjoialVDYUlEMjhyMEd1MXNQZnVqbHVBQSIsInZlciI6IjIuMCIsImVpZCI6IjAwMTFBIn0.emjtvD8pvUlzYSYcB1diKHUwi4KpJWZcbbz_KLqVfSJRSBFWByA5Xc8TyGcK7XLgcQM7epAhWj7gC3lSoCOVxzHTeQSSvhk0Bdc6yBXmy_GUkdYHLCMKoNDaLl0j2FtSqkjE6Vvlf_bdjXe68pKZCefzuDT0vBkd_8nud0BgbHgpFDlEuBme6DCfletM1WDwMGIs_ShZ6TwwsGHWyyCcgu_hDHeZo7bvCtivcNIuZUQwVi2v8zAL5jAD0GYPzW0FsVF6seGNdvygnRIucC71sqOWTXpiyNxhCxOl7IiTbj74OyWRSHPt6_UcSXdNYPHgyaXwec21JTzIkJLCueJ9nw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA2MjQsIm5iZiI6MTc0NjQ2MDYyNCwiZXhwIjoxNzQ2NDY0NTI0LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJmNDUxMTlhZmY4NzIwOTJmYTlhM2ZmNjkwZDY0ZDg1NiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktNzJhMC0yYmRlLTZkODUtZmQzNjdiYjQ5Y2I2Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6ImpVQ2FJRDI4cjBHdTFzUGZ1amx1QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.XLfxB3krt-zGezBwgG3HOBozFZ_JzOxbgeWFuFOVCpEaAJGn0mAZZmPRtQ7SH5Y_3FryjIPpgMHVN9FgRDZjuVPjk52sR_S87jqtP5n36P6kTgFQMqJ05NTPA1hoGIQPhT-aYhShHvKIK3-5h3oXWYT9lHTsfEfg0p7kmqqSC3kDe1AXpbCkvzJsLXEYm3UPtNa41mRUpps_YbROl-o_s2cw7HcMX0xjgFb8MlLK_Hn2AqoY-ht6t6_0z5sjhCVtFCCa97vvJpl6IMIUvZaMFb63r28gs3By35Bq3cjhur0W1wAPikT1Y0ZnWAdCO0enwqNJxW9PyKvWw3H5DwYsWg', 'expires_at': 1746465419, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460624, 'nbf': 1746460624, 'exp': 1746464524, 'name': 'Pablo Franco', 'nonce': 'f45119aff872092fa9a3ff690d64d856', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-72a0-2bde-6d85-fd367bb49cb6', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'jUCaID28r0Gu1sPfujluAA', 'ver': '2.0', 'eid': '0011A'}}
[2025-05-05 16:02:04,521] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460624, 'nbf': 1746460624, 'exp': 1746464524, 'name': 'Pablo Franco', 'nonce': 'f45119aff872092fa9a3ff690d64d856', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d1679-72a0-2bde-6d85-fd367bb49cb6', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'jUCaID28r0Gu1sPfujluAA', 'ver': '2.0', 'eid': '0011A'}
[2025-05-05 16:02:04,521] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 16:02:04,537] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-05 16:02:04,538] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:02:04] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9pwyeYx1ooWUDc2-raacJvgAZwk0pR4MIHUVi78DpFy9x6vxtqnpPukDG0bRH2OAOpfkPg1kcV894K2Dg4PGG5tgwF7ER7VZTY7hcj8oc4p4a_KCssw1fl-xlOlQb3tgLQEKlj_OZ9PEOa-9SSE57tQK1Xs7RV2masNvmAwZxZgAWNhJSemELRV83X5L1Sg8p9WslePcpbjwOk0-ONHI6n2OREc5CwLbif0Eb1rjDnoJpSv1L_FpglpyiO9shw2Dp8fscyVZfxKFH-DaiOdxP-fun-xcnkbOMgufahIIQDVc2DFPaUdkxRREhWyCNAnj-XTja8SI6AkoWTE_Ghxh8lAvdIJUuDEiLarFgEe9LPOy2at6Daa5oK6ldJUgicqYzgtiFF7Q8gWnltIC3fM41TA7LKSWv8DXwJ3C-DYT41XRCD6Olm7AGDMWarSFLLSWsmDucBlamYKQxtZIA2Jmqq38ZXFADrdSsSp3bD5rmCQo4g7I4wKpDCn03h49sfwKhV1_yD_kWVqt6jMhf0K6mySUTipw6RggYX23Wcs4iA7wp5jxTkXHuRjGmc2z5Wun9vSD5MY2PKm31d3Wfo3ERYe-Esvli9mXMXcoLkPtz0LfhLQWYOO7iQZhoZQID1E-MaboU7jXXr_IqfiQ4trMHgWe7UnoE6l5lPoAOakkypIuxeT7ohkPwHGMW-ySOVfDWHZqlX3raih_V8HwkyGVIgcMNDJlRU30EZqL4WbNiaWPTiIucd3ZbdD7eCwHt1VN6tWZB_WAsD1NCLpzWWQ30KLnX2_nmQWj9iExVuDmMwgPPlQrcGZIjUL7cGblHMKHvYvQ575LB_&state=VCoIkyvVb9oI4pyBxRo9xEEKQAgV6E&session_state=004d1679-72a0-2bde-6d85-fd367bb49cb6 HTTP/1.1[0m" 302 -
[2025-05-05 16:02:04,546] [INFO] [app] : Usuari autenticat {'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-05 16:02:04,547] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:02:04] "GET / HTTP/1.1" 200 -
[2025-05-05 16:05:46,779] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-05 16:05:46,779] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-05 16:06:22,597] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA2MjQsIm5iZiI6MTc0NjQ2MDYyNCwiZXhwIjoxNzQ2NDY0NTI0LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJmNDUxMTlhZmY4NzIwOTJmYTlhM2ZmNjkwZDY0ZDg1NiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktNzJhMC0yYmRlLTZkODUtZmQzNjdiYjQ5Y2I2Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6ImpVQ2FJRDI4cjBHdTFzUGZ1amx1QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.XLfxB3krt-zGezBwgG3HOBozFZ_JzOxbgeWFuFOVCpEaAJGn0mAZZmPRtQ7SH5Y_3FryjIPpgMHVN9FgRDZjuVPjk52sR_S87jqtP5n36P6kTgFQMqJ05NTPA1hoGIQPhT-aYhShHvKIK3-5h3oXWYT9lHTsfEfg0p7kmqqSC3kDe1AXpbCkvzJsLXEYm3UPtNa41mRUpps_YbROl-o_s2cw7HcMX0xjgFb8MlLK_Hn2AqoY-ht6t6_0z5sjhCVtFCCa97vvJpl6IMIUvZaMFb63r28gs3By35Bq3cjhur0W1wAPikT1Y0ZnWAdCO0enwqNJxW9PyKvWw3H5DwYsWg',)
[2025-05-05 16:06:22,598] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA2MjQsIm5iZiI6MTc0NjQ2MDYyNCwiZXhwIjoxNzQ2NDY0NTI0LCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJmNDUxMTlhZmY4NzIwOTJmYTlhM2ZmNjkwZDY0ZDg1NiIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDE2NzktNzJhMC0yYmRlLTZkODUtZmQzNjdiYjQ5Y2I2Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6ImpVQ2FJRDI4cjBHdTFzUGZ1amx1QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.XLfxB3krt-zGezBwgG3HOBozFZ_JzOxbgeWFuFOVCpEaAJGn0mAZZmPRtQ7SH5Y_3FryjIPpgMHVN9FgRDZjuVPjk52sR_S87jqtP5n36P6kTgFQMqJ05NTPA1hoGIQPhT-aYhShHvKIK3-5h3oXWYT9lHTsfEfg0p7kmqqSC3kDe1AXpbCkvzJsLXEYm3UPtNa41mRUpps_YbROl-o_s2cw7HcMX0xjgFb8MlLK_Hn2AqoY-ht6t6_0z5sjhCVtFCCa97vvJpl6IMIUvZaMFb63r28gs3By35Bq3cjhur0W1wAPikT1Y0ZnWAdCO0enwqNJxW9PyKvWw3H5DwYsWg',)
[2025-05-05 16:06:22,598] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:22] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 16:06:39,399] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:06:39,404] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:39] "GET /?sid=004d1679-72a0-2bde-6d85-fd367bb49cb6 HTTP/1.1" 200 -
[2025-05-05 16:06:45,416] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:06:45,416] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:45] "GET / HTTP/1.1" 200 -
[2025-05-05 16:06:47,864] [DEBUG] [app] : Asignem nonce a la sessio actual: 0e33020d87ec8abcf767c003b2980270
[2025-05-05 16:06:47,864] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/getAToken
[2025-05-05 16:06:47,865] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:06:48,452] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-05 16:06:48,455] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:48] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-05 16:06:58,411] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:06:59,046] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-05 16:06:59,048] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-05 16:06:59,500] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-05 16:06:59,504] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4843, 'ext_expires_in': 4843, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA5MTgsIm5iZiI6MTc0NjQ2MDkxOCwiZXhwIjoxNzQ2NDY2MDYyLCJhaW8iOiJBWVFBZS84WkFBQUEvUkJMQk1SVWpxTGhKZWREc1RMbkwzL0R0RFVNUlptNkpYeUZrd2N0RURBTnUyOFdsQ2lKd2tsWHRaSXp3K0o1RkpWcDg3dHRFTXdEN2MzWWtEejhpSHlOckRPL2VhR1hla1NuTUFFa1VEbVFwa2hjRWE4WldqdEVSOTlYMWE4U1ZqMHovdExJN1RlbDJvY0pFOWo1RDhqZzhBcEdrRERrckZrR2wzajVRcWs9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGQxNjc5LWI3MjEtZmE0NS1kZWMxLThhMjc0NjQzZmM5YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJyTFBxQWlpd3hFQ3pOWk5zUWY4X0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.Exjivl9NvlxI3q73_1lFGceKE4Fso4Tf_MZGTrUm-JjLmG7QrLbstT6bwW9lp3Cqa37Mfn9nv-paa-VY8J_zqc8x7ivAKRH9M2CKig43Ezxq8tiYgvjAvtFwrv3j_VgYhVX0rz8HU5jFl-ZY6nWXi-E9xvElPRJnaNomB1HTzWPHud4X4bQFzd0pg7uV_un2jaupfB1XdgYppAfPFD4yGIK7d0Y6Jc9ZM9j7Fm6pyoAOzLEg69BCxtAVzKMC3NTnv3CwC2LiZ4V5aelbZi4xWz7tOZYhMr60wB6oRbSfwzlV4QjPqGDiSESu2bbCGlhx0yR3NqZ-vSJv61I1glgtaw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA5MTgsIm5iZiI6MTc0NjQ2MDkxOCwiZXhwIjoxNzQ2NDY0ODE4LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjBlMzMwMjBkODdlYzhhYmNmNzY3YzAwM2IyOTgwMjcwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWI3MjEtZmE0NS1kZWMxLThhMjc0NjQzZmM5YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJyTFBxQWlpd3hFQ3pOWk5zUWY4X0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.P6IZ5HqHqg9pHUlB6JJwZxkU2KcF8-TcuC81qCsgUYLSrtbGU2iX1yn6LDwbPNMFHHbXRKKKsrLwWk6OGu8DN2Big6sBOnZnOY732_9pZrif_SV0zpNWve3r3SNC5Fh234HjWSOWY2NPl4AoM3jpc5xbUJyeDiie8EE9yv3KDXQwInajz_NrKPD4abWPI_evRfuLegwspWorDL0z55q-v12tPGWNtGLqhFzlAAxcPLoHEggGQuOI_Pkk6E6qQUgvAcAv97NrKZIA7JtCRWzJlrsZiYz4Q6AQCFbfLBx2o9BpapRkE0DW7bLOO3wQvxXL01h8t-aSSNyrSxXnWERXKg', 'expires_at': 1746466062, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460918, 'nbf': 1746460918, 'exp': 1746464818, 'name': 'user9 user9', 'nonce': '0e33020d87ec8abcf767c003b2980270', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004d1679-b721-fa45-dec1-8a274643fc9a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'rLPqAiiwxECzNZNsQf8_AA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-05 16:06:59,504] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746460918, 'nbf': 1746460918, 'exp': 1746464818, 'name': 'user9 user9', 'nonce': '0e33020d87ec8abcf767c003b2980270', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004d1679-b721-fa45-dec1-8a274643fc9a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'rLPqAiiwxECzNZNsQf8_AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-05 16:06:59,505] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-05 16:06:59,518] [DEBUG] [app] : User user9 user9 no guardat en db
[2025-05-05 16:06:59,520] [DEBUG] [app] : User user9 user9 guardat en db
[2025-05-05 16:06:59,521] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:59] "[32mGET /getAToken?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_1SflDayspYJHYPCpCgbty_0JlUOf0yheMad3UuLfc8547GpYJ4V4uKGxyZqueVniX0fSJYjHYfWYJyVldyMip7qc-InCQE5AqUVSX5YF5QXksyI6MLJwrjfe7uzrRqRlFccTf8SWZ10SIS7pB8mK4_uocqQqett9LqBzIrW6BWGVh2lujqL65_Oe6defsGOCnGjW9E20Lq8ryEnrnQE7jp5Y-SO1g3OzjU-njL1f3g2GHgg-AWXCVC1Y-zV1XCgQ1UjrEuCCqFDURX-w5fLUYeaMfqIZPgidLKQE7KKapv8wjy7xXHCc_FYQWcTq40RjrR4FMkR51rxUSiuhPsmrWpQQ32Er_aaRO5U02TWeo_HAJ7vuGPQUWihfxL1er3qDs2NcwQTDv4P4VclorJUZVhs1Ou36dCQr1iMwvO8IotUOmeda923EWHDa_ffIsAdr8YpZCSkm-E1mX6XLrCh2NX3BJmQEhnOp7SLMWQ7itBhFReueLW24j1nS_STZH5Sqlzf1fqrBHmYMR7_urc1TlgalRcnbeGP7pX8pp98kkhwRBpkJLGQFILYivoa5pm-iPrXACFQ03Bp9u9Tf0Zb5MGpBhV6X-uUHwBADV4May8FP8k9l2zmjluuEt9MBZFjLqugKe02xrmOndcKegDRa-aLZIP_AeIcIv7Zdvpt5PZEcJdAa0DVAAlI-LiD14TFRSuf3bE8AHBC_wqJJd8mbZ5D15Hnwp921oX38WZa4qJG70nBBqHOFK2fOO5Lrkf1N84kb6gdu4Qv2W4N2Ri1MgmncEjw&state=ZQ2adI6R61jfFWRJiRWmPUzKNHc9tx&session_state=004d1679-b721-fa45-dec1-8a274643fc9a HTTP/1.1[0m" 302 -
[2025-05-05 16:06:59,528] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-05 16:06:59,529] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:06:59] "GET / HTTP/1.1" 200 -
[2025-05-05 16:07:41,646] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA5MTgsIm5iZiI6MTc0NjQ2MDkxOCwiZXhwIjoxNzQ2NDY0ODE4LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjBlMzMwMjBkODdlYzhhYmNmNzY3YzAwM2IyOTgwMjcwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWI3MjEtZmE0NS1kZWMxLThhMjc0NjQzZmM5YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJyTFBxQWlpd3hFQ3pOWk5zUWY4X0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.P6IZ5HqHqg9pHUlB6JJwZxkU2KcF8-TcuC81qCsgUYLSrtbGU2iX1yn6LDwbPNMFHHbXRKKKsrLwWk6OGu8DN2Big6sBOnZnOY732_9pZrif_SV0zpNWve3r3SNC5Fh234HjWSOWY2NPl4AoM3jpc5xbUJyeDiie8EE9yv3KDXQwInajz_NrKPD4abWPI_evRfuLegwspWorDL0z55q-v12tPGWNtGLqhFzlAAxcPLoHEggGQuOI_Pkk6E6qQUgvAcAv97NrKZIA7JtCRWzJlrsZiYz4Q6AQCFbfLBx2o9BpapRkE0DW7bLOO3wQvxXL01h8t-aSSNyrSxXnWERXKg',)
[2025-05-05 16:07:41,647] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY0NjA5MTgsIm5iZiI6MTc0NjQ2MDkxOCwiZXhwIjoxNzQ2NDY0ODE4LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjBlMzMwMjBkODdlYzhhYmNmNzY3YzAwM2IyOTgwMjcwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGQxNjc5LWI3MjEtZmE0NS1kZWMxLThhMjc0NjQzZmM5YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJyTFBxQWlpd3hFQ3pOWk5zUWY4X0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.P6IZ5HqHqg9pHUlB6JJwZxkU2KcF8-TcuC81qCsgUYLSrtbGU2iX1yn6LDwbPNMFHHbXRKKKsrLwWk6OGu8DN2Big6sBOnZnOY732_9pZrif_SV0zpNWve3r3SNC5Fh234HjWSOWY2NPl4AoM3jpc5xbUJyeDiie8EE9yv3KDXQwInajz_NrKPD4abWPI_evRfuLegwspWorDL0z55q-v12tPGWNtGLqhFzlAAxcPLoHEggGQuOI_Pkk6E6qQUgvAcAv97NrKZIA7JtCRWzJlrsZiYz4Q6AQCFbfLBx2o9BpapRkE0DW7bLOO3wQvxXL01h8t-aSSNyrSxXnWERXKg',)
[2025-05-05 16:07:41,647] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:07:41] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-05 16:07:43,166] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:07:43,167] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:07:43] "GET /?sid=004d1679-b721-fa45-dec1-8a274643fc9a HTTP/1.1" 200 -
[2025-05-05 16:07:49,200] [INFO] [app] : Usuari no autenticat
[2025-05-05 16:07:49,200] [INFO] [werkzeug] : 192.168.1.37 - - [05/May/2025 16:07:49] "GET / HTTP/1.1" 200 -
[2025-05-07 09:52:50,429] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-07 09:52:50,432] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-09 15:22:54,663] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-09 15:22:54,664] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 09:34:57,467] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 09:34:57,467] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 09:37:31,178] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:37:31,666] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:37:32,286] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:37:32,626] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:37:33,276] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:37:33,705] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:37:34,275] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:37:34,665] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:37:35,281] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:37:35,746] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:38:59,967] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:39:00,347] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 400 494
[2025-05-10 09:50:12,708] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 09:50:12,708] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 09:50:24,229] [INFO] [app] : Usuari no autenticat
[2025-05-10 09:50:24,233] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:50:24] "GET / HTTP/1.1" 200 -
[2025-05-10 09:50:24,642] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:50:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-10 09:50:38,906] [DEBUG] [app] : Asignem nonce a la sessio actual: b6d711ea3b79cf83db6f9f6cda72ac14
[2025-05-10 09:50:38,906] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 09:50:38,907] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:50:39,365] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 09:50:39,371] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:50:39] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 09:50:39,957] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:50:40,575] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2993
[2025-05-10 09:50:40,580] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:50:41,058] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-10 09:50:41,070] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3635, 'ext_expires_in': 3635, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzAzNDAsIm5iZiI6MTc0Njg3MDM0MCwiZXhwIjoxNzQ2ODc0Mjc2LCJhaW8iOiJBYVFBVy84WkFBQUFOK1RLQVIrOVdqNE1WTjZJVFFkNEhXOEliSTlLWUpQZklJbkRDNkNmTWRaMkIzM3h2V1Nobi9ybDNVQWU0K1RlOGRIQjVIWTNkZGFkcldGamZLbWFQZ1pCaldCMHBnN1pUZnBwbHYzTGErdGx4QkdTUExIOTc3OE12cHdoVERDS1dxQ1EzcW9QbC9MS1F2Q2NmN2VhSTQ1ZkxYYTVUalljTUZrOEt0TWxNcytKeFpsZmlRSTF3MFM5U0xiT3Z3WC9xZzhRTGczYnNQZm9YdkNjTUlxaDlBPT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2NwIjoibXlBcHAtc2NvcGUiLCJzaWQiOiIwMDRkNjQ5OS0zYjdjLWFjMzYtOGFiOS1hOTA3YmJiNGYxMjIiLCJzdWIiOiJqck9TQTY3TnkzMFJEWVpaWEpJVEJfX1JqVDRPeTZfQzZVZTZWbVdSNlVFIiwidGlkIjoiMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzIiwidXRpIjoiX2hXcFlrTFdGRTJVN1lLaV83NUNBQSIsInZlciI6IjIuMCIsImVpZCI6IjAwMTFBIn0.CL1D1lTA1_9Hov0g8N1YZ6xQBP5kyCs68-2jMVMrI2PKvlBUVct4aixV4RfRInQKBSIithg8gjK4uGP8Q2BY00sZDWdOz6fSQipzlCE2k0TDUxis28l_8bC6ToAHnXIsulk7XoZrg4f1lZL6UOj9rj863rZkWWRcnQj4qtvh9wO2sWabhVjpy3Vv5fGvftHshITI_k8ryecX4XRAZwzM0W9o-zYgRbFbHoeWrGBWQkF_X6G8G-mAgeHqCwjLFNwrWSzBWqfKPsYNGimNWE-Uvx056nXqP7TcM0joqOl076rpeSDTqbxRs1vhAdrriKqVt0zNSP96Rx7VhJUOM0MPyQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzAzNDAsIm5iZiI6MTc0Njg3MDM0MCwiZXhwIjoxNzQ2ODc0MjQwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiNmQ3MTFlYTNiNzljZjgzZGI2ZjlmNmNkYTcyYWMxNCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDY0OTktM2I3Yy1hYzM2LThhYjktYTkwN2JiYjRmMTIyIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Il9oV3BZa0xXRkUyVTdZS2lfNzVDQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.AlgGlKorJ6DA9tzZSgNbono9zK5VPlY5F1iOrP0nP1-XpeTiyyJFRPQaFHalbM2Pu8_hrqRU9iuNpRbgxnHrkWqx-ZlUUriQHKk-y0WWuglck-AouyvvufA-4vKooELtAXbcoOodXZK6knYrNDmq4Kj__xGeUniVqNZL6ceiRnZ_dIM52wMJZBzykrOBeT5jE57o1Dth7OG3ODB1l9d90UUj8RPhWLf5gJFG0uJBjYLVHDeRQRAOgeWrwAWtLjUtgPoSlFG6RGUwRVu7r2syNlqkCsKL4_7Nww8T74H9vXew3CArd-1lHTsJy57vb1AUKdYQq-jYX-NbjXTrTHtxpQ', 'expires_at': 1746874275, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870340, 'nbf': 1746870340, 'exp': 1746874240, 'name': 'Pablo Franco', 'nonce': 'b6d711ea3b79cf83db6f9f6cda72ac14', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d6499-3b7c-ac36-8ab9-a907bbb4f122', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '_hWpYkLWFE2U7YKi_75CAA', 'ver': '2.0', 'eid': '0011A'}}
[2025-05-10 09:50:41,071] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870340, 'nbf': 1746870340, 'exp': 1746874240, 'name': 'Pablo Franco', 'nonce': 'b6d711ea3b79cf83db6f9f6cda72ac14', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004d6499-3b7c-ac36-8ab9-a907bbb4f122', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '_hWpYkLWFE2U7YKi_75CAA', 'ver': '2.0', 'eid': '0011A'}
[2025-05-10 09:50:41,071] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com, eid: 0011A
[2025-05-10 09:50:41,139] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-10 09:50:41,140] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:50:41] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P8Nd-vRVH8gq6WZ2mC03_gDCjpaGt5Oynu0i5H5_NlMQOGOgtcLVjGOXb5MDMxuxfE5rPlQlU-65DN3SMHos_JPW6Csp_mtO8kCEDG1WzkXTcyntdFClISbdWtsOMBR08oINT13wmAoaSSMg2bxVJu2xZZd3wycOvOH-_Lr9mFzh-uT1wi4iQxqwDCUri6evwb5RUKfMnCnR1OZBub9-Kn9a9_uRlbE58LjJ5XJfAfHSzumge45OlNhICWHz6YSGDByGKKGHFCcsP2cC3H_IbEXhQTGjTIT3SdioP4mPefWlQENOcw_Vtsi-_cYnHKxqOF0BwxR_KfwNcV4yHGVHMNSkx5RxizN75pSFpljgoeqHsLPtY20A0aEjgDn67TMclFqu9jMM1IEhaWLFEaQdILwQMi35fjPr_bV_LyfcET8n3Qms5-hDZPGen0I40mtNOBalj5EV-DPZ30nrdOwbuC5k-sa9AME8B71YYCq0VqaU7RjC_f18Q391ao4hFVQbyh_2MjgaCSeMq25cjgk3c2fKkmwI2NfsTNPlj_aSf-B27isPjpX1tkmmfOXeTmwLwHsqLrO7bWIWLO7x5Eoo5mXSxEPzZEQrm5Gk2GOeU-NdXxyEow6NDsCgTyN9vXGEjrNB-cRmjq5tLfTGJEG62DIGvxK6lWfg1b-K_nzxNlz-Sfev7CEaADOeonhWGiO_leCRF39Nz-YLJk-g8Oj1u9tL1dtIKI3RFu5wDBT9I4oxoUcpKG8heLf9JUZH14z4ZmUWTYK4b9YW_bKI4KI6SQLhB2ozAGHaijuko3nejFUMHDw0cO-tvmvn1Im1ueopDY5j_x1QTreYuL0XGUo3XaB&state=BI6KN7sR9wzWrVJcdxgm2cM8akpTxW&session_state=004d6499-3b7c-ac36-8ab9-a907bbb4f122 HTTP/1.1[0m" 302 -
[2025-05-10 09:50:41,150] [INFO] [app] : Usuari autenticat {'eid': '0011A', 'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-10 09:50:41,150] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:50:41] "GET / HTTP/1.1" 200 -
[2025-05-10 09:51:41,956] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzAzNDAsIm5iZiI6MTc0Njg3MDM0MCwiZXhwIjoxNzQ2ODc0MjQwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiNmQ3MTFlYTNiNzljZjgzZGI2ZjlmNmNkYTcyYWMxNCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDY0OTktM2I3Yy1hYzM2LThhYjktYTkwN2JiYjRmMTIyIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Il9oV3BZa0xXRkUyVTdZS2lfNzVDQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.AlgGlKorJ6DA9tzZSgNbono9zK5VPlY5F1iOrP0nP1-XpeTiyyJFRPQaFHalbM2Pu8_hrqRU9iuNpRbgxnHrkWqx-ZlUUriQHKk-y0WWuglck-AouyvvufA-4vKooELtAXbcoOodXZK6knYrNDmq4Kj__xGeUniVqNZL6ceiRnZ_dIM52wMJZBzykrOBeT5jE57o1Dth7OG3ODB1l9d90UUj8RPhWLf5gJFG0uJBjYLVHDeRQRAOgeWrwAWtLjUtgPoSlFG6RGUwRVu7r2syNlqkCsKL4_7Nww8T74H9vXew3CArd-1lHTsJy57vb1AUKdYQq-jYX-NbjXTrTHtxpQ',)
[2025-05-10 09:51:41,956] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzAzNDAsIm5iZiI6MTc0Njg3MDM0MCwiZXhwIjoxNzQ2ODc0MjQwLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiNmQ3MTFlYTNiNzljZjgzZGI2ZjlmNmNkYTcyYWMxNCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZDY0OTktM2I3Yy1hYzM2LThhYjktYTkwN2JiYjRmMTIyIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Il9oV3BZa0xXRkUyVTdZS2lfNzVDQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.AlgGlKorJ6DA9tzZSgNbono9zK5VPlY5F1iOrP0nP1-XpeTiyyJFRPQaFHalbM2Pu8_hrqRU9iuNpRbgxnHrkWqx-ZlUUriQHKk-y0WWuglck-AouyvvufA-4vKooELtAXbcoOodXZK6knYrNDmq4Kj__xGeUniVqNZL6ceiRnZ_dIM52wMJZBzykrOBeT5jE57o1Dth7OG3ODB1l9d90UUj8RPhWLf5gJFG0uJBjYLVHDeRQRAOgeWrwAWtLjUtgPoSlFG6RGUwRVu7r2syNlqkCsKL4_7Nww8T74H9vXew3CArd-1lHTsJy57vb1AUKdYQq-jYX-NbjXTrTHtxpQ',)
[2025-05-10 09:51:41,957] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:51:41] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 09:51:44,630] [INFO] [app] : Usuari no autenticat
[2025-05-10 09:51:44,631] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:51:44] "GET /?sid=004d6499-3b7c-ac36-8ab9-a907bbb4f122 HTTP/1.1" 200 -
[2025-05-10 09:51:50,685] [INFO] [app] : Usuari no autenticat
[2025-05-10 09:51:50,685] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:51:50] "GET / HTTP/1.1" 200 -
[2025-05-10 09:51:51,961] [DEBUG] [app] : Asignem nonce a la sessio actual: b0047939d351c01178712272aa57da0c
[2025-05-10 09:51:51,961] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 09:51:51,961] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:51:51] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 09:52:10,855] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:52:11,263] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2993
[2025-05-10 09:52:11,265] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3679, 'ext_expires_in': 3679, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA0MzEsIm5iZiI6MTc0Njg3MDQzMSwiZXhwIjoxNzQ2ODc0NDExLCJhaW8iOiJBYVFBVy84WkFBQUFXUnp2VXJmRmJObmRNdkN3dis2bFd6YUdPelJSdTJ2K213UHNMSUh2S1hRUC85N0xCY1hzM2VqUDYvU3lZVUkvd2FyWTV0aGd0ZmFIK21WZXZuSXExU1NaMytXUW5sU3E0WXp2SVhvd3hLL2w4TlZxQ09lWFg5NDQwanQ4RFFmR0N6MG5pQWptQ3RzSDdCTVFqUk15R29JejRlUnpsNi9vNWVDQ3lkYTkvRzd3Y1BvajNTS0lMOEg4WGc3KzN6YlZ5ZDdSbm1zd3p0RXhrRGlMcjNUUjd3PT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2NwIjoibXlBcHAtc2NvcGUiLCJzaWQiOiIwMDRkZDljOS05MDQ4LTc1NjAtMjMwOS1mMzVlNWFlOTU4YTkiLCJzdWIiOiJqck9TQTY3TnkzMFJEWVpaWEpJVEJfX1JqVDRPeTZfQzZVZTZWbVdSNlVFIiwidGlkIjoiMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzIiwidXRpIjoiT3hLUjVsUjdDRXV6M0wtNDd0MDhBQSIsInZlciI6IjIuMCIsImVpZCI6IjAwMTFBIn0.KqWhKlgrkq2urxGqkn_FKxHwwWaRZTkmy8O-iYwjYaqVA57-BxEeXRqWSzVH9VVE7R1g__gmrHzRCxj2LPIHLxltseFO0FNPTcWY7QL-503MYCKL6txRfmxKuHpKpTi22RBMztTaC2KzzZAPFIMQlDB2d4ZfTRHX563IcSmfbXSBHV8RfUdtQAQrot9ifTH6-E377UkhkyLD7OgwZBbPz3A1n0XJFJJivapWfE1YK7WkH3CNahqzID1B2V9aXitgNtn5bgoWa-dsyCCmVAWQTuHqrHz8EOGvgXeiTae3in5lSjkRVq22BOdvcyJLdWb5ob77KobZTLsU5ZBJMP3Gsg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA0MzEsIm5iZiI6MTc0Njg3MDQzMSwiZXhwIjoxNzQ2ODc0MzMxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiMDA0NzkzOWQzNTFjMDExNzg3MTIyNzJhYTU3ZGEwYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktOTA0OC03NTYwLTIzMDktZjM1ZTVhZTk1OGE5Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Ik94S1I1bFI3Q0V1ejNMLTQ3dDA4QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.FRJHhruCEVf7f4nvAl3jl87V2xd7qZOhH6aegA7aMYs4r_pUX4-nAsz64Wmy-r-hxkLWckvCeYjDzsBviThFU9VnoB8a8A4W1lzFfymmCkaA_JQIETKk1jtKYx6gHwlEa-upaDfFaPfxWl4mIyycJhnteu4UVOgVdIXcrY_SAQ_E7qRH3R-CAczIsHeOF59OOsYgv9eyi43BFoopCHqICMoGmN1DGcgk96Wpl-iHT4Zn9UF8uYoh1cv9S6sAbNJ_N_q_fc2BaumsNOfA-_rV5qWLMlM0m_RXv-j2FYXkr3AFB4kaRjZ91HVJlOfIZO8Sh7PtF3tHlrbef7iQi9IUNA', 'expires_at': 1746874410, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870431, 'nbf': 1746870431, 'exp': 1746874331, 'name': 'Pablo Franco', 'nonce': 'b0047939d351c01178712272aa57da0c', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004dd9c9-9048-7560-2309-f35e5ae958a9', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'OxKR5lR7CEuz3L-47t08AA', 'ver': '2.0', 'eid': '0011A'}}
[2025-05-10 09:52:11,265] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870431, 'nbf': 1746870431, 'exp': 1746874331, 'name': 'Pablo Franco', 'nonce': 'b0047939d351c01178712272aa57da0c', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004dd9c9-9048-7560-2309-f35e5ae958a9', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'OxKR5lR7CEuz3L-47t08AA', 'ver': '2.0', 'eid': '0011A'}
[2025-05-10 09:52:11,265] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com, eid: 0011A
[2025-05-10 09:52:11,267] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-10 09:52:11,268] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:52:11] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9sFO-vMUgIgZw5Ulahv083glbQAQw7Hm0Fifp9FQ71akA9Ns9S15-NW1lE6c6wMESVqwrjDqtDOPyD1OTnQdi7uCKeK9HVFikDTJL_HSA_0_y523IRXwK2C6uoCG5gZkDao3V_XE7-gQKfdHXpLRmPh2qPWA3yRgwpt9tPcXk20Zdh9NkvM_tzGmSr42CWyntS8N2SyW1teCiKRPFA0UlbcxMFKR74698ePocIBHJygiIjXrwYybf06MFG3K8Eisfrn063MCXbaguj-kmdO28WZiYuI-4ARRDtE3s26fJC3E868_EcvIwd1BvOotvV17NUNqPeLZUUCmhbMm5seQU8TXrkybjSJLJHduPBR771s8JSrdtRuXyH9NUhyzAUz_3dSanYBAXuJQ9ZQFU9dNlE03kOVV7Rg-vFrNQqKJcq4-gx8bxX29CSkFv5aaWYucKQiwf46A1XlpMh6DIHI0P_Nk_ApHByMJIARXhGjT1V4ZCDLJYe5tkMcPTNpmW2ZJoQktLjuVPUNRYCVGPB_kQ8XCgoaCqprCvJFxTr1b0BVH4-LtTWUytpwoh22VlsOtDRPU6DT-MxCBx2dpXk7o5i1Rccxt-5JeDayxs6-N7muKmrIdbhMXZbxbfJRT7RMGjwzdBEhBx2k6Qes-wO5x8U-UbFnqFsAYxBIfjUJU6xMgM2_lH9sfuOBahdOjzBmcFPgj9jinP2buJe7SBtL97jEhQbUbTZdpBl_X_1hs-D9kq6hilkojlkzbhxORZn5jz8BncCayGNT1TMgK4fcE9p7IzWbFgBoopYh59Y7fKmLlKTj_oGq0Naw4CYiwuH7pHfDpmsJQ4tjq9avXgixsg&state=UPXDrMl4ZqB5urpAbGiXW7rwIw8wSp&session_state=004dd9c9-9048-7560-2309-f35e5ae958a9 HTTP/1.1[0m" 302 -
[2025-05-10 09:52:11,274] [INFO] [app] : Usuari autenticat {'eid': '0011A', 'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-10 09:52:11,274] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:52:11] "GET / HTTP/1.1" 200 -
[2025-05-10 09:55:27,498] [INFO] [app] : Usuari autenticat {'eid': '0011A', 'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-10 09:55:27,498] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:55:27] "GET / HTTP/1.1" 200 -
[2025-05-10 09:55:28,716] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA0MzEsIm5iZiI6MTc0Njg3MDQzMSwiZXhwIjoxNzQ2ODc0MzMxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiMDA0NzkzOWQzNTFjMDExNzg3MTIyNzJhYTU3ZGEwYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktOTA0OC03NTYwLTIzMDktZjM1ZTVhZTk1OGE5Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Ik94S1I1bFI3Q0V1ejNMLTQ3dDA4QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.FRJHhruCEVf7f4nvAl3jl87V2xd7qZOhH6aegA7aMYs4r_pUX4-nAsz64Wmy-r-hxkLWckvCeYjDzsBviThFU9VnoB8a8A4W1lzFfymmCkaA_JQIETKk1jtKYx6gHwlEa-upaDfFaPfxWl4mIyycJhnteu4UVOgVdIXcrY_SAQ_E7qRH3R-CAczIsHeOF59OOsYgv9eyi43BFoopCHqICMoGmN1DGcgk96Wpl-iHT4Zn9UF8uYoh1cv9S6sAbNJ_N_q_fc2BaumsNOfA-_rV5qWLMlM0m_RXv-j2FYXkr3AFB4kaRjZ91HVJlOfIZO8Sh7PtF3tHlrbef7iQi9IUNA',)
[2025-05-10 09:55:28,716] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA0MzEsIm5iZiI6MTc0Njg3MDQzMSwiZXhwIjoxNzQ2ODc0MzMxLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJiMDA0NzkzOWQzNTFjMDExNzg3MTIyNzJhYTU3ZGEwYyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktOTA0OC03NTYwLTIzMDktZjM1ZTVhZTk1OGE5Iiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6Ik94S1I1bFI3Q0V1ejNMLTQ3dDA4QUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.FRJHhruCEVf7f4nvAl3jl87V2xd7qZOhH6aegA7aMYs4r_pUX4-nAsz64Wmy-r-hxkLWckvCeYjDzsBviThFU9VnoB8a8A4W1lzFfymmCkaA_JQIETKk1jtKYx6gHwlEa-upaDfFaPfxWl4mIyycJhnteu4UVOgVdIXcrY_SAQ_E7qRH3R-CAczIsHeOF59OOsYgv9eyi43BFoopCHqICMoGmN1DGcgk96Wpl-iHT4Zn9UF8uYoh1cv9S6sAbNJ_N_q_fc2BaumsNOfA-_rV5qWLMlM0m_RXv-j2FYXkr3AFB4kaRjZ91HVJlOfIZO8Sh7PtF3tHlrbef7iQi9IUNA',)
[2025-05-10 09:55:28,716] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:55:28] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 09:55:36,543] [INFO] [app] : Usuari no autenticat
[2025-05-10 09:55:36,543] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:55:36] "GET /?sid=004dd9c9-9048-7560-2309-f35e5ae958a9 HTTP/1.1" 200 -
[2025-05-10 09:55:42,584] [INFO] [app] : Usuari no autenticat
[2025-05-10 09:55:42,585] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:55:42] "GET / HTTP/1.1" 200 -
[2025-05-10 09:55:45,643] [DEBUG] [app] : Asignem nonce a la sessio actual: 75b1760885cbef6b9af019a098c4bc2d
[2025-05-10 09:55:45,643] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 09:55:45,643] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:55:45] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 09:59:10,085] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 09:59:10,549] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 3039
[2025-05-10 09:59:10,552] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3834, 'ext_expires_in': 3834, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA4NTAsIm5iZiI6MTc0Njg3MDg1MCwiZXhwIjoxNzQ2ODc0OTg1LCJhaW8iOiJBYVFBVy84WkFBQUF6SFgzOEI4YUxzQjVpMG04YStkK2Rvd0JuOTVEblBHdm81MmlsL2JuQ3FLLzNibU5yUUFTZ2JMWjJQdjZscTdSWWhXQ3lrM2UxL2R4YmJrZTZuMmRjVG5ZNnpmSGU3YlViTUI0VWYrRzVDdGd0S0tBZHlzSURhZU9PT2dQd1Z3YzBHNDY1cVBONUlGaERvaWVzSFh6OEt4bTZvaFZHZlE2YTcwaTJNOEZBUDB6SGpicHhxOE1sVEFhWldYSVhVVHBINXBNWHEwV0JJT2pveEpRQ3pWY0FnPT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6IlBhYmxvIEZyYW5jbyBDYXJyYXNjbyIsIm9pZCI6ImNiOWYwNTIyLTFhMWUtNGE5ZC1hYTEzLTlhOTQwMDVlOTRkOSIsInByZWZlcnJlZF91c2VybmFtZSI6IlBhYmxvRnJhbmNvQ2FycmFzY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FlVk9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTc3MzEtOTY3ZC1hYTcwLTVjOGNkM2FhMjZkNSIsInN1YiI6Ijg0Wm5reFhrU21RNFBabWhla3Y2dUlmeEF4ZzFLTGhvZ1JUMHNidlZjYW8iLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJKN1JDSDc3RHQwVzJYUWxFczFFY0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwMEEifQ.X9HfGFEOCnNS8EfU2gqI5PTz_FqfK2GpfcM47SuaXHUyGBwtZOyUvLf8QVJO-4f75MI4wSwplW6BU3RQfFvVJEFR_i3FXApY62ywed-UMvBF4ujSZFmM6ZaZCnljiydJgKCCh4owph08RDuD9g-vVmCgxuzYH9nfuOtkqtDdopMbCf-_yQJjEbMpnUh2GbmKurhgRR0_pQswSMQeR7ZjS2p_Zcu_jJrUP8bvnC8eOZ7fv-5C0TRn8dOOUNttKmzqWTK78kPFPmjGFzpa1Fe0frbtPO6yEX4kQJYWqc2dNn9mrLFRiANV2kSxIikSA3lRvdV7pMF3zOejgTrNs94VQw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4NzA4NTAsIm5iZiI6MTc0Njg3MDg1MCwiZXhwIjoxNzQ2ODc0NzUwLCJuYW1lIjoiUGFibG8gRnJhbmNvIENhcnJhc2NvIiwibm9uY2UiOiI3NWIxNzYwODg1Y2JlZjZiOWFmMDE5YTA5OGM0YmMyZCIsIm9pZCI6ImNiOWYwNTIyLTFhMWUtNGE5ZC1hYTEzLTlhOTQwMDVlOTRkOSIsInByZWZlcnJlZF91c2VybmFtZSI6IlBhYmxvRnJhbmNvQ2FycmFzY29AVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FlVk9BQS4iLCJzaWQiOiIwMDRkZDljOS03NzMxLTk2N2QtYWE3MC01YzhjZDNhYTI2ZDUiLCJzdWIiOiI4NFpua3hYa1NtUTRQWm1oZWt2NnVJZnhBeGcxS0xob2dSVDBzYnZWY2FvIiwidGlkIjoiMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzIiwidXRpIjoiSjdSQ0g3N0R0MFcyWFFsRXMxRWNBQSIsInZlciI6IjIuMCIsImVpZCI6IjAwMDBBIn0.LI_HtRc9FI-xUXezU2IQmIMU-Ubm68dNC9V4r_3jm1SKK0jXGlS0WaV9X7XRFqSMN-kiDGm7ZuXZh_nvVP7PMCpt0wFfHru-56bdxby8vHfpKT7GOwtNxy1zftWtjwFbEO_jHO4vmAYwlczL05824xJ-6clHzF8TB39HJJbPAeSxeKDi5vjfWRbp0PQ-B0cBxUg-MQVDuvepRSqeNX9PMysG9U4gAkfX_BhpeXbLK0x0PTD7MhnBfUm_Cs4_OO7C621A8KMYahxNTrb8IZy7QqB7-dvLWyA1FyZe4_RxirbYVK6C6CX-Y5ghIBbkBTnqx536m4IOWL8d8cJObBsffg', 'expires_at': 1746874984, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870850, 'nbf': 1746870850, 'exp': 1746874750, 'name': 'Pablo Franco Carrasco', 'nonce': '75b1760885cbef6b9af019a098c4bc2d', 'oid': 'cb9f0522-1a1e-4a9d-aa13-9a94005e94d9', 'preferred_username': 'PabloFrancoCarrasco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAeVOAA.', 'sid': '004dd9c9-7731-967d-aa70-5c8cd3aa26d5', 'sub': '84ZnkxXkSmQ4PZmhekv6uIfxAxg1KLhogRT0sbvVcao', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'J7RCH77Dt0W2XQlEs1EcAA', 'ver': '2.0', 'eid': '0000A'}}
[2025-05-10 09:59:10,552] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746870850, 'nbf': 1746870850, 'exp': 1746874750, 'name': 'Pablo Franco Carrasco', 'nonce': '75b1760885cbef6b9af019a098c4bc2d', 'oid': 'cb9f0522-1a1e-4a9d-aa13-9a94005e94d9', 'preferred_username': 'PabloFrancoCarrasco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAeVOAA.', 'sid': '004dd9c9-7731-967d-aa70-5c8cd3aa26d5', 'sub': '84ZnkxXkSmQ4PZmhekv6uIfxAxg1KLhogRT0sbvVcao', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'J7RCH77Dt0W2XQlEs1EcAA', 'ver': '2.0', 'eid': '0000A'}
[2025-05-10 09:59:10,552] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: PabloFrancoCarrasco@TFGPABLO.onmicrosoft.com, eid: 0000A
[2025-05-10 09:59:10,553] [DEBUG] [app] : User Pablo Franco Carrasco no guardat en db
[2025-05-10 09:59:10,556] [DEBUG] [app] : User Pablo Franco Carrasco guardat en db
[2025-05-10 09:59:10,557] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:59:10] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-HSUUV7nzuF0bWcM5vis3x8Z2PB8ihe4B566p_XBCLgeHdTlH6q6pM2qmWizYpN_G1BRSNJ0A-gd5equl5PFnn005T76jcT0qFsQOHh6JGNYORTfYLFe94jlj7LlNm0BVb8hBkz0YHRxMT14nR8vb9b7CB96tofvki0BLobDiMU_H4pUEYNPRN9LnAKFIj_ccYj5-IFrLzqnLNVpr4IXj3zQewKD7Y6aA6hiv_22yWnyHgfWd388FMOIiSRFVIKAMDdUH38n9r24XzDxnLCYbBbIlPJxi8eUKylCYtXUpxg5fUSbqyovujLpTBF3yXb1LUSVC6QX5nganf9o_0UxXb61v_VSmSbD0a-nXZxQtRhTCvAKLGHnkoT2kqMqsAjuSD_VpaVmQG-8JgtGZ-jI8HERcwQhP9Gc7yO7ohYVj_8IKhea-vXULj1BNmPfDeorZ-LXPZAwu7J77dL6Xrsi54ojoSgy6GgW5aY-R1mmxMFX3mxTCFGeVfmPPt9a8ZLsykJxE4L8MVIWAuMrXiQWk0GSYQ-7zL0LseyTyqhu3xRhiUK8EiiAbk0DerMtAs_r3YuEropFgfcojZ95ZFOyBBUqXHSIbdNQz09nP2Xzsp29L-5_aZWb_5BOvMDXB3aib74j8R3SmZBXFe2jE2V0Rc-n_aZADt5MRNkhniX3Alz624aFUUwZ7ZW39TB7jfNXwLo2THUYVAx1bcGGqFNROwCY7uZJFK7TAU6xje1w8O7evrFPhSnHqIjO2tTyjM8Cy8h02ZP6pJU7Fp1GrlU4axaYIIJRFoZv4Ng2KqPjWo4B1cdXu8oXX9E6tS3Lt4OgJmQXg0NGd6tTHjK98wPY6gT1Hsxm60_g&state=SYg4AnVA68Vp5AGntMuJfo1N53bbUe&session_state=004dd9c9-7731-967d-aa70-5c8cd3aa26d5 HTTP/1.1[0m" 302 -
[2025-05-10 09:59:10,564] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'PabloFrancoCarrasco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco Carrasco'}
[2025-05-10 09:59:10,564] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 09:59:10] "GET / HTTP/1.1" 200 -
[2025-05-10 14:36:45,103] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 14:36:45,104] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:03:56,156] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:03:56,157] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:04:48,894] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:04:48,899] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:48] "GET / HTTP/1.1" 200 -
[2025-05-10 15:04:49,246] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-10 15:04:52,238] [DEBUG] [app] : Asignem nonce a la sessio actual: dfcb64a26b24466f9b3db0da795ff840
[2025-05-10 15:04:52,238] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:04:52,239] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:04:52,542] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 15:04:52,547] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:52] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:04:52,940] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:04:53,382] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2993
[2025-05-10 15:04:53,385] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:04:53,620] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-10 15:04:53,633] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 5254, 'ext_expires_in': 5254, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkxOTMsIm5iZiI6MTc0Njg4OTE5MywiZXhwIjoxNzQ2ODk0NzQ4LCJhaW8iOiJBYVFBVy84WkFBQUFTY1Vyb2VkMG1BU085VVB2dkY2djVSZjhqSUd6Z2J3bHQ0YVg1Y2FBMm8rK0QxRE5tNkI4T2tBbkxFRDhNaW5BbW5OeTZJSVVMdzJyc3hZT1U2dUt3NXBVRG5CM2FaZ1pkL1lTZS9zQ3VCQUEralJvcUJnSEZwL21wN0ErSWU5NTFkeWVyVThNSEptOUdmUkkvSkVrSmhKeGJpU1NROTMyZ1BmZXVpRUxrTEtqTS9aK0M2N2M0bWx1aFVuUzdTQVFNMk50QW02SEY1YnBMYitHTzJZcGt3PT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6IlBhYmxvIEZyYW5jbyIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2NwIjoibXlBcHAtc2NvcGUiLCJzaWQiOiIwMDRkZDljOS03YjRhLTY2ZjktYjc4Mi02YjJiYjNjZGRjZGIiLCJzdWIiOiJqck9TQTY3TnkzMFJEWVpaWEpJVEJfX1JqVDRPeTZfQzZVZTZWbVdSNlVFIiwidGlkIjoiMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzIiwidXRpIjoiOGVKTjdfMWpha3FKd0s3MEE0a21BQSIsInZlciI6IjIuMCIsImVpZCI6IjAwMTFBIn0.ArVBCstV4xRpcck1BMuOEMcoKeCKmqDiM2A5jczoVFWbS8Y02iEZvRaTuq4OhdssqQnVilwp9TNseIpvslhqTbJCfLxz6TBXDs8yWvsZ7EDh2mWwgdtQixoJP1N7XvVJaDLk8pjBSaI6_ouIRkFSeLjVacdZYg0nalVv2jCOEC9zIPNZPQWeYQsnAGEoys4GZ2fWgQtsFTfgAMuKLF9AuSmJtw1nQXAtALbQ2sxjhnm-2iz3mJpACXos5xhCd9V10feLeX7ryoaHxAKLVnu9okDUH9JiIXoiQ86wPFBO37i2-kvgH0dhbgRvxX9usxrSqXgG55cO0AZ8W20g-IF5sg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkxOTMsIm5iZiI6MTc0Njg4OTE5MywiZXhwIjoxNzQ2ODkzMDkzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJkZmNiNjRhMjZiMjQ0NjZmOWIzZGIwZGE3OTVmZjg0MCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktN2I0YS02NmY5LWI3ODItNmIyYmIzY2RkY2RiIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IjhlSk43XzFqYWtxSndLNzBBNGttQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Mnxs74WfDqGHputDwiux4d34IJbVrr7ARx9lk_dcD3VVWsO49EB7qrvf_1OzeIAflFi0Xrezq3vQu_lcifbEZAdW61YkbQxTQSrxod5FvbFAEWAkyJNKrdQkhv6Q-CTPC97X5pZA_Y4eny4O2mIsPXyYsbmJhEKEoFxSqfwuXR0GhCmXZPOMAMHeoJev9SF3xPC3XHZG5mVOOFmqtShXauwPl2b08jDqrGRlfZ06Gr_0Lpo7ZqZSyQFXsEAgGyOOr9vItk6wkQWZhqOJ_-Tts98ydsysoBMh5u2hiWCBqX_v8WP8EALeCF45lvvxDWagaLQ48LoNrGKuvvEMAWy2Jg', 'expires_at': 1746894747, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889193, 'nbf': 1746889193, 'exp': 1746893093, 'name': 'Pablo Franco', 'nonce': 'dfcb64a26b24466f9b3db0da795ff840', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004dd9c9-7b4a-66f9-b782-6b2bb3cddcdb', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '8eJN7_1jakqJwK70A4kmAA', 'ver': '2.0', 'eid': '0011A'}}
[2025-05-10 15:04:53,634] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889193, 'nbf': 1746889193, 'exp': 1746893093, 'name': 'Pablo Franco', 'nonce': 'dfcb64a26b24466f9b3db0da795ff840', 'oid': '8bfad921-68e6-4d7a-8ffa-9adb6bab57df', 'preferred_username': 'pablofranco@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.', 'sid': '004dd9c9-7b4a-66f9-b782-6b2bb3cddcdb', 'sub': 'jrOSA67Ny30RDYZZXJITB__RjT4Oy6_C6Ue6VmWR6UE', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '8eJN7_1jakqJwK70A4kmAA', 'ver': '2.0', 'eid': '0011A'}
[2025-05-10 15:04:53,634] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablofranco@TFGPABLO.onmicrosoft.com, eid: 0011A
[2025-05-10 15:04:53,669] [DEBUG] [app] : User trobat in db: pablofranco@TFGPABLO.onmicrosoft.com
[2025-05-10 15:04:53,670] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:53] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-ztsbP0ZBejHPlw4u_W9HpRqmdHeCgbk1U9whJzh14C0vHdotVfP4ffDlDO5O_1arqRgLdOZRPf0jvm0WW6kx-OI41KOWAb3O392hA8f2_SEMMb1i5eAODO3nVVCIlAiqC826EuUTQ9Iofu6l4hJcoRwY_DnRbgklLwGQvZQHio7m6U24UxljL8sfHWowwdCu66Jbw9BUvu0hFDNWOx0heNqmqjbN8pI3W5M6SMeyjYc88BWvJCf72XcYGssTjFViRcoRZa-mPAKoPfqlYU6Zd6oWOUFamF9lSFrun77gfxqRRWxgeMtdn0MMMMcC_khEaqbhg7Yy-xY7VVbbUT6v1qOuynWK8Gt1zpWDA5pmIzDadifQTZhtRBKYyEgaLTGDvLtSjpQRk5TJ4rMPOfeNa8hp-uhXdQXi9UPltWEoudSx4zuE0xC_YJTe5g5lwEBQSahNoJqFlULHSEW2PwOj9tApuC29hJcEHh3rtsYIO2-XaVPh-8gMNYPOD8XGbOJVrieVH2GFa3ZXJSDd1QT9whaRY0mEIuYg8ptQPd43MD8WxoQOTbGad9-uEex8fVvygOJJSibQPZ9_Q_hTx8qI3m-9xyTXThPzKH7_75a3GKrDdPBls-EPV67QTcrqNGBJOLWv-4PiDOy1ogGQNW8fX45v-DyUgIzxpjkzcw8o_fvlZYTVz1hCshAaEB6f5Bu4h6O3oXAnPqUQGrY8p_Oj332B1o-a6gNasbW7BJccGJV60IGCzmuzm7qhl5EEBTe8hEeIWM2rbohhxOC6P0rbnvZm0Q90jqB_uKxNnqv9mjE9xCd4cQTFYzMhlWzC0dMntO_gT_0OEWQq7EWVpwzdx&state=F7QDh6D3JVoHtjmLNrgoDECbLrwi7x&session_state=004dd9c9-7b4a-66f9-b782-6b2bb3cddcdb HTTP/1.1[0m" 302 -
[2025-05-10 15:04:53,676] [INFO] [app] : Usuari autenticat {'eid': '0011A', 'email': 'pablofranco@TFGPABLO.onmicrosoft.com', 'name': 'Pablo Franco'}
[2025-05-10 15:04:53,676] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:53] "GET / HTTP/1.1" 200 -
[2025-05-10 15:04:56,909] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkxOTMsIm5iZiI6MTc0Njg4OTE5MywiZXhwIjoxNzQ2ODkzMDkzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJkZmNiNjRhMjZiMjQ0NjZmOWIzZGIwZGE3OTVmZjg0MCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktN2I0YS02NmY5LWI3ODItNmIyYmIzY2RkY2RiIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IjhlSk43XzFqYWtxSndLNzBBNGttQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Mnxs74WfDqGHputDwiux4d34IJbVrr7ARx9lk_dcD3VVWsO49EB7qrvf_1OzeIAflFi0Xrezq3vQu_lcifbEZAdW61YkbQxTQSrxod5FvbFAEWAkyJNKrdQkhv6Q-CTPC97X5pZA_Y4eny4O2mIsPXyYsbmJhEKEoFxSqfwuXR0GhCmXZPOMAMHeoJev9SF3xPC3XHZG5mVOOFmqtShXauwPl2b08jDqrGRlfZ06Gr_0Lpo7ZqZSyQFXsEAgGyOOr9vItk6wkQWZhqOJ_-Tts98ydsysoBMh5u2hiWCBqX_v8WP8EALeCF45lvvxDWagaLQ48LoNrGKuvvEMAWy2Jg',)
[2025-05-10 15:04:56,909] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkxOTMsIm5iZiI6MTc0Njg4OTE5MywiZXhwIjoxNzQ2ODkzMDkzLCJuYW1lIjoiUGFibG8gRnJhbmNvIiwibm9uY2UiOiJkZmNiNjRhMjZiMjQ0NjZmOWIzZGIwZGE3OTVmZjg0MCIsIm9pZCI6IjhiZmFkOTIxLTY4ZTYtNGQ3YS04ZmZhLTlhZGI2YmFiNTdkZiIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvZnJhbmNvQFRGR1BBQkxPLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMS5BVTRBLWtnZUh1c29ERTJqZUFmd25MMXg0M1Z3czFGYWt1eEJ2Mlp4S19PckxDc1dBYmhPQUEuIiwic2lkIjoiMDA0ZGQ5YzktN2I0YS02NmY5LWI3ODItNmIyYmIzY2RkY2RiIiwic3ViIjoianJPU0E2N055MzBSRFlaWlhKSVRCX19SalQ0T3k2X0M2VWU2Vm1XUjZVRSIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IjhlSk43XzFqYWtxSndLNzBBNGttQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDExQSJ9.Mnxs74WfDqGHputDwiux4d34IJbVrr7ARx9lk_dcD3VVWsO49EB7qrvf_1OzeIAflFi0Xrezq3vQu_lcifbEZAdW61YkbQxTQSrxod5FvbFAEWAkyJNKrdQkhv6Q-CTPC97X5pZA_Y4eny4O2mIsPXyYsbmJhEKEoFxSqfwuXR0GhCmXZPOMAMHeoJev9SF3xPC3XHZG5mVOOFmqtShXauwPl2b08jDqrGRlfZ06Gr_0Lpo7ZqZSyQFXsEAgGyOOr9vItk6wkQWZhqOJ_-Tts98ydsysoBMh5u2hiWCBqX_v8WP8EALeCF45lvvxDWagaLQ48LoNrGKuvvEMAWy2Jg',)
[2025-05-10 15:04:56,910] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:04:58,895] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:04:58,896] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:04:58] "GET /?sid=004dd9c9-7b4a-66f9-b782-6b2bb3cddcdb HTTP/1.1" 200 -
[2025-05-10 15:05:04,931] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:05:04,931] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:04] "GET / HTTP/1.1" 200 -
[2025-05-10 15:05:07,280] [DEBUG] [app] : Asignem nonce a la sessio actual: 13cc710946eefa3a3ed1bf4f6c5834db
[2025-05-10 15:05:07,280] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:05:07,281] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:07] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:05:15,598] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:05:15,941] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:05:15,942] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 5159, 'ext_expires_in': 5159, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyMTUsIm5iZiI6MTc0Njg4OTIxNSwiZXhwIjoxNzQ2ODk0Njc1LCJhaW8iOiJBWVFBZS84WkFBQUFpMVZVdFZkSU56VmZHNEFLSEZKdFdLUEZCbm5YU25pdjhHL0dsSnRxY3IrNk9paUpjay9LSWdBUnFibW5lOGwwR2lxRzJHcHBmOWpOTzJlUEY4WUQ1NFJKRHc3RUQweXV4T2FIMHlwV2E5R1hIR3BPNWJKNHZkaHJCK0xobll3ZUtlRzlvelBNaEhtUFhJa3RwR2dYZUFMQjNjcGgxQjg0eUgzRENiUzRxVEU9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTRkOWQtN2I0ZC04MWJkLTUwYzhhNjlkZmI1MSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkZ1lSZjZrQ3hFdXF3M25QUkxSSkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.XNgYCjjTPOsImDZ6IcLov3JpAMC7trBmQ6bRzmI1O7HCNY1k3hSAQByvpPO1dDWC2m8ZdLKPDqZWwOKFh7p5x-Tqsf7_yRiWyHsWLzoboYSsgNUAKV0aJHlUplb_0RHY3M9rpXc78L3AY-OPO9FR1_67_Z9ky7orOHmi21ErMQIqUBbqlPDqVa--PK6MDsx_0EY9FcWOrLlwJb9VhCg-2B-IWyaSWggjsevSiBZpFH3jbx7sXa3rRZpc27vbVj-Me7jkOUqTfqr_hMFS5Z8Th2ToqIHpaWiORPdzzA0MXx2asZZ0ww8GA2wHcjvaovmObTXoOZ_l4uYMCgS0Bof-Zw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyMTUsIm5iZiI6MTc0Njg4OTIxNSwiZXhwIjoxNzQ2ODkzMTE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjEzY2M3MTA5NDZlZWZhM2EzZWQxYmY0ZjZjNTgzNGRiIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTRkOWQtN2I0ZC04MWJkLTUwYzhhNjlkZmI1MSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkZ1lSZjZrQ3hFdXF3M25QUkxSSkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.WM-6R4_h8xk8J6wy2rX9vNxGWZtnbIGhkTsBwSZ5Z1bWeZA8aVlVvegsNRz4q94DaY4xaH4APyg6O83wO6i-zc9FImcRknANgbeMF0uWx-NZUEubSo0oWVbVQUQ-r-W08TjLPv3ZeCLiuGf96nfnpWR9V59rilU5m5NAqyAO62sOGg1mv9hvAKNv99KooQPsjoJXwqVhN8ltqNWyBfaVUFVzACl7jkEIHAZTBYTUH8eNU1a_h_L_R5YjsfbvtCSzi_M2eV8AgM3anui_pKO2ldEzpTXlstTpmiV48vU5nIyQFD3ogDs1ET221G6t59vYqq8uBpFTA9jmyBSMOhKrEA', 'expires_at': 1746894674, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889215, 'nbf': 1746889215, 'exp': 1746893115, 'name': 'user9 user9', 'nonce': '13cc710946eefa3a3ed1bf4f6c5834db', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-4d9d-7b4d-81bd-50c8a69dfb51', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dgYRf6kCxEuqw3nPRLRJAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:05:15,942] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889215, 'nbf': 1746889215, 'exp': 1746893115, 'name': 'user9 user9', 'nonce': '13cc710946eefa3a3ed1bf4f6c5834db', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-4d9d-7b4d-81bd-50c8a69dfb51', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dgYRf6kCxEuqw3nPRLRJAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:05:15,942] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:05:15,944] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:05:15,945] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:15] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_Vi1Lemplv75ZEyTRi0YW38zBls0D6ag48ZuwyWQai41s8GZhAE_aqNpCOSy6fKkYd11HGoF-tEj0X0Aj2_oe0C5yCQlrswY9PtyFKyY1tiA7eyzX5DgvOY3OPFHpvzw1KRXAgqbEwIzdF77xo_YfsUKNbXEAEPBbYlY99s7O522-PDKhNlL1pxMCSTqUXYXPVT26hsaCihW9bCMgjJPSS4MUCb0EnmOiPZgnq0yhRrrt-_uPbbDydTdGgxgQILkj37tcpHxHNLW9HJKQ6rfRbObABhsMUMkz4BGMjKvm3LDuM0QNjk1eoy9HnDNSrCoHF3NjsiZ71m9kDrbsLrWaM1oHMgEqQDlIGgvSFDULf1hojHuDf0DhIuk0WGQAd2hin4fguCjlOF_AkcPoshr37Wz-RGC9QQqRwf9nSEyyXM-PeBCZOPicKXGFnYEV4xecG3BKBfwHpFoPnfO-PMQCRufm9PpmTdGbPfwA0ejORkn3pMIJy8EuZc5DQeUgXTaZOU6IFrvOeyeMbJJFqNDFtfAnX8LrU0WlbzQ12_xXEJEhz7X0YgF0nKbu0_XkoUEkuiSfM-WUe4-KyeroXUlsad3DvHCZLNxXNTM1COtH8wmKNZ7_xtXJVjGXIy9rKrQx5Rs3Va5ejAOnELzLr7jk1lFLyJbaTD8kxkXzSYGl-FEA0qKgo9CVBQEqTfhjxx9RtMzKxngJlESfCLe7ZHnZ33nQTAVvEmL-pNGHDUC2qBl8peqlCwdHhwAW5XI4eEWAJTIfkzM6RP1dBWS_L1UxSYXW5UMxylLUxWw&state=tIM87qNFjjwLzNE0yGvR8KNwKsaf7x&session_state=004dd9c9-4d9d-7b4d-81bd-50c8a69dfb51 HTTP/1.1[0m" 302 -
[2025-05-10 15:05:15,952] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:05:15,952] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:15] "GET / HTTP/1.1" 200 -
[2025-05-10 15:05:19,920] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:05:19,920] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:19] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:05:19,926] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyMTUsIm5iZiI6MTc0Njg4OTIxNSwiZXhwIjoxNzQ2ODkzMTE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjEzY2M3MTA5NDZlZWZhM2EzZWQxYmY0ZjZjNTgzNGRiIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTRkOWQtN2I0ZC04MWJkLTUwYzhhNjlkZmI1MSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkZ1lSZjZrQ3hFdXF3M25QUkxSSkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.WM-6R4_h8xk8J6wy2rX9vNxGWZtnbIGhkTsBwSZ5Z1bWeZA8aVlVvegsNRz4q94DaY4xaH4APyg6O83wO6i-zc9FImcRknANgbeMF0uWx-NZUEubSo0oWVbVQUQ-r-W08TjLPv3ZeCLiuGf96nfnpWR9V59rilU5m5NAqyAO62sOGg1mv9hvAKNv99KooQPsjoJXwqVhN8ltqNWyBfaVUFVzACl7jkEIHAZTBYTUH8eNU1a_h_L_R5YjsfbvtCSzi_M2eV8AgM3anui_pKO2ldEzpTXlstTpmiV48vU5nIyQFD3ogDs1ET221G6t59vYqq8uBpFTA9jmyBSMOhKrEA',)
[2025-05-10 15:05:19,926] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyMTUsIm5iZiI6MTc0Njg4OTIxNSwiZXhwIjoxNzQ2ODkzMTE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjEzY2M3MTA5NDZlZWZhM2EzZWQxYmY0ZjZjNTgzNGRiIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTRkOWQtN2I0ZC04MWJkLTUwYzhhNjlkZmI1MSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkZ1lSZjZrQ3hFdXF3M25QUkxSSkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.WM-6R4_h8xk8J6wy2rX9vNxGWZtnbIGhkTsBwSZ5Z1bWeZA8aVlVvegsNRz4q94DaY4xaH4APyg6O83wO6i-zc9FImcRknANgbeMF0uWx-NZUEubSo0oWVbVQUQ-r-W08TjLPv3ZeCLiuGf96nfnpWR9V59rilU5m5NAqyAO62sOGg1mv9hvAKNv99KooQPsjoJXwqVhN8ltqNWyBfaVUFVzACl7jkEIHAZTBYTUH8eNU1a_h_L_R5YjsfbvtCSzi_M2eV8AgM3anui_pKO2ldEzpTXlstTpmiV48vU5nIyQFD3ogDs1ET221G6t59vYqq8uBpFTA9jmyBSMOhKrEA',)
[2025-05-10 15:05:19,926] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:05:40,041] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:05:40,041] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:40] "GET /?sid=004dd9c9-4d9d-7b4d-81bd-50c8a69dfb51 HTTP/1.1" 200 -
[2025-05-10 15:05:46,037] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:05:46,037] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:46] "GET / HTTP/1.1" 200 -
[2025-05-10 15:05:47,181] [DEBUG] [app] : Asignem nonce a la sessio actual: d929d4645103b257bb05ad7eb1655a1a
[2025-05-10 15:05:47,181] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:05:47,182] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:05:47] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:05:59,993] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:06:00,340] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:06:00,342] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 5130, 'ext_expires_in': 5130, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyNjAsIm5iZiI6MTc0Njg4OTI2MCwiZXhwIjoxNzQ2ODk0NjkxLCJhaW8iOiJBWVFBZS84WkFBQUFrZ0ZHTlBoWit6aU9DNmI5R1grKzZOcFBkWTBBQnQzajE3S3RBdmtGbWNUWmMvakU5TVhnV2JXajlPUUVCZ0VNbjJaTmNjL0VtVEd4WE9mMFNqdXBERHFOOGxlRHhZakxkeG5KbDVJbi9HWk5xMFBUQmlrQkxiMlh1QmxJOEQ2cjJ6Q0JUcEtQbGdIdmdpelVhMkdWSUdRYmsveU5UeG1IejNlODluZzZ3d0U9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LWQ3MTItNzZmMy02NGYyLTU0YjU0YWJlNGY0YiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQOS0tZ1RIV0lFR05mam1LZGdRckFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.SaURCOcB-Scwy_GTWSwVDQk4hXpcJsfkX6VgRhx7VWaUB2w7VrxLk3e1HTzJ_om08b94rtu6O7FNz27pRKOAgnLOEpQL9Bh5PvvCEARYR3dzbFlqMiKQx_LfREJAUUZFgRTLLKYLFH7WACO9EFL9Zs1F_tLf53fZeE0pr81Ql0upSOtlT6cfpruidvqV4xCJbiWBJMV-I1v0al5uavnHFY-cJzJfpPedfeKK9IQtiHUhqcboGn8gYenYCj_MXxK_phPb7npjasEMw49Ym9mnHazKkw9dQH0DtZnWYdv5OirTLLeHNs2XaiZ_DLHPWxNiXYFKczQECnUrPjRr5TyVaQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyNjAsIm5iZiI6MTc0Njg4OTI2MCwiZXhwIjoxNzQ2ODkzMTYwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImQ5MjlkNDY0NTEwM2IyNTdiYjA1YWQ3ZWIxNjU1YTFhIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LWQ3MTItNzZmMy02NGYyLTU0YjU0YWJlNGY0YiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQOS0tZ1RIV0lFR05mam1LZGdRckFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.ekSsdcR5jWlwzMH7YZgtFknexIza7wrDNW6qlNi-0vujlazPLbnbFhJ0zteLBkF85sgyS7aNx4cGw57pzOMboNZkK2bNANkMMKgTi7sB07VP5fDWL55mTID17TGtzvraDAz6e5jAuBH61diXIv3aG-CnD03xe7nSb_ytd53zo1z85gh2dNsNARZ6GILuohRuC1ZXrKgVgTsjPbXjxAqNsqywMQ8cMfJkZbRw-oE3K6BcNrmOi5OtUj01BthXQAwzfEGns6ildOUHjvhPZalynaqHzdWLZDBhzELFOOlQMtBbx1oNerLN4uAd9DcAMPk34x_xTQaSO1-HhrtrW7bN7g', 'expires_at': 1746894690, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889260, 'nbf': 1746889260, 'exp': 1746893160, 'name': 'user9 user9', 'nonce': 'd929d4645103b257bb05ad7eb1655a1a', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-d712-76f3-64f2-54b54abe4f4b', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'P9--gTHWIEGNfjmKdgQrAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:06:00,343] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889260, 'nbf': 1746889260, 'exp': 1746893160, 'name': 'user9 user9', 'nonce': 'd929d4645103b257bb05ad7eb1655a1a', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-d712-76f3-64f2-54b54abe4f4b', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'P9--gTHWIEGNfjmKdgQrAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:06:00,343] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:06:00,346] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:06:00,347] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:00] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-J6yxTEUME9BhnstHG7SAn9cfXX_ysRqcH9FAhhhjZtR2qdQiPLs9Sw5yPwhRZYalSng0ckDZ8mB2ZZGjgu7PaLjHBW9WALOF2q0UcgQNPMtzhOTvfvQ7KqhXZF8pB6z4DygirqDcOO7Hay7ncrbLwkYoFKC3rRnbp4d5O1X_wuyo5vDMtomCA0Bb5xF4sgcSu287aQhMQsjKicwupAfnNVilh-ZPVmCPYbJghE5P8CTxVUC6W1b3jrm6MLbFkXMIDjF7G40zrAA3xcV1qBhSqbm0yrRLpDLG1cZUgN6dyhz9pVM19M-CL7uHzwjIS3EXjuVyw0ddMa-nt-gj8T84KK7LhCspnmka3fJX-DPgrf1UMsk7gPHGC6D6wCtW9Y6OZfYhTU7DV3TkgUYZNYis_BckMkDXjaeWje4dQ-Trm1Y3OtLtQAEmHJ7GvrOy8-t6wK627QSPIQpcFdqBmi-aFSb1SV6RedIjBhBosvZCdW4TEX-P2PmPLxeevzG3d7binW-71urmTHPvsNvm1xV10Fm4Br8Tzl1ORIrLjTKDPz9B82kjThHqqFJy0VdYALcUQj3uFefMWiUhNrejUsbJm3QaNhSru4XcSNBlHlNLeFTUgCGW8r1tDFVNbvgs_CaC73TDdZA2KccxOBakib-7lNz0of2Vl-GVboQQPmhw0_6IWhNq1wyIBqDvV3xQs4EB5kXwPtLWk5MjoTJCgQTj3KkJ-eETRPjlk-kxCBFb1TpP852KqYmz1b9jZipCd0Anqy3OXwm4izrEwaWBx20uUvP1IzxD4tg2xQgSyGg&state=H3XGvL8f3tP706f7ezB2YzHaR3Q1jt&session_state=004dd9c9-d712-76f3-64f2-54b54abe4f4b HTTP/1.1[0m" 302 -
[2025-05-10 15:06:00,353] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:06:00,353] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:00] "GET / HTTP/1.1" 200 -
[2025-05-10 15:06:04,070] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:06:04,071] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:04] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:06:04,077] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyNjAsIm5iZiI6MTc0Njg4OTI2MCwiZXhwIjoxNzQ2ODkzMTYwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImQ5MjlkNDY0NTEwM2IyNTdiYjA1YWQ3ZWIxNjU1YTFhIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LWQ3MTItNzZmMy02NGYyLTU0YjU0YWJlNGY0YiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQOS0tZ1RIV0lFR05mam1LZGdRckFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.ekSsdcR5jWlwzMH7YZgtFknexIza7wrDNW6qlNi-0vujlazPLbnbFhJ0zteLBkF85sgyS7aNx4cGw57pzOMboNZkK2bNANkMMKgTi7sB07VP5fDWL55mTID17TGtzvraDAz6e5jAuBH61diXIv3aG-CnD03xe7nSb_ytd53zo1z85gh2dNsNARZ6GILuohRuC1ZXrKgVgTsjPbXjxAqNsqywMQ8cMfJkZbRw-oE3K6BcNrmOi5OtUj01BthXQAwzfEGns6ildOUHjvhPZalynaqHzdWLZDBhzELFOOlQMtBbx1oNerLN4uAd9DcAMPk34x_xTQaSO1-HhrtrW7bN7g',)
[2025-05-10 15:06:04,077] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODkyNjAsIm5iZiI6MTc0Njg4OTI2MCwiZXhwIjoxNzQ2ODkzMTYwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImQ5MjlkNDY0NTEwM2IyNTdiYjA1YWQ3ZWIxNjU1YTFhIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LWQ3MTItNzZmMy02NGYyLTU0YjU0YWJlNGY0YiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQOS0tZ1RIV0lFR05mam1LZGdRckFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.ekSsdcR5jWlwzMH7YZgtFknexIza7wrDNW6qlNi-0vujlazPLbnbFhJ0zteLBkF85sgyS7aNx4cGw57pzOMboNZkK2bNANkMMKgTi7sB07VP5fDWL55mTID17TGtzvraDAz6e5jAuBH61diXIv3aG-CnD03xe7nSb_ytd53zo1z85gh2dNsNARZ6GILuohRuC1ZXrKgVgTsjPbXjxAqNsqywMQ8cMfJkZbRw-oE3K6BcNrmOi5OtUj01BthXQAwzfEGns6ildOUHjvhPZalynaqHzdWLZDBhzELFOOlQMtBbx1oNerLN4uAd9DcAMPk34x_xTQaSO1-HhrtrW7bN7g',)
[2025-05-10 15:06:04,077] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:04] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:06:22,913] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:06:22,913] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:22] "GET /?sid=004dd9c9-d712-76f3-64f2-54b54abe4f4b HTTP/1.1" 200 -
[2025-05-10 15:06:28,949] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:06:28,949] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:28] "GET / HTTP/1.1" 200 -
[2025-05-10 15:06:31,579] [DEBUG] [app] : Asignem nonce a la sessio actual: 564abda646650baabc6093443615faf9
[2025-05-10 15:06:31,580] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-10 15:06:31,580] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:06:32,623] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-10 15:06:32,626] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:32] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-10 15:06:33,987] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:06:35,031] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-10 15:06:35,032] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:06:36,100] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-10 15:06:36,101] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk9PUkI0UnQzYnZySm1keFpIeC1WWVM1eHZSeWJZQTVzSFNaeDRlTk5Zd1kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY4ODk1OTQsImV4cCI6MTc0Njg5MzE5NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ2ODg3ODAyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.ZAR5tx4K4J-ccb56aIV3TTCpoAo3SJvJjn0mg4n4LMjZBN-vHaCePx5mZU3mB_76SKgZq7hYW61nuiStKRcKcNimZSmfEGBF6HEAmtDsZwt3eQWzxSh05fP6YrDFhIL-ChTSqOMT2fyY2zfdYMUv3jQzB5na_ONtE3wiKxuMLozfmPiI-4jaHCIDZnMg91g7Ism9CJ5XMMXs2qSRhfZ-pb_lrsBfpObXktNJrA_FkER-R-_xuDIir6GinqiHwTqg3qohbBqdKgM9I1sMzy3qICL5j07a--sAzdYic_WB8Cde0dKp19w1OmhHEcvT5xt0gfKLdNL8yguiT-uJuxIGXA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk1OTQsImV4cCI6MTc0Njg5MzE5NCwianRpIjoiSUQuNXNFQUROUWQ5eURZLUZCTV9HaDVIeGd5VVQ4S2ZyMWIzNGVTcTh1S3gzRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU2NGFiZGE2NDY2NTBiYWFiYzYwOTM0NDM2MTVmYWY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Njg4NzgwMiwiYXRfaGFzaCI6ImVJYnhIR1lwRFpVQnlQNi1FaFlvOXciLCJlaWQiOiIwMDAwQSJ9.OaHgQCUTNuziMrcF3pqhu-FXKb72NkSJ190Pz5ypZQ7m2H-7AnTr3EeL7elPHo-fRA6egOBtNpWFkaAiYyCDgrcWsjl_suQ8SMRQCyDa9tn2gKzW4KYJMIGavXOY1KWaZTkQ0EaaTYceMGMbAGN4myUEt_xUxvtAUPyR9apXapliE36znzqf0WZdw0zDr6zIIEO29UpMoFvas8eDURQVrFHP2stakIx1-accQWhJktJZ_nWPc2BB-4dDt56mSetlubr0BMAgwmTtFL0QqkV1IZpr1ULcSn4WD2EQesks-ieCWhXVYy8HNYmDXt7C4lQ85Z3xhbdqYqVDZlsa-b9Kfw', 'expires_at': 1746893195, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746889594, 'exp': 1746893194, 'jti': 'ID.5sEADNQd9yDY-FBM_Gh5HxgyUT8Kfr1b34eSq8uKx3E', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '564abda646650baabc6093443615faf9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746887802, 'at_hash': 'eIbxHGYpDZUByP6-EhYo9w', 'eid': '0000A'}}
[2025-05-10 15:06:36,102] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746889594, 'exp': 1746893194, 'jti': 'ID.5sEADNQd9yDY-FBM_Gh5HxgyUT8Kfr1b34eSq8uKx3E', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '564abda646650baabc6093443615faf9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1746887802, 'at_hash': 'eIbxHGYpDZUByP6-EhYo9w', 'eid': '0000A'}
[2025-05-10 15:06:36,102] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-05-10 15:06:36,105] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-05-10 15:06:36,106] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:36] "[32mGET /auth/callback?code=Lan-UohLRcr0xUcMIcU6DlD9enAVKMYcq3TbTm75QV4&state=nj51tVR5ywC6ORtzSCy3vMISA5TXfO HTTP/1.1[0m" 302 -
[2025-05-10 15:06:36,117] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-05-10 15:06:36,117] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:36] "GET / HTTP/1.1" 200 -
[2025-05-10 15:06:49,619] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk1OTQsImV4cCI6MTc0Njg5MzE5NCwianRpIjoiSUQuNXNFQUROUWQ5eURZLUZCTV9HaDVIeGd5VVQ4S2ZyMWIzNGVTcTh1S3gzRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU2NGFiZGE2NDY2NTBiYWFiYzYwOTM0NDM2MTVmYWY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Njg4NzgwMiwiYXRfaGFzaCI6ImVJYnhIR1lwRFpVQnlQNi1FaFlvOXciLCJlaWQiOiIwMDAwQSJ9.OaHgQCUTNuziMrcF3pqhu-FXKb72NkSJ190Pz5ypZQ7m2H-7AnTr3EeL7elPHo-fRA6egOBtNpWFkaAiYyCDgrcWsjl_suQ8SMRQCyDa9tn2gKzW4KYJMIGavXOY1KWaZTkQ0EaaTYceMGMbAGN4myUEt_xUxvtAUPyR9apXapliE36znzqf0WZdw0zDr6zIIEO29UpMoFvas8eDURQVrFHP2stakIx1-accQWhJktJZ_nWPc2BB-4dDt56mSetlubr0BMAgwmTtFL0QqkV1IZpr1ULcSn4WD2EQesks-ieCWhXVYy8HNYmDXt7C4lQ85Z3xhbdqYqVDZlsa-b9Kfw
[2025-05-10 15:06:49,619] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk1OTQsImV4cCI6MTc0Njg5MzE5NCwianRpIjoiSUQuNXNFQUROUWQ5eURZLUZCTV9HaDVIeGd5VVQ4S2ZyMWIzNGVTcTh1S3gzRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU2NGFiZGE2NDY2NTBiYWFiYzYwOTM0NDM2MTVmYWY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Njg4NzgwMiwiYXRfaGFzaCI6ImVJYnhIR1lwRFpVQnlQNi1FaFlvOXciLCJlaWQiOiIwMDAwQSJ9.OaHgQCUTNuziMrcF3pqhu-FXKb72NkSJ190Pz5ypZQ7m2H-7AnTr3EeL7elPHo-fRA6egOBtNpWFkaAiYyCDgrcWsjl_suQ8SMRQCyDa9tn2gKzW4KYJMIGavXOY1KWaZTkQ0EaaTYceMGMbAGN4myUEt_xUxvtAUPyR9apXapliE36znzqf0WZdw0zDr6zIIEO29UpMoFvas8eDURQVrFHP2stakIx1-accQWhJktJZ_nWPc2BB-4dDt56mSetlubr0BMAgwmTtFL0QqkV1IZpr1ULcSn4WD2EQesks-ieCWhXVYy8HNYmDXt7C4lQ85Z3xhbdqYqVDZlsa-b9Kfw
[2025-05-10 15:06:49,619] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:49] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:06:50,669] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:06:50,670] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:50] "GET / HTTP/1.1" 200 -
[2025-05-10 15:06:52,344] [DEBUG] [app] : Asignem nonce a la sessio actual: c498807e248200921c33cce59d0d3937
[2025-05-10 15:06:52,344] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-10 15:06:52,345] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:06:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-10 15:07:08,925] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:07:09,752] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-10 15:07:09,757] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhXVDFSZERrQ20wRWMyOUM0aHRCdjZVOW9GbC03Q0M1Nkc0Y09ObGRUWEEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY4ODk2MjksImV4cCI6MTc0Njg5MzIyOSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ2ODg5NjI4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.C0k9lR4cinbgKsAbUbIi9Bb797D58odYOC8ccwuFRv8EtV1GCATd4pv3ZjV0kIJppJ1VfVwuR8-xHwYZnq8OyTi8kOtQXPDxQD2PTiz7ahWhV2H_tiDWbdKQ3qIuiQZ26Yzl6-3e3m0v7fZlotD7r410vNLKJOdPMg9xoO5HZFLnI8xlKQ3Ww-KvVDMXrVieSRyP-izTT8OMYyOVC3NJa8fQd5wn3qQaKObFB26bWzLQPHuDAsquCptEay03ErIn6TCbaTjqLQntLDcd61ypLTfKR8RUAzzNBXvSQFVEekMgsERbgATVubjCfDvEO8McdymBaE3YejqueaCXzZhHFw', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk2MjksImV4cCI6MTc0Njg5MzIyOSwianRpIjoiSUQuVDR2b3BXT0lXWkJteVJnZmVxLXlhWDhoTnNqTTMtSGVwNndMdHNNdDZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM0OTg4MDdlMjQ4MjAwOTIxYzMzY2NlNTlkMGQzOTM3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4ODk2MjgsImF0X2hhc2giOiIzczFEejViekRaRHhDWGxobXZ3dnlRIiwiZWlkIjoiMDAwMVkifQ.jRRc3OrQgqyYTa0LZWI6rq6wiYKX0_zt_PNuuUcJFGKemyDFJEiRx-ab1UEVLPVVkeH3GuwtwNM_N_CJDxIZoe3A4COOY5LpktQoDXRn3lZ3QvSNKSb_XtTA38IrKGAQAaHXrM-OgWJvzbPDsdYvwb9ot6rEp3oUkgg6nDaAW9Dp_SXk-ssB3blqAoZpBNPsiNTVZujj96j4mifyeewzomRbP1B2Fmm5GOVV4ccDM9L1UmNUfzwVpewtNIMLFxc3TtgmHGqHTFdtNtKpFaiSEoAlYsG3x5Ubqws1aXzAQ-JNNXELNnfqPGk6DOJLJrQQRlca7XXzNH6UPEovsEtiOg', 'expires_at': 1746893229, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746889629, 'exp': 1746893229, 'jti': 'ID.T4vopWOIWZBmyRgfeq-yaX8hNsjM3-Hep6wLtsMt6YE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c498807e248200921c33cce59d0d3937', 'preferred_username': 'user1@test.com', 'auth_time': 1746889628, 'at_hash': '3s1Dz5bzDZDxCXlhmvwvyQ', 'eid': '0001Y'}}
[2025-05-10 15:07:09,758] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746889629, 'exp': 1746893229, 'jti': 'ID.T4vopWOIWZBmyRgfeq-yaX8hNsjM3-Hep6wLtsMt6YE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c498807e248200921c33cce59d0d3937', 'preferred_username': 'user1@test.com', 'auth_time': 1746889628, 'at_hash': '3s1Dz5bzDZDxCXlhmvwvyQ', 'eid': '0001Y'}
[2025-05-10 15:07:09,758] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com, eid: 0001Y
[2025-05-10 15:07:09,761] [DEBUG] [app] : User trobat in db: user1@test.com
[2025-05-10 15:07:09,762] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:07:09] "[32mGET /auth/callback?code=MkzQJsLJGWW9sj6X8hZ6_SeHy1j3kdiAGhip8tMDK6Y&state=zvI1KFHDYCy1OBDpcOxQfbWPBTwy4F HTTP/1.1[0m" 302 -
[2025-05-10 15:07:09,769] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:07:09,769] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:07:09] "GET / HTTP/1.1" 200 -
[2025-05-10 15:07:11,376] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:07:11,378] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:07:11,382] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:07:11] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:07:20,632] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:07:20,632] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:07:20,632] [INFO] [app] : NEW full_name: user1 user1A
[2025-05-10 15:07:20,632] [INFO] [app] : email: user1@test.com
[2025-05-10 15:07:20,635] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:07:20,994] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:07:20,998] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:07:21,461] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:07:21,465] [ERROR] [app] : Error en actualitzar el perfil a EntraID: list indices must be integers or slices, not str
[2025-05-10 15:07:21,467] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:07:22,423] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:07:22,423] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:07:22,424] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1A', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1A', 'employeeNumber': '0001Y'}}
[2025-05-10 15:07:22,424] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:07:23,501] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:07:23,501] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1A', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1A', 'employeeNumber': '0001Y'}
[2025-05-10 15:07:23,511] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:07:23] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:07:23,519] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:07:23,521] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:07:23,522] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:07:23] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:10:31,222] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:10:31,222] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:10:48,997] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1A'}
[2025-05-10 15:10:49,000] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:10:49] "GET / HTTP/1.1" 200 -
[2025-05-10 15:10:50,576] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:10:50,591] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:10:50,595] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:10:50] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:10:54,314] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:10:54,314] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1A'}
[2025-05-10 15:10:54,314] [INFO] [app] : NEW full_name: user1 user1
[2025-05-10 15:10:54,315] [INFO] [app] : email: user1@test.com
[2025-05-10 15:10:54,319] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:10:54,703] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:10:54,704] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:10:55,064] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:10:55,066] [DEBUG] [app] : Id de l'usuari: 2c5dc63d-528e-4631-b2c0-06e1750acc56
[2025-05-10 15:10:55,069] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:10:55,421] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:10:55,422] [DEBUG] [app] : Update Entra ID user: 2c5dc63d-528e-4631-b2c0-06e1750acc56, user1 user1
[2025-05-10 15:10:55,423] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:10:55,663] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/2c5dc63d-528e-4631-b2c0-06e1750acc56 HTTP/1.1" 204 0
[2025-05-10 15:10:55,663] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user1 user1'}
[2025-05-10 15:10:55,669] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:10:56,621] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:10:56,623] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:10:56,623] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-05-10 15:10:56,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:10:57,616] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:10:57,616] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-05-10 15:10:57,623] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:10:57] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:10:57,632] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:10:57,634] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:10:57,635] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:10:57] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:12:20,240] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:12:20,241] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:12:20] "GET / HTTP/1.1" 200 -
[2025-05-10 15:12:29,679] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:12:29,679] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:12:35,577] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:12:35,577] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:12:43,578] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:12:43,582] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:12:43] "GET / HTTP/1.1" 200 -
[2025-05-10 15:12:45,813] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:12:45,824] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:12:45,827] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:12:45] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:12:50,339] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:12:50,339] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:12:50,339] [INFO] [app] : NEW full_name: user1 user1AB
[2025-05-10 15:12:50,340] [INFO] [app] : email: user1@test.com
[2025-05-10 15:12:50,344] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:12:50,985] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:12:50,991] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:12:51,229] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:12:51,230] [DEBUG] [app] : Id de l'usuari: 2c5dc63d-528e-4631-b2c0-06e1750acc56
[2025-05-10 15:12:51,231] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:12:51,823] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:12:51,824] [DEBUG] [app] : Update Entra ID user: 2c5dc63d-528e-4631-b2c0-06e1750acc56, user1 user1AB
[2025-05-10 15:12:51,824] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:12:52,114] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/2c5dc63d-528e-4631-b2c0-06e1750acc56 HTTP/1.1" 204 0
[2025-05-10 15:12:52,116] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user1 user1AB'}
[2025-05-10 15:12:52,124] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:12:53,264] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:12:53,265] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:12:53,265] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1AB', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1AB', 'employeeNumber': '0001Y'}}
[2025-05-10 15:12:53,266] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:12:54,259] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:12:54,260] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1AB', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1AB', 'employeeNumber': '0001Y'}
[2025-05-10 15:12:54,267] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:12:54] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:12:54,275] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:12:54,277] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:12:54,278] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:12:54] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:13:07,112] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:13:07,112] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1AB'}
[2025-05-10 15:13:07,112] [INFO] [app] : NEW full_name: user1 user1
[2025-05-10 15:13:07,112] [INFO] [app] : email: user1@test.com
[2025-05-10 15:13:07,114] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:13:07,664] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:13:07,670] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:13:07,917] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:13:07,920] [DEBUG] [app] : Id de l'usuari: 2c5dc63d-528e-4631-b2c0-06e1750acc56
[2025-05-10 15:13:07,923] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:13:08,298] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:13:08,300] [DEBUG] [app] : Update Entra ID user: 2c5dc63d-528e-4631-b2c0-06e1750acc56, user1 user1
[2025-05-10 15:13:08,301] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:13:08,636] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/2c5dc63d-528e-4631-b2c0-06e1750acc56 HTTP/1.1" 204 0
[2025-05-10 15:13:08,637] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user1 user1'}
[2025-05-10 15:13:08,643] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:13:09,583] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:13:09,583] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:13:09,584] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-05-10 15:13:09,584] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:13:10,544] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:13:10,545] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-05-10 15:13:10,551] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:13:10] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:13:10,560] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.XWT1RdDkCm0Ec29C4htBv6U9oFl-7CC56G4cONldTXA', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746889629, 'exp': 1746893229, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746889628, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:13:10,562] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:13:10,564] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:13:10] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:13:23,658] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk2MjksImV4cCI6MTc0Njg5MzIyOSwianRpIjoiSUQuVDR2b3BXT0lXWkJteVJnZmVxLXlhWDhoTnNqTTMtSGVwNndMdHNNdDZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM0OTg4MDdlMjQ4MjAwOTIxYzMzY2NlNTlkMGQzOTM3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4ODk2MjgsImF0X2hhc2giOiIzczFEejViekRaRHhDWGxobXZ3dnlRIiwiZWlkIjoiMDAwMVkifQ.jRRc3OrQgqyYTa0LZWI6rq6wiYKX0_zt_PNuuUcJFGKemyDFJEiRx-ab1UEVLPVVkeH3GuwtwNM_N_CJDxIZoe3A4COOY5LpktQoDXRn3lZ3QvSNKSb_XtTA38IrKGAQAaHXrM-OgWJvzbPDsdYvwb9ot6rEp3oUkgg6nDaAW9Dp_SXk-ssB3blqAoZpBNPsiNTVZujj96j4mifyeewzomRbP1B2Fmm5GOVV4ccDM9L1UmNUfzwVpewtNIMLFxc3TtgmHGqHTFdtNtKpFaiSEoAlYsG3x5Ubqws1aXzAQ-JNNXELNnfqPGk6DOJLJrQQRlca7XXzNH6UPEovsEtiOg
[2025-05-10 15:13:23,659] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4ODk2MjksImV4cCI6MTc0Njg5MzIyOSwianRpIjoiSUQuVDR2b3BXT0lXWkJteVJnZmVxLXlhWDhoTnNqTTMtSGVwNndMdHNNdDZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM0OTg4MDdlMjQ4MjAwOTIxYzMzY2NlNTlkMGQzOTM3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4ODk2MjgsImF0X2hhc2giOiIzczFEejViekRaRHhDWGxobXZ3dnlRIiwiZWlkIjoiMDAwMVkifQ.jRRc3OrQgqyYTa0LZWI6rq6wiYKX0_zt_PNuuUcJFGKemyDFJEiRx-ab1UEVLPVVkeH3GuwtwNM_N_CJDxIZoe3A4COOY5LpktQoDXRn3lZ3QvSNKSb_XtTA38IrKGAQAaHXrM-OgWJvzbPDsdYvwb9ot6rEp3oUkgg6nDaAW9Dp_SXk-ssB3blqAoZpBNPsiNTVZujj96j4mifyeewzomRbP1B2Fmm5GOVV4ccDM9L1UmNUfzwVpewtNIMLFxc3TtgmHGqHTFdtNtKpFaiSEoAlYsG3x5Ubqws1aXzAQ-JNNXELNnfqPGk6DOJLJrQQRlca7XXzNH6UPEovsEtiOg
[2025-05-10 15:13:23,659] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:13:23] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:13:24,976] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:13:24,976] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:13:24] "GET / HTTP/1.1" 200 -
[2025-05-10 15:13:28,737] [DEBUG] [app] : Asignem nonce a la sessio actual: 329e94f6a4f99ff01ff8e60e11cc8eb8
[2025-05-10 15:13:28,738] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:13:28,738] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:13:29,158] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 15:13:29,160] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:13:29] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:15:15,484] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:15:15,946] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:15:15,947] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:15:16,184] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-10 15:15:16,190] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4849, 'ext_expires_in': 4849, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODk4MTUsIm5iZiI6MTc0Njg4OTgxNSwiZXhwIjoxNzQ2ODk0OTY1LCJhaW8iOiJBWVFBZS84WkFBQUF0TzZoTjA4MnVtck5SNytrckFoRG9LQ21hYjg1dG1aY2FMV1k2YnhLQTdwTnFuOFNuNlZzY3Jqc0haeklwWGR3YUczaWpuMVJwQnM4bmJSOG1YaHltMjJROXRmb3dZOWJiSG9zWTFlWlVrd3lQaFBhOHBiR1hTemhEZTVVNzJaNTdibXhaSXYwREEvNVFtMVlVbXdVcFlscTZKSkZBdGdJbUkybDErSzAwWVU9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTc1MjYtZjJiZi02YjBlLWNjMTZlZGIzOTA3MiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJYYmtWZS1OU0MwZVd0MmNORmVrUkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.hhCTCmPVmtAolu1_27EeJzt_VbtXc6QqT7N349Gdx5y_30Gv50WQfuDSUuIsav2GTKTiHfxO8p1Ux2zaUfFNkmXkclBlhIHcaMAmFnZ2eu_g3ReifzfFMDC4yDIkMOQAgSTzLVAdKUzOl7j3QfbLmXpue3vdN8fHlYWgIwis31TVkGJxx-hx120yl7869oYZ0OkWZtp-6iHUevbHHXtUfklkExa5vK9OusYWlrHSJzHrzeRGbnVC6-WuO2Y_wax687EhI7D-018g_bB0gNkTmzq3CWFMMj8G1Ae6UiU-HnqyIzIKNgEyot-4Zz6nshojnljVfuPaS37xrnE6Lzfc5g', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODk4MTUsIm5iZiI6MTc0Njg4OTgxNSwiZXhwIjoxNzQ2ODkzNzE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjMyOWU5NGY2YTRmOTlmZjAxZmY4ZTYwZTExY2M4ZWI4Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTc1MjYtZjJiZi02YjBlLWNjMTZlZGIzOTA3MiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJYYmtWZS1OU0MwZVd0MmNORmVrUkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.UrqVXsdM-2ObI69Qkm89QLCIoT97_K-2MTaIupGjp_ibiKKEEwAuuVC7DgNxBwreLSYgOTGpHWk8qqNmG9CRKdP3O8mlVmnh0zCODk0zfOhnnE9JeKTS3X-0q4tecfoKePgHK1fK_xDUzMAHx8Rrk0zhZjTtmy7tKhQQ1BCiY6NJD1nUWyoFBDr-Lbanqkxc3yX0XzoehX9doDEjxyxT_DomECsCcS8CkwJC9LMPj38-1HZfmt-zpXtgva96loYz5k3H8HPzHV7vGwr4HEW702WADLHvl3i0jV_RTVpcIz6g8M4w2uzPQrHeqrspntTHAfyZilDLk7_lDdBjiDnK_g', 'expires_at': 1746894964, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889815, 'nbf': 1746889815, 'exp': 1746893715, 'name': 'user9 user9', 'nonce': '329e94f6a4f99ff01ff8e60e11cc8eb8', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-7526-f2bf-6b0e-cc16edb39072', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'XbkVe-NSC0eWt2cNFekRAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:15:16,191] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746889815, 'nbf': 1746889815, 'exp': 1746893715, 'name': 'user9 user9', 'nonce': '329e94f6a4f99ff01ff8e60e11cc8eb8', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-7526-f2bf-6b0e-cc16edb39072', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'XbkVe-NSC0eWt2cNFekRAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:15:16,191] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:15:16,192] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:15:16,194] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:16] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_9nmcJJxuqsAygwl72dBkkKsQwu5sBjn3YyyPXO_Z9ip9XO0mE1ARVBoW_hMvet6Twz2t9UdgQl46Lg66Us2yLNOthWnqepaUIUFphcFJDmFP_Y9nX_9ZFBnyKkDnw3xMnMSvx2sjQdDy9ZabPhtDravj6vCK0bjW3tLXn-C4UMOAebG74YfUaordroQsiZaqATcUX6TyJY4J5kN_yZ-R7XYSWbuink2UwpGvHHbuuHW1bG-umMa8sq34_sg50Cc9Wd6Cgtguh986bUiwro_QUQYU-0R1eqW-Ml1P7Hux0OpuPdzGn34gR7As741KRqWBUR-2Oty-2mCFJM-nnKejmhcaMNQnaPXCUjDXf4lrjlTeCfVSr4VAcPRTE1s3nZ7OZvPnSbHfob6VZ6Ypy4oifh7ZqgZYvLosw6JNOYmrV5ZXTnQf77EZkjVJxF9m9V3SDNb2bWM1XDoP3ybCpar_SuVxlkUELpis5xP9-OWIx6Z4yVyfKb-hEdnFRv33GJYrcV1VC49oHudvZbPamuumERLTV1Ja3Te1_SS1N-_HQhIvpGdbCREUjwmlYDH_QsRZIQrSzNpqDsq8Ww6lhtUQzEqKtf5W17J5WYNkYB_Cu50RQlscorRgSq8D7rv4KmStYDC9od0X0jr0W6ZADFaIbzUyjumm01-dRs4yIO-5zltxcdVgqoXTRaxcEjIPLKA2K-DkPX8bCc2r9OLvSuIhzDcSbi1mqHuZw7dmXyZ1dCBmeeTISnESX7R2RqlNsCHFavVpHvlsQImtQhohOanwBaZhrP4ZoSmt_&state=Z7GY0WycvSmDIv5iv1JStFnp3Fw4R1&session_state=004dd9c9-7526-f2bf-6b0e-cc16edb39072 HTTP/1.1[0m" 302 -
[2025-05-10 15:15:16,202] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:15:16,203] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:16] "GET / HTTP/1.1" 200 -
[2025-05-10 15:15:18,163] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:15:18,164] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:18] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:15:18,171] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODk4MTUsIm5iZiI6MTc0Njg4OTgxNSwiZXhwIjoxNzQ2ODkzNzE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjMyOWU5NGY2YTRmOTlmZjAxZmY4ZTYwZTExY2M4ZWI4Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTc1MjYtZjJiZi02YjBlLWNjMTZlZGIzOTA3MiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJYYmtWZS1OU0MwZVd0MmNORmVrUkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.UrqVXsdM-2ObI69Qkm89QLCIoT97_K-2MTaIupGjp_ibiKKEEwAuuVC7DgNxBwreLSYgOTGpHWk8qqNmG9CRKdP3O8mlVmnh0zCODk0zfOhnnE9JeKTS3X-0q4tecfoKePgHK1fK_xDUzMAHx8Rrk0zhZjTtmy7tKhQQ1BCiY6NJD1nUWyoFBDr-Lbanqkxc3yX0XzoehX9doDEjxyxT_DomECsCcS8CkwJC9LMPj38-1HZfmt-zpXtgva96loYz5k3H8HPzHV7vGwr4HEW702WADLHvl3i0jV_RTVpcIz6g8M4w2uzPQrHeqrspntTHAfyZilDLk7_lDdBjiDnK_g',)
[2025-05-10 15:15:18,171] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4ODk4MTUsIm5iZiI6MTc0Njg4OTgxNSwiZXhwIjoxNzQ2ODkzNzE1LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjMyOWU5NGY2YTRmOTlmZjAxZmY4ZTYwZTExY2M4ZWI4Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTc1MjYtZjJiZi02YjBlLWNjMTZlZGIzOTA3MiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJYYmtWZS1OU0MwZVd0MmNORmVrUkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.UrqVXsdM-2ObI69Qkm89QLCIoT97_K-2MTaIupGjp_ibiKKEEwAuuVC7DgNxBwreLSYgOTGpHWk8qqNmG9CRKdP3O8mlVmnh0zCODk0zfOhnnE9JeKTS3X-0q4tecfoKePgHK1fK_xDUzMAHx8Rrk0zhZjTtmy7tKhQQ1BCiY6NJD1nUWyoFBDr-Lbanqkxc3yX0XzoehX9doDEjxyxT_DomECsCcS8CkwJC9LMPj38-1HZfmt-zpXtgva96loYz5k3H8HPzHV7vGwr4HEW702WADLHvl3i0jV_RTVpcIz6g8M4w2uzPQrHeqrspntTHAfyZilDLk7_lDdBjiDnK_g',)
[2025-05-10 15:15:18,171] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:18] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:15:50,941] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:15:50,942] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:50] "GET /?sid=004dd9c9-7526-f2bf-6b0e-cc16edb39072 HTTP/1.1" 200 -
[2025-05-10 15:15:56,960] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:15:56,961] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:15:56] "GET / HTTP/1.1" 200 -
[2025-05-10 15:20:26,180] [DEBUG] [app] : Asignem nonce a la sessio actual: f869ce03f14920d4db84baedbad5962e
[2025-05-10 15:20:26,180] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:20:26,180] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:20:26] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:20:33,123] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:20:33,718] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:20:33,722] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4546, 'ext_expires_in': 4546, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAxMzMsIm5iZiI6MTc0Njg5MDEzMywiZXhwIjoxNzQ2ODk0OTgwLCJhaW8iOiJBWVFBZS84WkFBQUFOVWgwUEZ2c1kzUmVreTZqd09lcENmTjAvT1FtbVovVWJtR1EwSjQzUjY5b3RBaTFxa084SUsrK0xpMHd5WVVjbDN5WVd4MGdwbEtMc0w2V3BMY2o5VFhaa3pHb0VhejcyZW5JYnhIRzFYbFpsaUVsdkhNdlJnNm5rbU5VdjREbENUNmQzd1o0aEhlTDI3dkxZayt6TU80b1RZT2FUMGVhZVZrTjhudEJkM289IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkd1pveGFuWTBVU25jbUFNWVFvaEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.SK0j0RdGpmI2GJ3dZSUEgm9FMJIIaKYh7zpICcTG_77ktfeeBdI6h7ow--_AmKTWLCV1LDB1LjytR7DAR3rWxq8nv1Ph0CJLN9uEcvHKM3ZbUvRSn5j-3qvzXtTgHZ2vkNrST0MsFT3kW8ME5t_H64SHGLQZ1VyJMbOF6owNFIo_ouDtaelodDeGGMLtQGWixAHncyDmYUi9UO2XBuCTkXAoIZvRWnRNmXqBHr1QgMWMw0v8omREnebHRYNrq-_F5RN81ErlvMsC_Qs23PASef2Q1AlU2iHRODlrUojXbP22oVAW3H89RHwUsZc8Iehu60INZ2SpUo3WMmzp4bQ0Fw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAxMzMsIm5iZiI6MTc0Njg5MDEzMywiZXhwIjoxNzQ2ODk0MDMzLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImY4NjljZTAzZjE0OTIwZDRkYjg0YmFlZGJhZDU5NjJlIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkd1pveGFuWTBVU25jbUFNWVFvaEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.cWCL9xQ-fjq2GJVK8cncg41hmZyDrY7oSBk_zw3BDc6h0bHfkAH8cqN_wHOmhVWTcv5YHhAe8l4XXmZnj55GxtlSPqhnJWFiuMhrn4zM7L2VzppfKX_IpoFj2vMLQydFZm2uwbrQJphvEAj4kM8TUw-z_VzzWkKZATHskXPoB8SFr3dk-nB-D8vfpiOgDvr920GPzYap5zfDH1r1aN-t9mL85ZVh4Yml8Ev2ahI5CXBjcmoseFXIXf94shd6Es0TekjSZwZxnEASX-jCVVhBp7tWP2VlrKHK3QWaX_1n9anqmsSQEoPKaB541dzbGdIQRqQT1VEs7uE-ckuTA-FNjA', 'expires_at': 1746894979, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890133, 'nbf': 1746890133, 'exp': 1746894033, 'name': 'user9 user9', 'nonce': 'f869ce03f14920d4db84baedbad5962e', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-02cf-0f10-0454-3444ecd2a836', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dwZoxanY0USncmAMYQohAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:20:33,723] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890133, 'nbf': 1746890133, 'exp': 1746894033, 'name': 'user9 user9', 'nonce': 'f869ce03f14920d4db84baedbad5962e', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-02cf-0f10-0454-3444ecd2a836', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'dwZoxanY0USncmAMYQohAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:20:33,723] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:20:33,724] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:20:33,725] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:20:33] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-n36fAStcx1zIecpHXr445D1BrEMn7-2hrhk-wHWE_2tiEJW-1Acu8SPoZ8vCYewbbrTVhe_x01xmJxQakUBOcaetgjPzew-Ug449EZtNQUV3wNZnhqrmlS0vkbfs7GBS55gIGmJf3rNTPPhptz7rhWEMsyvRFxVY81szxZmz8IJdQaWlsy_v5XlgGR4Glwd-PD2zdK5loejyc-gqGi5NdBxpmpgtjTmhj_kn63q2-g9qcwBPvDEboQlBR1WLFDC9ciAbha99y6YP_wUSk9VxiOzciOMHbpmxllPa3z8xt5cExrJ0Zu89Udvi75K9f3buSrqaB3lk36dO2K8THYRem7gQ54MajAc7i-jH15crVC4gjyDS67ZaYmF4VLp-WNZcUxpnEZHk0cIKD2QBlLPK2_luWCY9sE9HNlfJQuGrvjlvYuCJyICNo5gipDx4CHG-QB5Qh82NbXWSy4Dt3hiPWUP7BLvo6wRcUL3ZXz4CMICyfdSVIJH_gG3GlPGEBF88jXdaL2X3PwYgGY7fUSEgCh2S_rCZCaCtqIVNxZmC_CUzH4wa9OKgRxHOEHcSkPfNB366RF28ZAmOqh_VeaOBBwgtILSJOuT1Q63kaTAG-rxMUj-XCbypxk6E4tLPkUaLwsrZxRInSrYNZkcFg1v-aQsdYQtFNfDitYfjNR0r4Pau2TI9xOwO4LsjOtAohYA2kiF2wujvFvGULV4_5iip3IKDXsd1-zRlmdq7B3KU5ZYFRhr-JIzDp8hW3Cj7uzwRb4zFxBungWjuYAStmfWmi5g4fCWZ-IAM2bg&state=4DVOx1LqEJ5OuRBPcRPhICnc5Tttc6&session_state=004dd9c9-02cf-0f10-0454-3444ecd2a836 HTTP/1.1[0m" 302 -
[2025-05-10 15:20:33,731] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:20:33,731] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:20:33] "GET / HTTP/1.1" 200 -
[2025-05-10 15:20:35,894] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:20:35,895] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:20:35] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:20:35,908] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAxMzMsIm5iZiI6MTc0Njg5MDEzMywiZXhwIjoxNzQ2ODk0MDMzLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImY4NjljZTAzZjE0OTIwZDRkYjg0YmFlZGJhZDU5NjJlIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkd1pveGFuWTBVU25jbUFNWVFvaEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.cWCL9xQ-fjq2GJVK8cncg41hmZyDrY7oSBk_zw3BDc6h0bHfkAH8cqN_wHOmhVWTcv5YHhAe8l4XXmZnj55GxtlSPqhnJWFiuMhrn4zM7L2VzppfKX_IpoFj2vMLQydFZm2uwbrQJphvEAj4kM8TUw-z_VzzWkKZATHskXPoB8SFr3dk-nB-D8vfpiOgDvr920GPzYap5zfDH1r1aN-t9mL85ZVh4Yml8Ev2ahI5CXBjcmoseFXIXf94shd6Es0TekjSZwZxnEASX-jCVVhBp7tWP2VlrKHK3QWaX_1n9anqmsSQEoPKaB541dzbGdIQRqQT1VEs7uE-ckuTA-FNjA',)
[2025-05-10 15:20:35,908] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAxMzMsIm5iZiI6MTc0Njg5MDEzMywiZXhwIjoxNzQ2ODk0MDMzLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImY4NjljZTAzZjE0OTIwZDRkYjg0YmFlZGJhZDU5NjJlIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJkd1pveGFuWTBVU25jbUFNWVFvaEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.cWCL9xQ-fjq2GJVK8cncg41hmZyDrY7oSBk_zw3BDc6h0bHfkAH8cqN_wHOmhVWTcv5YHhAe8l4XXmZnj55GxtlSPqhnJWFiuMhrn4zM7L2VzppfKX_IpoFj2vMLQydFZm2uwbrQJphvEAj4kM8TUw-z_VzzWkKZATHskXPoB8SFr3dk-nB-D8vfpiOgDvr920GPzYap5zfDH1r1aN-t9mL85ZVh4Yml8Ev2ahI5CXBjcmoseFXIXf94shd6Es0TekjSZwZxnEASX-jCVVhBp7tWP2VlrKHK3QWaX_1n9anqmsSQEoPKaB541dzbGdIQRqQT1VEs7uE-ckuTA-FNjA',)
[2025-05-10 15:20:35,909] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:20:35] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:21:47,143] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:21:47,143] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:21:47] "GET / HTTP/1.1" 200 -
[2025-05-10 15:21:48,625] [DEBUG] [app] : Asignem nonce a la sessio actual: ece98236c2e9256b5fad93904f9c3782
[2025-05-10 15:21:48,625] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:21:48,626] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:21:48] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:21:48,845] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:21:49,315] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:21:49,317] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 5362, 'ext_expires_in': 5362, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMDksIm5iZiI6MTc0Njg5MDIwOSwiZXhwIjoxNzQ2ODk1ODcyLCJhaW8iOiJBWVFBZS84WkFBQUE1Vk1EY05rNjJPYlJneDUzS3pQVU9HVExwMWUwZ1VVWkxqN3ZJZzJSNlIxVzZyTW5BWnZkdVBkaHZUNTJ4dldHbGRodWpVcTlOb3J2T2QreGxVZFZVUjdKNDU1Lzk3U2lYclo5ZGFuMlBMaGd4QTBtczRzWFUyTFJIMDB6WU9LUC9RQzFvd25SVmo2M3dtT2srRUl2V0pqUDRUTWFFMXp4ZjNCNzNnaFFxVFU9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQa3VoS1B5VGJFR3VhUDBFTWZRY0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.PLWfXGw9T_JPK7HzyNYt3zHOwOWPyJqs3MNabw-t8UF_UzHMqLDG6mK68DuUERUUZLMrjxrOKMs_g6fx0TDmUmfRFVSa2EdkxeRM-e3PfLgf4fkdybr19SRBfWYi_NNIdvxU2_lRY1oCXEhNnfvffb-RZEm8VQBD-ho80_sF4mNzJwTDYj0PLLPecK_PLiOScI3NH0xwZQGRvhFPVUOZWNfO2CaaeYGlvrRuoWplETPewvtmuSnylJuFuRsncBgBAx_zmHoDwzWsN8JiY_iZ0cqUzqbQzoftEZzFwIqfrUgVsuiXLs9m8CPLUIXtGV7dALs-x1tNcVAJV2P4VvfUmQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMDksIm5iZiI6MTc0Njg5MDIwOSwiZXhwIjoxNzQ2ODk0MTA5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVjZTk4MjM2YzJlOTI1NmI1ZmFkOTM5MDRmOWMzNzgyIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQa3VoS1B5VGJFR3VhUDBFTWZRY0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QwkDUbnF-e6GELZumVryuJJ0XJtFsp0iMlQQCD88HezdIXLvDWPYIXAqYZm6ReoiLuggh4xLZdaLvdjTb2RGULje35xoHH4NrcHiq0kGuFcv_GMf8Cv4Da5mO2IQ3-_FaCmZcetJoavctSWm183U_6ZZYnbPZvk1erGzgxjVqQw0_N7dPKmDA7PQAgUobhVeBj9ElGdU8GjzWHKIxz12VdII1vRHit1EaadW50SSBgKfMNXsdqdxHnVuBxl4gWgl1ocglX19koEfSp4TF14gH1BbkkaVPuaAl4r4TGQR0Xh_fxC3H27JNvYtZBXDzqQKk0LZg5CjgiqCemOu9lglig', 'expires_at': 1746895871, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890209, 'nbf': 1746890209, 'exp': 1746894109, 'name': 'user9 user9', 'nonce': 'ece98236c2e9256b5fad93904f9c3782', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-02cf-0f10-0454-3444ecd2a836', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'PkuhKPyTbEGuaP0EMfQcAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:21:49,318] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890209, 'nbf': 1746890209, 'exp': 1746894109, 'name': 'user9 user9', 'nonce': 'ece98236c2e9256b5fad93904f9c3782', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-02cf-0f10-0454-3444ecd2a836', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'PkuhKPyTbEGuaP0EMfQcAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:21:49,318] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:21:49,320] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:21:49,322] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:21:49] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_1FTJYRjTut2mOnYe47ZCgE_MVvujjIPTK3GDuID5znhQobl8_wSNRAUzt5B7lqNKJaBCKE7_N08-zNWApxQHrYBfdrI0J4Ti3nZ9HxzOwCYpojEWjjyG1lEhu-dj6sdku1LE5VlIFH39cQ76iPtb9w-2_L61PeJGIo05-VAKvczC-8IhfEK0Qsr6paLhpy1UaXuuBaGJjGkz2EInW_4mC06e6CVPYXfezG0moVbAGcFEVWrCduktIwWdGUZyVLLPl-yVGJoYuBywjQellGGQC3Jwyy7-XspDFgi1h1JiJXTLmvlRkJoCBHod8zX6KZnnDM9NEJMIkAKF0bOf8C8O4w76WQ7JNaR0ssOuuETXbFz3vmYKE32aH1XCScaJ_EekunJNu8uSqsg8IBWuRznNkGbgfkPMJYl6z6WUttiYZjLPcNsV9lE1acyg5Sb8NgA1JkERsZlaD7Ti0VY2LJfDT3WOa1E_lrMp3R9FAn5Fr09Q5EqB8l3BFfuSpRFhT-xs9NgD8NZBoYlVCojwUOVrLxilgPTEDpDgkDf5igRR84SDXllJtUvuzNliKqkbzS2HGV6IuafmHvCZ3iTd8NY5u08jq-fqrdQ3xWsdOhVziXugQZLHkBF35sU2zf4Odqif_CxK-jZvdOSXExsGodNMmZcc5h670Aakb9YJCMj8IJ-yEMzDC6WaxBEfIGgpK1evCSGP5JLu1h6-HEhUBxVb5Qr_W4-NbIkQ4VjdNmn_rf1cNHZ7jp9oNNpoL0BBIyly0NSPGiORxcSJFNJHjlo8sk0T-8i1gSDY&state=JvpkGoFIeXlaJYz5kM8J9ztNhTtJoe&session_state=004dd9c9-02cf-0f10-0454-3444ecd2a836 HTTP/1.1[0m" 302 -
[2025-05-10 15:21:49,330] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:21:49,330] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:21:49] "GET / HTTP/1.1" 200 -
[2025-05-10 15:22:00,036] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMDksIm5iZiI6MTc0Njg5MDIwOSwiZXhwIjoxNzQ2ODk0MTA5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVjZTk4MjM2YzJlOTI1NmI1ZmFkOTM5MDRmOWMzNzgyIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQa3VoS1B5VGJFR3VhUDBFTWZRY0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QwkDUbnF-e6GELZumVryuJJ0XJtFsp0iMlQQCD88HezdIXLvDWPYIXAqYZm6ReoiLuggh4xLZdaLvdjTb2RGULje35xoHH4NrcHiq0kGuFcv_GMf8Cv4Da5mO2IQ3-_FaCmZcetJoavctSWm183U_6ZZYnbPZvk1erGzgxjVqQw0_N7dPKmDA7PQAgUobhVeBj9ElGdU8GjzWHKIxz12VdII1vRHit1EaadW50SSBgKfMNXsdqdxHnVuBxl4gWgl1ocglX19koEfSp4TF14gH1BbkkaVPuaAl4r4TGQR0Xh_fxC3H27JNvYtZBXDzqQKk0LZg5CjgiqCemOu9lglig',)
[2025-05-10 15:22:00,037] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMDksIm5iZiI6MTc0Njg5MDIwOSwiZXhwIjoxNzQ2ODk0MTA5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVjZTk4MjM2YzJlOTI1NmI1ZmFkOTM5MDRmOWMzNzgyIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTAyY2YtMGYxMC0wNDU0LTM0NDRlY2QyYTgzNiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJQa3VoS1B5VGJFR3VhUDBFTWZRY0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QwkDUbnF-e6GELZumVryuJJ0XJtFsp0iMlQQCD88HezdIXLvDWPYIXAqYZm6ReoiLuggh4xLZdaLvdjTb2RGULje35xoHH4NrcHiq0kGuFcv_GMf8Cv4Da5mO2IQ3-_FaCmZcetJoavctSWm183U_6ZZYnbPZvk1erGzgxjVqQw0_N7dPKmDA7PQAgUobhVeBj9ElGdU8GjzWHKIxz12VdII1vRHit1EaadW50SSBgKfMNXsdqdxHnVuBxl4gWgl1ocglX19koEfSp4TF14gH1BbkkaVPuaAl4r4TGQR0Xh_fxC3H27JNvYtZBXDzqQKk0LZg5CjgiqCemOu9lglig',)
[2025-05-10 15:22:00,037] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:00] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:22:01,620] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:22:01,620] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:01] "GET /?sid=004dd9c9-02cf-0f10-0454-3444ecd2a836 HTTP/1.1" 200 -
[2025-05-10 15:22:07,643] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:22:07,643] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:07] "GET / HTTP/1.1" 200 -
[2025-05-10 15:22:09,098] [DEBUG] [app] : Asignem nonce a la sessio actual: cb822a6052c89cb1e26c1c4662bf9210
[2025-05-10 15:22:09,098] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:22:09,098] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:09] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:22:15,876] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:22:16,427] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:22:16,428] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4989, 'ext_expires_in': 4989, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMzYsIm5iZiI6MTc0Njg5MDIzNiwiZXhwIjoxNzQ2ODk1NTI2LCJhaW8iOiJBWVFBZS84WkFBQUFCZ3ErdVJuMnRLenY1NWFiTlc1aDBwelpEVVZ2bDFxM1Rrdlp4THQ0ZmdYTGpnbURsUGc0NXBSUjJia2NQaHZsY0REbjBpbW9XSmpwbVJJTFEyKzE2Z3gyazJCdmExNElZV3d4Y0xFbnhWeUFaUndWbmpnemp0bUJNbktDeFlqZU1TQXpUckJhdW5BeU9VSUZ4WjJ4V3A5a2g4VXlmUzVJYzJTV2VSekx4YVU9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIWnkxZTRNaG9reU90dkZZb0ZNRUFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.aVqjRvjj0Bq5bMtNr2YejeJtWmBLoRJnCe4vafRbwZNlHR1OT8_59lX7LhYhMgMNVsc4017GK7zN-IRNasABv_IWg_0HJANHoyrYm7EeCNuMkmO7u3owHY-NobhAzXWacoxDWTjBWo4Gp-B6vRwI2N7KtnJeDeMep2lZifTQ4GgweljYow1p63x-vVdJp9roIgntWll3GNFKpZO1xyiR3ytMssRf31E6zdXzPnFNsZD8GzJUlgS1Q64PxqTob3e7RxtO9cZq70hnKEXoCpBfOG7kjy6-dSWQ8FgDya45RtCekFtlo2LgMYYR8H7oNPXvTluV4huhKKPg1NASy9HWrg', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMzYsIm5iZiI6MTc0Njg5MDIzNiwiZXhwIjoxNzQ2ODk0MTM2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImNiODIyYTYwNTJjODljYjFlMjZjMWM0NjYyYmY5MjEwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIWnkxZTRNaG9reU90dkZZb0ZNRUFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.SaJlt7oUkOQJ6h_eB1cwkzkZ5XWgReCwU5k4dBP6aiDrTX6MGhQkZQjZhP7Pr1V-qWfZBOxOnmyVb4qhNCPFcWxUAnfzgE54o_MdlD_dK_Awlfiu8hfc7KrdlgXE9OV-_ydVQMHQp42b2WYLTsqWgYHJ5fTVnuXtdjvHsyelsMIhkB_0yZl6bvD6TFKOTPZxx6h8AKYLqQjZHJlIz-OjhHT6HqzCioR70CpebjnV_xextMUqJLz_ajGVvYx0rvOkpP9tolnop6Vma1_CsJIlL6DXFhrvtt_H13Vd5saW2H_VIroneFqM6EEcdcO80W7IDaF2209yGC6lmzOr5zoRcw', 'expires_at': 1746895525, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890236, 'nbf': 1746890236, 'exp': 1746894136, 'name': 'user9 user9', 'nonce': 'cb822a6052c89cb1e26c1c4662bf9210', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'HZy1e4MhokyOtvFYoFMEAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:22:16,429] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890236, 'nbf': 1746890236, 'exp': 1746894136, 'name': 'user9 user9', 'nonce': 'cb822a6052c89cb1e26c1c4662bf9210', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'HZy1e4MhokyOtvFYoFMEAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:22:16,429] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:22:16,430] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:22:16,432] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:16] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P--ift0zDbghWNo2cqrlhGMM0XBPCMAvmrZROYxjZVy3b9MJ5_eD7RgJ7th-x7mqvpviGBa2kY6KUoFIk2lrW2o_whbrCPi7QjMMaxqpyywtSjSPx6fvqmqmH48LksU-g9-vmRmIa_onm_5Zx-uFCzim6KXI-jDaQQsYghrYUuBDSUiOEIVmdYiKV54AzAbE1rXG5znvTgKayKTnAX0DVgs_014MBCxPY9SrHXMk2lIoGVTYqf8CwIyM-VDjIXrRmDvz2k9pRM1tU3SnQaOwDOFBhc59FhqOKMwUccl3ZERmi86iF9aisxJETFKVLL_1ueOqyG85Of_sDAce7kF9JPPPLKfUobKw2uLHsqyGFe9AyvEcleGaIGYn-VWIssQ2yfkrrcxfkYc0l2kFQtoVic-ETuvtSeTP67NcHR5kMRBaKCo2IzZ2uaslKuCxMqcMAfm9alSbLZhrjW8ii9LVx6W5ZpLQDix1OC1SL-zBuz93eOuNwFwhYA49Cksr_Z0r3rnE5Ckmd7N21zJo_-D80O1uGpaNaPB-S240tuAtaSIPvJJMOfb1xaoX6qdnayNR3L-tmtO7UHkc9rnUQT--QohY7V1FAde6x5t3RGbbWeHJxlOVhV2u3wpsRdyR8MPAJUE4KHRvilO19_IEdLQFZGk5vkwtuEm387f1AVdZ-uq8AI_iSJh8i3XRnARMA4CgKNPyCPuUjplLEuqWOQoZXp8Th-bKqzZbQl_5pqQQOYL2eF0GJzgd_433a34AMnWPGGOTG4bwtBJ3Y_rxLu1GnZHTWoqi3R3EvJz0YbZ&state=84XMYx8Z6EdRA7s4XJs6eoTKZPP3JW&session_state=004dd9c9-6e40-a376-4a58-447da4a73644 HTTP/1.1[0m" 302 -
[2025-05-10 15:22:16,440] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:22:16,441] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:16] "GET / HTTP/1.1" 200 -
[2025-05-10 15:22:17,844] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:22:17,844] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:17] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:22:17,850] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMzYsIm5iZiI6MTc0Njg5MDIzNiwiZXhwIjoxNzQ2ODk0MTM2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImNiODIyYTYwNTJjODljYjFlMjZjMWM0NjYyYmY5MjEwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIWnkxZTRNaG9reU90dkZZb0ZNRUFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.SaJlt7oUkOQJ6h_eB1cwkzkZ5XWgReCwU5k4dBP6aiDrTX6MGhQkZQjZhP7Pr1V-qWfZBOxOnmyVb4qhNCPFcWxUAnfzgE54o_MdlD_dK_Awlfiu8hfc7KrdlgXE9OV-_ydVQMHQp42b2WYLTsqWgYHJ5fTVnuXtdjvHsyelsMIhkB_0yZl6bvD6TFKOTPZxx6h8AKYLqQjZHJlIz-OjhHT6HqzCioR70CpebjnV_xextMUqJLz_ajGVvYx0rvOkpP9tolnop6Vma1_CsJIlL6DXFhrvtt_H13Vd5saW2H_VIroneFqM6EEcdcO80W7IDaF2209yGC6lmzOr5zoRcw',)
[2025-05-10 15:22:17,850] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyMzYsIm5iZiI6MTc0Njg5MDIzNiwiZXhwIjoxNzQ2ODk0MTM2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImNiODIyYTYwNTJjODljYjFlMjZjMWM0NjYyYmY5MjEwIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJIWnkxZTRNaG9reU90dkZZb0ZNRUFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.SaJlt7oUkOQJ6h_eB1cwkzkZ5XWgReCwU5k4dBP6aiDrTX6MGhQkZQjZhP7Pr1V-qWfZBOxOnmyVb4qhNCPFcWxUAnfzgE54o_MdlD_dK_Awlfiu8hfc7KrdlgXE9OV-_ydVQMHQp42b2WYLTsqWgYHJ5fTVnuXtdjvHsyelsMIhkB_0yZl6bvD6TFKOTPZxx6h8AKYLqQjZHJlIz-OjhHT6HqzCioR70CpebjnV_xextMUqJLz_ajGVvYx0rvOkpP9tolnop6Vma1_CsJIlL6DXFhrvtt_H13Vd5saW2H_VIroneFqM6EEcdcO80W7IDaF2209yGC6lmzOr5zoRcw',)
[2025-05-10 15:22:17,851] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:22:17] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:23:03,504] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:23:03,504] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:23:15,473] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:23:15,476] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:15] "GET / HTTP/1.1" 200 -
[2025-05-10 15:23:16,562] [DEBUG] [app] : Asignem nonce a la sessio actual: eeca8b4dbfce74374d6462b8d4dc92d5
[2025-05-10 15:23:16,562] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:23:16,563] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:23:16,908] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 15:23:16,910] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:16] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:23:17,161] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:23:17,512] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:23:17,514] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:23:17,748] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-10 15:23:17,752] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3863, 'ext_expires_in': 3863, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyOTcsIm5iZiI6MTc0Njg5MDI5NywiZXhwIjoxNzQ2ODk0NDYxLCJhaW8iOiJBWVFBZS84WkFBQUF1NlpSL1pvWE92RUY3OWtueFhwYXE4aUdBVld2c1c3UXpkTmVqNVA2ajhSU29kNms3S1RtRjRrSWlPN3pqVjQybTBnemExNUpZRGNvNmwvRVhrVmcrWUFYVXlTZ2tsQVZOYjFpYitaZThwYklscm1XS1F0UUk4ZnJpZy95QmYvVS9Bd1I2c2VtVHNaQmFsMnJsN1BaNDR3cmJybDR4K2kwbUxXejJsaGJlTWM9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHal9sSUpJWk9rNmVWYkNRQV9WRkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.DcbIKtbKkIkjt3IDjUq737WA-8csqPRMdNJfgI-EMmKjhP65ZCXHsWdmuhqkDraZqaL4005DygIBNHvQThPI9DEW_Spxp9f1diWRyLP0PH1EGfxHs-oQfPTcSfdShZJFLi25rRobjGoeKi8IEt7kVfWO5TtWGbLd9HSplPRPE8iHrvvqYsTIt-iksgvpxchXVJvR962ANvOKoo2YNLYfbmTmhox1psHjUCnGRwkMhh1_GVr4pODz6tD3sfxCCthAc2AIapwSAY6behfIGhAnoiz7mFYfbLmbXMy1tLhnUBVpzWCUyqfr1Mv-FJzFLjjr9FgxMWb1AYg4Od3EFujsQA', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyOTcsIm5iZiI6MTc0Njg5MDI5NywiZXhwIjoxNzQ2ODk0MTk3LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVlY2E4YjRkYmZjZTc0Mzc0ZDY0NjJiOGQ0ZGM5MmQ1Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHal9sSUpJWk9rNmVWYkNRQV9WRkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.C9LulVXDz3jfGQsF1OiZP2ejsgsx4GllQDKmM4OkItMOb_HOKdWIY9GcLgG5VDXJMiHD-sq77aDf4tysMEc80JXAO9XuT5lGgcxcr9QvlofoDe-s7OaO0P1OiIOXEJxcNuKbu1HDZ0p2H5PiSy_M7RUH9VSvRUnCko8Xj5uPc92CDfd7Qd37quE0n3XUj4LBnCw8cEVh_vSKMYhLHpxorKyvLa0iakMEM-zgat5xRU03DgAlZWNM4FYElVe9Ru8he2xRReZfhcKnji_E1j0-twPx2P21isrYsNLUCYTp4tO8Norjjkb2kMJjlNi62XbC_4tJaX6f6BRWuoc_S4h0bA', 'expires_at': 1746894460, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890297, 'nbf': 1746890297, 'exp': 1746894197, 'name': 'user9 user9', 'nonce': 'eeca8b4dbfce74374d6462b8d4dc92d5', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'Gj_lIJIZOk6eVbCQA_VFAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:23:17,753] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890297, 'nbf': 1746890297, 'exp': 1746894197, 'name': 'user9 user9', 'nonce': 'eeca8b4dbfce74374d6462b8d4dc92d5', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'Gj_lIJIZOk6eVbCQA_VFAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:23:17,753] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:23:17,769] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:23:17,771] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:17] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_deqUnUlsSfqp7mR9y-_MXJznczwARXp5nlltS1vVzDI0KgrcSAOm0jbjQdlUI-y1e3TolaBqBqNicm6jJ31zXoPnRTLJVvyXcUV-uKFrw_dvfyspzPy_cclG7URzHOxG6i8IrDE8rXtESC_Ogbx1EtD89ODqwreANdarz2cCrgCFhs7_DC4k5wsIT1iIYlMxqfXNkxzFo97BbcsTvAt0Of2--7yi0sV6LnzHZmh4WOI6lX7sFzTIdGEIALzBWyiQJSqhyrotXb3YjGStXHvQa2tMkxUkjOgrURZe5ljojF-jVvwLBx-Ly9BgOxVmpy3oxLSPLVFsweob0TaqQzopsECdga2SA0ltjNwGPLBY99xJ21JX-t7FskLT-7HicLijYzc-FBMOO174t_7Zl05qMoXZX-GBtEPigXH596RNCeqo7plNdNyzkkuxasFSLUMQ7mBnhNGcm-jAIBEfMHT_BjqFL6y6YuDE9PE2R55kHBeq6n92qwdJdIR8z7YIj3lWtG_EMPjo1zhTEe-p8Y_rKI-i_9xsYohBnd01RtKScrG2NNnrdWwBO_Z2qP9JEj2g82yuH4XaHe0YLSnhZA7Cotv96YADpQgg2hA5bTI3EOSeCeXpXDH7OR_OyCpvMM92FL9AnlYuV1Grl1liHkri_BIfINtcHLSPtDknjvHxVQ9Wtwx42fEWbSvKwvl3ecOu6UTmPsYcHbNpp_3nxhQxK2qao7n9-zKnOubllg3XkU1KV8-IYIeQfPynD3tZothI4UdbDqHYKEKg5O2qQAzanA4RMdCssqnWP&state=VXPhfYfsH0UKi6QkL49T1TUMYexfFR&session_state=004dd9c9-6e40-a376-4a58-447da4a73644 HTTP/1.1[0m" 302 -
[2025-05-10 15:23:17,779] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:23:17,779] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:17] "GET / HTTP/1.1" 200 -
[2025-05-10 15:23:19,306] [DEBUG] [app] : !!!!!!!!!!!!!!-> ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyOTcsIm5iZiI6MTc0Njg5MDI5NywiZXhwIjoxNzQ2ODk0NDYxLCJhaW8iOiJBWVFBZS84WkFBQUF1NlpSL1pvWE92RUY3OWtueFhwYXE4aUdBVld2c1c3UXpkTmVqNVA2ajhSU29kNms3S1RtRjRrSWlPN3pqVjQybTBnemExNUpZRGNvNmwvRVhrVmcrWUFYVXlTZ2tsQVZOYjFpYitaZThwYklscm1XS1F0UUk4ZnJpZy95QmYvVS9Bd1I2c2VtVHNaQmFsMnJsN1BaNDR3cmJybDR4K2kwbUxXejJsaGJlTWM9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHal9sSUpJWk9rNmVWYkNRQV9WRkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.DcbIKtbKkIkjt3IDjUq737WA-8csqPRMdNJfgI-EMmKjhP65ZCXHsWdmuhqkDraZqaL4005DygIBNHvQThPI9DEW_Spxp9f1diWRyLP0PH1EGfxHs-oQfPTcSfdShZJFLi25rRobjGoeKi8IEt7kVfWO5TtWGbLd9HSplPRPE8iHrvvqYsTIt-iksgvpxchXVJvR962ANvOKoo2YNLYfbmTmhox1psHjUCnGRwkMhh1_GVr4pODz6tD3sfxCCthAc2AIapwSAY6behfIGhAnoiz7mFYfbLmbXMy1tLhnUBVpzWCUyqfr1Mv-FJzFLjjr9FgxMWb1AYg4Od3EFujsQA',)
[2025-05-10 15:23:19,307] [ERROR] [app] : Acces denegat token invalid: 'tuple' object has no attribute 'split'
[2025-05-10 15:23:19,307] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:19] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-05-10 15:23:19,313] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyOTcsIm5iZiI6MTc0Njg5MDI5NywiZXhwIjoxNzQ2ODk0MTk3LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVlY2E4YjRkYmZjZTc0Mzc0ZDY0NjJiOGQ0ZGM5MmQ1Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHal9sSUpJWk9rNmVWYkNRQV9WRkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.C9LulVXDz3jfGQsF1OiZP2ejsgsx4GllQDKmM4OkItMOb_HOKdWIY9GcLgG5VDXJMiHD-sq77aDf4tysMEc80JXAO9XuT5lGgcxcr9QvlofoDe-s7OaO0P1OiIOXEJxcNuKbu1HDZ0p2H5PiSy_M7RUH9VSvRUnCko8Xj5uPc92CDfd7Qd37quE0n3XUj4LBnCw8cEVh_vSKMYhLHpxorKyvLa0iakMEM-zgat5xRU03DgAlZWNM4FYElVe9Ru8he2xRReZfhcKnji_E1j0-twPx2P21isrYsNLUCYTp4tO8Norjjkb2kMJjlNi62XbC_4tJaX6f6BRWuoc_S4h0bA',)
[2025-05-10 15:23:19,313] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTAyOTcsIm5iZiI6MTc0Njg5MDI5NywiZXhwIjoxNzQ2ODk0MTk3LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImVlY2E4YjRkYmZjZTc0Mzc0ZDY0NjJiOGQ0ZGM5MmQ1Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHal9sSUpJWk9rNmVWYkNRQV9WRkFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.C9LulVXDz3jfGQsF1OiZP2ejsgsx4GllQDKmM4OkItMOb_HOKdWIY9GcLgG5VDXJMiHD-sq77aDf4tysMEc80JXAO9XuT5lGgcxcr9QvlofoDe-s7OaO0P1OiIOXEJxcNuKbu1HDZ0p2H5PiSy_M7RUH9VSvRUnCko8Xj5uPc92CDfd7Qd37quE0n3XUj4LBnCw8cEVh_vSKMYhLHpxorKyvLa0iakMEM-zgat5xRU03DgAlZWNM4FYElVe9Ru8he2xRReZfhcKnji_E1j0-twPx2P21isrYsNLUCYTp4tO8Norjjkb2kMJjlNi62XbC_4tJaX6f6BRWuoc_S4h0bA',)
[2025-05-10 15:23:19,314] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:23:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:26:52,719] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:26:52,719] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:26:58,100] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:26:58,105] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:26:58] "GET / HTTP/1.1" 200 -
[2025-05-10 15:26:59,265] [DEBUG] [app] : Asignem nonce a la sessio actual: 3dc625b0e06cd8e5a662df38e0a86aec
[2025-05-10 15:26:59,265] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:26:59,266] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:26:59,750] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 15:26:59,755] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:26:59] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:27:00,364] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:27:00,710] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:27:00,715] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:27:00,950] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 8092
[2025-05-10 15:27:00,957] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 5184, 'ext_expires_in': 5184, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA1MjAsIm5iZiI6MTc0Njg5MDUyMCwiZXhwIjoxNzQ2ODk2MDA1LCJhaW8iOiJBWVFBZS84WkFBQUFvUGc2OGF4SXVTeVRzM0k5M2RNeExnTkMzR2Vsa29ZTDdVTEYyWDJyQkU0a3ViMFJxY3BJK1FYSnhPclVEWE5JL0V1eW1ZQmJTbEw4ZEpGc09JazBVUTdudElpQkJybUpwbHNUdjNHUjFKK3FPQjUvREUrVGswWG50a2ZTdHZIejRCais2aVhBYitxVVRDM0ViNkIvbDVRQy92VlB2eCtuSHh0SmdoMXBPZ1E9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJjV2lLVHUwVlZraW1VOWZ4TkVRa0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.XeS4V0jWvmjcFx4Px6dWC9HooyV6jKrspCEnVqY2Ef7LyN4XWNLxVnC2KGH1BD4q8ziZ8hagRRmf9t6qEQGKYiiR8GqvWNC3-EdAb5UMCyYm2Vy98ZFrjZNMwBXfXpwqFXSm_S9okMZo45FgWT1AFqsKlUdaCRJFcDa0MIrPaiCj4u8zhcPJvw2SWARzpMI-f3c742hwp6Qr0kRq6wBcOkf8tNn2EsaZIN7JSfkG-MvawUMNhueC0gm57iwH8x-oJdBrRf0K2b40DJtZI7Dd2U4ez5NEc5vmxxVgfP--2oxwB16W4ebkJVvcyaX2s1sORmLS5-B9HPRljSt_FJLDLw', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA1MjAsIm5iZiI6MTc0Njg5MDUyMCwiZXhwIjoxNzQ2ODk0NDIwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjNkYzYyNWIwZTA2Y2Q4ZTVhNjYyZGYzOGUwYTg2YWVjIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJjV2lLVHUwVlZraW1VOWZ4TkVRa0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.XdXjJTXOtqJ3_IXqhxPX6TyPyf5B5VUHYceYdkNWdZimVzzP9lAB9ummYQ4oMWLsIKRPLpDqsxQ18OIW6Gtff18MD6EdoKJrYMXXcIR7MTM_box7n5LpLbYr-ic-8O4kkoQ_uOrkapVdQENPHjqYnNJzwlkmA7twjnIAhguP6iDcPTjjeDVtu2Qav1VRQiBQhAYxVa_cEWWqn1SUs7Df5dVozMgbZf3jJKZSsRMqn4lDOQJ7Fhhum1YaKs5x8bDS0U5xYbCRMaucGVgeZLftcB9EhdfeniVgVz9t92Vo-_JaI353J-JNxdz-_7IccZDmhs2lPWOL8w8FtI8YEx7zbA', 'expires_at': 1746896004, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746894420, 'name': 'user9 user9', 'nonce': '3dc625b0e06cd8e5a662df38e0a86aec', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:27:00,957] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746894420, 'name': 'user9 user9', 'nonce': '3dc625b0e06cd8e5a662df38e0a86aec', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:27:00,957] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:27:00,970] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:27:00,971] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:27:00] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_tL2rfKsMO1TkrXTjrSbh-c_XGu-xpWAa2c84ThrmEMuZR8btBW4sCreWi0PKQV9inghS_6vKuPZr2KWssz926m5BdJGK8ZlAsi6wn42MzNkAlSRmUvDQuIyqQy2rBr6ftytXkr8cOdF2eUndZ0hyC3O6bQkbii3JM444RAye4Y9amfiEeNIjtufyovMlAx5bmGfNl8UQYANtRrLqHvrP6VdQmUfdJkQE7fTh70GwqdICnh4wsPFMjUXBMCr-rQ3HjxIpRlhXZF9YU7nac_48Ylf7cvuuY3JsPb0skHfo5i9iyUQedO8mE8g9Ur6SnPIMzwCXgqtwrNCW2oZHE384H945O02tQrLsENGMi7yMw41EAyIxI6379LqG4CiDSgPbirh5iIU4ZaiD86RFCImkPrMPhHR6yRvM5FJvu6M7Nmcr6VSzhs8xGd7pgdx1cg08wnkbmFg65UaRAPwK8wJ8pXJC7EtmHSRRxVI7-Jv-JjEYpiU-Xs3dQ_8U_zqt0_rgfusKRWqPkMRHncgOHXU5r2RwqBmY7fPZeKJEss6jjECweqZA_V7ZpXDMttmqiEbBDJj4EVvN6B8kXizM1PleR_vmHnQLiEu9jREfZsNwh-7_thQuR-saL9eK9kB_aB3AYFIttD97c8IzFerE1Qxq_mm0JgrMzHkFaBEUJrv1_CmxY0hD3nb336Z--_Hbgsbe40SqiJFmlsReojzrWc6Z8kvNR3WR0rkW4-UTuL2JocfVdgG5qCQJGv7y0QmLnYKabJNCiZ6BlPBPEOVOMjxUGJ3g4rE2nPG4&state=uoqAv7CDWeCRnBJMedsu8nzOkhkkuX&session_state=004dd9c9-6e40-a376-4a58-447da4a73644 HTTP/1.1[0m" 302 -
[2025-05-10 15:27:00,978] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:27:00,978] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:27:00] "GET / HTTP/1.1" 200 -
[2025-05-10 15:27:04,583] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:27:04,585] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:27:04,588] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:27:04] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:27:12,232] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:27:12,232] [INFO] [app] : upduser user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:27:12,232] [INFO] [app] : NEW full_name: user9 user9A
[2025-05-10 15:27:12,232] [INFO] [app] : email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:27:12,235] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:27:12,513] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:27:12,514] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:27:12,950] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-10 15:27:12,952] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-10 15:27:12,955] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:27:13,309] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:27:13,316] [DEBUG] [app] : Update Entra ID user: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae, user9 user9A
[2025-05-10 15:27:13,317] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:27:13,670] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae HTTP/1.1" 204 0
[2025-05-10 15:27:13,672] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user9 user9A'}
[2025-05-10 15:27:13,682] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:27:14,749] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9user9@TFGPABLO.onmicrosoft.com HTTP/1.1" 404 None
[2025-05-10 15:27:14,754] [ERROR] [app] : Error obtenint usuari d'Okta: {"errorCode":"E0000007","errorSummary":"Not found: Resource not found: user9user9@TFGPABLO.onmicrosoft.com (User)","errorLink":"E0000007","errorId":"oaeXVy9ZfGrSoC_aQcdoc_N1w","errorCauses":[]}
[2025-05-10 15:27:14,757] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:27:14] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:27:14,764] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:27:14,765] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:27:14,767] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:27:14] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:29:43,958] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-10 15:29:43,958] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-10 15:29:56,188] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9A'}
[2025-05-10 15:29:56,193] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:29:56] "GET / HTTP/1.1" 200 -
[2025-05-10 15:29:57,219] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:29:57,234] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:29:57,239] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:29:57] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:30:01,544] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:30:01,545] [INFO] [app] : upduser user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9A'}
[2025-05-10 15:30:01,545] [INFO] [app] : NEW full_name: user9 user9
[2025-05-10 15:30:01,546] [INFO] [app] : email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:30:01,549] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:30:01,925] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:30:01,930] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:30:02,270] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-10 15:30:02,271] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-10 15:30:02,272] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:30:02,516] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:30:02,519] [DEBUG] [app] : Update Entra ID user: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae, user9 user9
[2025-05-10 15:30:02,521] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:30:02,871] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae HTTP/1.1" 204 0
[2025-05-10 15:30:02,872] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user9 user9'}
[2025-05-10 15:30:02,881] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:30:03,834] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users?search=profile.employeeNumber+eq+%220009X%22 HTTP/1.1" 200 None
[2025-05-10 15:30:03,836] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-10 15:30:03,837] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user9', 'lastName': 'user9', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9', 'employeeNumber': '0009X'}}
[2025-05-10 15:30:03,839] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:30:04,843] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7 HTTP/1.1" 200 None
[2025-05-10 15:30:04,845] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user9', 'lastName': 'user9', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9', 'employeeNumber': '0009X'}
[2025-05-10 15:30:04,854] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:04] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:30:04,862] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890520, 'nbf': 1746890520, 'exp': 1746896005, 'aio': 'AYQAe/8ZAAAAoPg68axIuSyTs3I93dMxLgNC3GelkoYL7ULF2X2rBE4kub0RqcpI+QXJxOrUDXNI/EuymYBbSlL8dJFsOIk0UQ7ntIiBBrmJplsTv3GR1J+qOB5/DE+Tk0XntkfStvHz4Bj+6iXAb+qUTC3Eb6B/l5QC/vVPvx+nHxtJgh1pOgQ=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-6e40-a376-4a58-447da4a73644', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'cWiKTu0VVkimU9fxNEQkAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:30:04,863] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:30:04,864] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:04] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:30:19,946] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA1MjAsIm5iZiI6MTc0Njg5MDUyMCwiZXhwIjoxNzQ2ODk0NDIwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjNkYzYyNWIwZTA2Y2Q4ZTVhNjYyZGYzOGUwYTg2YWVjIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJjV2lLVHUwVlZraW1VOWZ4TkVRa0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.XdXjJTXOtqJ3_IXqhxPX6TyPyf5B5VUHYceYdkNWdZimVzzP9lAB9ummYQ4oMWLsIKRPLpDqsxQ18OIW6Gtff18MD6EdoKJrYMXXcIR7MTM_box7n5LpLbYr-ic-8O4kkoQ_uOrkapVdQENPHjqYnNJzwlkmA7twjnIAhguP6iDcPTjjeDVtu2Qav1VRQiBQhAYxVa_cEWWqn1SUs7Df5dVozMgbZf3jJKZSsRMqn4lDOQJ7Fhhum1YaKs5x8bDS0U5xYbCRMaucGVgeZLftcB9EhdfeniVgVz9t92Vo-_JaI353J-JNxdz-_7IccZDmhs2lPWOL8w8FtI8YEx7zbA',)
[2025-05-10 15:30:19,946] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA1MjAsIm5iZiI6MTc0Njg5MDUyMCwiZXhwIjoxNzQ2ODk0NDIwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6IjNkYzYyNWIwZTA2Y2Q4ZTVhNjYyZGYzOGUwYTg2YWVjIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTZlNDAtYTM3Ni00YTU4LTQ0N2RhNGE3MzY0NCIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJjV2lLVHUwVlZraW1VOWZ4TkVRa0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.XdXjJTXOtqJ3_IXqhxPX6TyPyf5B5VUHYceYdkNWdZimVzzP9lAB9ummYQ4oMWLsIKRPLpDqsxQ18OIW6Gtff18MD6EdoKJrYMXXcIR7MTM_box7n5LpLbYr-ic-8O4kkoQ_uOrkapVdQENPHjqYnNJzwlkmA7twjnIAhguP6iDcPTjjeDVtu2Qav1VRQiBQhAYxVa_cEWWqn1SUs7Df5dVozMgbZf3jJKZSsRMqn4lDOQJ7Fhhum1YaKs5x8bDS0U5xYbCRMaucGVgeZLftcB9EhdfeniVgVz9t92Vo-_JaI353J-JNxdz-_7IccZDmhs2lPWOL8w8FtI8YEx7zbA',)
[2025-05-10 15:30:19,946] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:30:21,924] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:30:21,925] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:21] "GET /?sid=004dd9c9-6e40-a376-4a58-447da4a73644 HTTP/1.1" 200 -
[2025-05-10 15:30:27,969] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:30:27,969] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:27] "GET / HTTP/1.1" 200 -
[2025-05-10 15:30:41,722] [DEBUG] [app] : Asignem nonce a la sessio actual: abb13f98ee8ca90a69d42b4efc459ed9
[2025-05-10 15:30:41,722] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-10 15:30:41,723] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:30:42,475] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-10 15:30:42,476] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:30:42] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-10 15:31:04,715] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:05,751] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-05-10 15:31:05,752] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:06,711] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-05-10 15:31:06,716] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZaUkxUMG16ZUdtRlhzRFk4cUhaTDc5QkM5V1JKRF9kMDdqLU9vWEVvSTAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDY4OTEwNjUsImV4cCI6MTc0Njg5NDY2NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ2ODkxMDYzLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.b4ggrr8EQ9SSWuQXxx6T6-TMnubF_RsBmLsonMQ1obGWvB8_U5XHMVQsLcEM7BH_zc-pqVTymT3Q89H3OQEivn-DNpCe9vHlDSu08vvTJIlbLdKvOILGSXVdBvSQxtvTDn30bOAw6vwHXbS-ALvqJF8nahvoPMi6sh8MDh7M9BET0ErfTOozSXl1A0be4qpu46zS6-IcA26CIdC3Xz2AeesC8pye_su871I2WxIU9SxC7QxQVsfX-ZFDYwpVaBMw7koaA0vfVIcjIR8Ve-20dYplnNjc-pRncGZzjMGa8MvLM54e-FkqCAopZmLfs2jGCG6kuljCWS69FrAjvgf2QQ', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4OTEwNjUsImV4cCI6MTc0Njg5NDY2NSwianRpIjoiSUQuVVZNZE5zU0EteWdOTUpwWUNNenRESV91U2dIbThhLXVxa2dBdi1yM3RDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImFiYjEzZjk4ZWU4Y2E5MGE2OWQ0MmI0ZWZjNDU5ZWQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4OTEwNjMsImF0X2hhc2giOiJTbWxvV2RnajFvc0RTZ01ONWhNODZnIiwiZWlkIjoiMDAwMVkifQ.C765KH3__N0xJhUM5NtWbuf6T8XyWlL9D5gHvl_iauFDFwDA1JaP_EAgV_3iYgx3IaHLtG99Mv0WwJABKm5UPZQ3dfQ-wMd1HfcmPRDADoBUvLl8f7T2H2PCIOjiBSAshPey-jKADJVwv_zXNwBQIpZG1NZ5bmCHNiu24jnY6cl9ofk-34YGFU0NIfU_yRndCVp0P2HdwVrEsz4eSyoqnrfv_ETTpqP7iLDvo_nW6rRAZhyQraoslkkoNlCU0Bgw8L1T9H74GnFERLCnoVdHk6zbXBY9JDqPzO_VNG2Is2mGRF3IPSl8WUn9mFh9uaBnWF2UXl4e77bbRbcHVmK5Mg', 'expires_at': 1746894665, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746891065, 'exp': 1746894665, 'jti': 'ID.UVMdNsSA-ygNMJpYCMztDI_uSgHm8a-uqkgAv-r3tCo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'abb13f98ee8ca90a69d42b4efc459ed9', 'preferred_username': 'user1@test.com', 'auth_time': 1746891063, 'at_hash': 'SmloWdgj1osDSgMN5hM86g', 'eid': '0001Y'}}
[2025-05-10 15:31:06,717] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1746891065, 'exp': 1746894665, 'jti': 'ID.UVMdNsSA-ygNMJpYCMztDI_uSgHm8a-uqkgAv-r3tCo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'abb13f98ee8ca90a69d42b4efc459ed9', 'preferred_username': 'user1@test.com', 'auth_time': 1746891063, 'at_hash': 'SmloWdgj1osDSgMN5hM86g', 'eid': '0001Y'}
[2025-05-10 15:31:06,717] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com, eid: 0001Y
[2025-05-10 15:31:06,718] [DEBUG] [app] : User trobat in db: user1@test.com
[2025-05-10 15:31:06,720] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:06] "[32mGET /auth/callback?code=4Ta-MeqwouMYU5bN_ACU7WkFWguGEKOuueoIazWpjws&state=1icD4kdiFASUgSRYrzQ2e0GL6Vp12y HTTP/1.1[0m" 302 -
[2025-05-10 15:31:06,728] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:31:06,728] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:06] "GET / HTTP/1.1" 200 -
[2025-05-10 15:31:08,340] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.FZRLT0mzeGmFXsDY8qHZL79BC9WRJD_d07j-OoXEoI0', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746891065, 'exp': 1746894665, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746891063, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:31:08,342] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:31:08,343] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:08] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:31:12,301] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.FZRLT0mzeGmFXsDY8qHZL79BC9WRJD_d07j-OoXEoI0', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746891065, 'exp': 1746894665, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746891063, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:31:12,302] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:31:12,302] [INFO] [app] : NEW full_name: user1 user1ABC
[2025-05-10 15:31:12,302] [INFO] [app] : email: user1@test.com
[2025-05-10 15:31:12,304] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:12,591] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:31:12,593] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:12,831] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:31:12,832] [DEBUG] [app] : Id de l'usuari: 2c5dc63d-528e-4631-b2c0-06e1750acc56
[2025-05-10 15:31:12,835] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:13,190] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:31:13,191] [DEBUG] [app] : Update Entra ID user: 2c5dc63d-528e-4631-b2c0-06e1750acc56, user1 user1ABC
[2025-05-10 15:31:13,192] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:13,476] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/2c5dc63d-528e-4631-b2c0-06e1750acc56 HTTP/1.1" 204 0
[2025-05-10 15:31:13,477] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user1 user1ABC'}
[2025-05-10 15:31:13,481] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:14,512] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:31:14,515] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:31:14,516] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1ABC', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1ABC', 'employeeNumber': '0001Y'}}
[2025-05-10 15:31:14,519] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:15,591] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:31:15,591] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1ABC', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1ABC', 'employeeNumber': '0001Y'}
[2025-05-10 15:31:15,597] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:15] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:31:15,606] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.FZRLT0mzeGmFXsDY8qHZL79BC9WRJD_d07j-OoXEoI0', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746891065, 'exp': 1746894665, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746891063, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:31:15,609] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:31:15,610] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:15] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:31:23,469] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.FZRLT0mzeGmFXsDY8qHZL79BC9WRJD_d07j-OoXEoI0', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746891065, 'exp': 1746894665, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746891063, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:31:23,469] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1ABC'}
[2025-05-10 15:31:23,469] [INFO] [app] : NEW full_name: user1 user1
[2025-05-10 15:31:23,470] [INFO] [app] : email: user1@test.com
[2025-05-10 15:31:23,472] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:23,798] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:31:23,799] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:24,113] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270001Y%27 HTTP/1.1" 200 None
[2025-05-10 15:31:24,113] [DEBUG] [app] : Id de l'usuari: 2c5dc63d-528e-4631-b2c0-06e1750acc56
[2025-05-10 15:31:24,114] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:24,395] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:31:24,397] [DEBUG] [app] : Update Entra ID user: 2c5dc63d-528e-4631-b2c0-06e1750acc56, user1 user1
[2025-05-10 15:31:24,399] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:24,732] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/2c5dc63d-528e-4631-b2c0-06e1750acc56 HTTP/1.1" 204 0
[2025-05-10 15:31:24,732] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user1 user1'}
[2025-05-10 15:31:24,736] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:25,671] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-05-10 15:31:25,672] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-05-10 15:31:25,672] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-05-10 15:31:25,673] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:31:26,756] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-05-10 15:31:26,756] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-05-10 15:31:26,761] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:26] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:31:26,771] [DEBUG] [app] : decoded OKTA jwt: {'ver': 1, 'jti': 'AT.FZRLT0mzeGmFXsDY8qHZL79BC9WRJD_d07j-OoXEoI0', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1746891065, 'exp': 1746894665, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umy3we739nPIr835d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1746891063, 'sub': 'user1@test.com', 'eid': '0001Y'}
[2025-05-10 15:31:26,773] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-05-10 15:31:26,774] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:26] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:31:34,199] [INFO] [app] : Usuari autenticat {'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-05-10 15:31:34,199] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:34] "GET / HTTP/1.1" 200 -
[2025-05-10 15:31:35,228] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4OTEwNjUsImV4cCI6MTc0Njg5NDY2NSwianRpIjoiSUQuVVZNZE5zU0EteWdOTUpwWUNNenRESV91U2dIbThhLXVxa2dBdi1yM3RDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImFiYjEzZjk4ZWU4Y2E5MGE2OWQ0MmI0ZWZjNDU5ZWQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4OTEwNjMsImF0X2hhc2giOiJTbWxvV2RnajFvc0RTZ01ONWhNODZnIiwiZWlkIjoiMDAwMVkifQ.C765KH3__N0xJhUM5NtWbuf6T8XyWlL9D5gHvl_iauFDFwDA1JaP_EAgV_3iYgx3IaHLtG99Mv0WwJABKm5UPZQ3dfQ-wMd1HfcmPRDADoBUvLl8f7T2H2PCIOjiBSAshPey-jKADJVwv_zXNwBQIpZG1NZ5bmCHNiu24jnY6cl9ofk-34YGFU0NIfU_yRndCVp0P2HdwVrEsz4eSyoqnrfv_ETTpqP7iLDvo_nW6rRAZhyQraoslkkoNlCU0Bgw8L1T9H74GnFERLCnoVdHk6zbXBY9JDqPzO_VNG2Is2mGRF3IPSl8WUn9mFh9uaBnWF2UXl4e77bbRbcHVmK5Mg
[2025-05-10 15:31:35,228] [DEBUG] [app] : Logout url de okta: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJrSHhLVklZNXphdEhmeWE2M3V2TEhISHZzdTZaY2dtSHB1VHRINS1kUzc0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDY4OTEwNjUsImV4cCI6MTc0Njg5NDY2NSwianRpIjoiSUQuVVZNZE5zU0EteWdOTUpwWUNNenRESV91U2dIbThhLXVxa2dBdi1yM3RDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImFiYjEzZjk4ZWU4Y2E5MGE2OWQ0MmI0ZWZjNDU5ZWQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDY4OTEwNjMsImF0X2hhc2giOiJTbWxvV2RnajFvc0RTZ01ONWhNODZnIiwiZWlkIjoiMDAwMVkifQ.C765KH3__N0xJhUM5NtWbuf6T8XyWlL9D5gHvl_iauFDFwDA1JaP_EAgV_3iYgx3IaHLtG99Mv0WwJABKm5UPZQ3dfQ-wMd1HfcmPRDADoBUvLl8f7T2H2PCIOjiBSAshPey-jKADJVwv_zXNwBQIpZG1NZ5bmCHNiu24jnY6cl9ofk-34YGFU0NIfU_yRndCVp0P2HdwVrEsz4eSyoqnrfv_ETTpqP7iLDvo_nW6rRAZhyQraoslkkoNlCU0Bgw8L1T9H74GnFERLCnoVdHk6zbXBY9JDqPzO_VNG2Is2mGRF3IPSl8WUn9mFh9uaBnWF2UXl4e77bbRbcHVmK5Mg
[2025-05-10 15:31:35,228] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:35] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:31:35,956] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:31:35,956] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:35] "GET / HTTP/1.1" 200 -
[2025-05-10 15:31:37,524] [DEBUG] [app] : Asignem nonce a la sessio actual: aa6b89bfc2570714058f258fd4a2435f
[2025-05-10 15:31:37,524] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-10 15:31:37,525] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:38,048] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-10 15:31:38,052] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:38] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-10 15:31:45,992] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:46,436] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-10 15:31:46,440] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:46,917] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 8092
[2025-05-10 15:31:46,919] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3773, 'ext_expires_in': 3773, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA4MDYsIm5iZiI6MTc0Njg5MDgwNiwiZXhwIjoxNzQ2ODk0ODgwLCJhaW8iOiJBWVFBZS84WkFBQUF4MktvOWFLcmo3UGNwbUVPRStIeXYzM0t6SFo0OThpR0ZjcjE5MFd6Y1orOFdHMXgxNkZRWmtBdTc2QmtGbmtIZ0hLK0Jrbmd5TjdYSWpSYTBiMTVLZFhJUHZPT0NXN0cvSHFab1kxUThoa0dpQ3NSNHZrNW5DY0FHd1FBd1dodVRXdEJSUWNTYlJzc3hlRmF2WWlVNUFIUkFFQktHUkhiM3V4d2xJOTd5d2c9IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGRkOWM5LTI2ZTgtMmJiMS1kNThmLTgyNDFmZDliNTM1YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJXOTJIcTh5M01rYXY2VU1KT0k0MEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.Ufz4Sc-TAyPoKSte7M5MKnbdqI2APc6yNVn_ex0eHsVvOo7AdWh2fFPNWflMkYqbfFqf3A6qhiiaFZcwP20Rx_T5qqO3vBvlVOUyK592BSPgJ7E2Q4evUpCNskyWdV63PxhixrM-km5lzk2cSF9z71EEKxle-DuNGSyFYgEjrtIz3InLNhVmLEezHV9aiiuHdRmB8y2iMQExnKzD3225BFfCio8vGdwN1qqFkrmFkL9ITzmqYlkHjgKOCL7V7dsBN35EQTgIIRJ7H8or0bFs8wJ-Al8owkhW2KZKvJ4do71aWUC1_tk0thYgkuo9wXZjef1YQdXDX2dIv6GHbIjcvQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA4MDYsIm5iZiI6MTc0Njg5MDgwNiwiZXhwIjoxNzQ2ODk0NzA2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFhNmI4OWJmYzI1NzA3MTQwNThmMjU4ZmQ0YTI0MzVmIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTI2ZTgtMmJiMS1kNThmLTgyNDFmZDliNTM1YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJXOTJIcTh5M01rYXY2VU1KT0k0MEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QEgFOkdA9hUoNri93avRaKJW406llDds0PyRmlCFZRkuoREhU4IoJkTCifY6us0q0mekIz5YsLe-lBURBWHSuydPHrfDLURdUHNZ-DRb7fSzWcsMjatqleeaqlXcAJeHL_ER-Kxv6AOM-sVHffExpTUJddCv7_stxrbIcz8Q1S9N275pamXk7jJcmUdBjgagjW6EDR93m9HASPmflN4szOXFbXsKlqay0REiLDTIyA03vt1CBrRQkhBjW-NVwyDwOv3Ah8HGrdvCjRlRKAl_Wk8dUtPHEkIvJC2oYP0-nw_-Zys0ZVFjYoHuJO6JrXpuyGs8F-Fsb1FyzRVy_5LZGQ', 'expires_at': 1746894879, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894706, 'name': 'user9 user9', 'nonce': 'aa6b89bfc2570714058f258fd4a2435f', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-10 15:31:46,920] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894706, 'name': 'user9 user9', 'nonce': 'aa6b89bfc2570714058f258fd4a2435f', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:31:46,920] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-10 15:31:46,922] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:31:46,923] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:46] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-CuCADaNPSFswOfs1xcTqvshsmoB__vzAho-HPVwSLM2bCBye9yukM2NbJL-R1cQL-5xGxv_SL_tgRKfXDVqNp-xgBuzJrupWJowynRL6YBmTjkXlWkO-X3Eklz9_08jVFNy7acbxWpjhV1WA7rh_ks2dKba3MJmyHeyjcbAiUcSHphocwrrIefnlE-osIaGZoLnhzaTGYYUuoAgQb2WfFDmllJYmUb-TRzfZJVwQhOeErhLY57Br2PFFM-GSKGfrMcjDGyn4Nh9fynz4sLCHiARfA3PhB52rvhH_DOFvC87IFSVb9BfsFknQMa_tWMAFtX91lGKKXytEQqonH3mwJ_HelJ45_ISky2DjHw64cJAcLMnnrwjBto3K-8U5zRKdtJ1zqBvQZabjBmuOMuY8L74oXz83p3K29RUZacRbU7l63Pqx0NXSayza-uS-j2zhyzBR4lsIf-HBITbsRdDGEPfuVEp7oOk3q7hgWpN49qO__sEiuZmI09xz5zPeq0OcZEzt6m9OOVtbSTAaF26Nxwg9jG32pE1_04JPJW13qwPUDU0L9d4W4mh2ZZKI8U2MR2szQydAif5uvGRtgXmwMYGmBvGkVTH706vs5ahjLf-gfN2FRzu5nWzRO3lNCWeh_odngQO3cqK5WQeuV3A0LLu3ECAh_FH49n0TEp0k7CYRV0dpMgzHqBnqBCVcEGkH02psCFZMmJoMYWsVR1EmjD704rGJ-RhQhvvjIRRF5p7nmiolPA332hghfDX5zX-UjpwTsKXosULGAGN-UGITxW8uzbiqI4stU&state=qbFTAKCdDjBNNlmadV1NO74mL2cFAn&session_state=004dd9c9-26e8-2bb1-d58f-8241fd9b535a HTTP/1.1[0m" 302 -
[2025-05-10 15:31:46,931] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:31:46,931] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:46] "GET / HTTP/1.1" 200 -
[2025-05-10 15:31:50,881] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894880, 'aio': 'AYQAe/8ZAAAAx2Ko9aKrj7PcpmEOE+Hyv33KzHZ498iGFcr190WzcZ+8WG1x16FQZkAu76BkFnkHgHK+BkngyN7XIjRa0b15KdXIPvOOCW7G/HqZoY1Q8hkGiCsR4vk5nCcAGwQAwWhuTWtBRQcSbRssxeFavYiU5AHRAEBKGRHb3uxwlI97ywg=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:31:50,882] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:31:50,883] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:31:50] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:31:57,466] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894880, 'aio': 'AYQAe/8ZAAAAx2Ko9aKrj7PcpmEOE+Hyv33KzHZ498iGFcr190WzcZ+8WG1x16FQZkAu76BkFnkHgHK+BkngyN7XIjRa0b15KdXIPvOOCW7G/HqZoY1Q8hkGiCsR4vk5nCcAGwQAwWhuTWtBRQcSbRssxeFavYiU5AHRAEBKGRHb3uxwlI97ywg=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:31:57,466] [INFO] [app] : upduser user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-10 15:31:57,466] [INFO] [app] : NEW full_name: user9 user9Abb
[2025-05-10 15:31:57,466] [INFO] [app] : email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:31:57,469] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:58,073] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:31:58,074] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:58,311] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-10 15:31:58,311] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-10 15:31:58,312] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:31:58,911] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:31:58,912] [DEBUG] [app] : Update Entra ID user: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae, user9 user9Abb
[2025-05-10 15:31:58,913] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:31:59,203] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae HTTP/1.1" 204 0
[2025-05-10 15:31:59,203] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user9 user9Abb'}
[2025-05-10 15:31:59,206] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:32:00,232] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users?search=profile.employeeNumber+eq+%220009X%22 HTTP/1.1" 200 None
[2025-05-10 15:32:00,233] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-10 15:32:00,233] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user9', 'lastName': 'user9Abb', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9Abb', 'employeeNumber': '0009X'}}
[2025-05-10 15:32:00,234] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:32:01,195] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7 HTTP/1.1" 200 None
[2025-05-10 15:32:01,196] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user9', 'lastName': 'user9Abb', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9Abb', 'employeeNumber': '0009X'}
[2025-05-10 15:32:01,201] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:01] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:32:01,210] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894880, 'aio': 'AYQAe/8ZAAAAx2Ko9aKrj7PcpmEOE+Hyv33KzHZ498iGFcr190WzcZ+8WG1x16FQZkAu76BkFnkHgHK+BkngyN7XIjRa0b15KdXIPvOOCW7G/HqZoY1Q8hkGiCsR4vk5nCcAGwQAwWhuTWtBRQcSbRssxeFavYiU5AHRAEBKGRHb3uxwlI97ywg=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:32:01,212] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:32:01,213] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:01] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:32:06,034] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894880, 'aio': 'AYQAe/8ZAAAAx2Ko9aKrj7PcpmEOE+Hyv33KzHZ498iGFcr190WzcZ+8WG1x16FQZkAu76BkFnkHgHK+BkngyN7XIjRa0b15KdXIPvOOCW7G/HqZoY1Q8hkGiCsR4vk5nCcAGwQAwWhuTWtBRQcSbRssxeFavYiU5AHRAEBKGRHb3uxwlI97ywg=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:32:06,034] [INFO] [app] : upduser user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9Abb'}
[2025-05-10 15:32:06,035] [INFO] [app] : NEW full_name: user9 user9
[2025-05-10 15:32:06,035] [INFO] [app] : email: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-10 15:32:06,038] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:32:06,592] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-10 15:32:06,597] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:32:06,845] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-10 15:32:06,845] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-10 15:32:06,846] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-10 15:32:07,431] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-10 15:32:07,433] [DEBUG] [app] : Update Entra ID user: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae, user9 user9
[2025-05-10 15:32:07,434] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-10 15:32:07,791] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "PATCH /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae HTTP/1.1" 204 0
[2025-05-10 15:32:07,792] [INFO] [app] : Perfil Entra ID actualitzar correctament: {'displayName': 'user9 user9'}
[2025-05-10 15:32:07,796] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:32:08,753] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users?search=profile.employeeNumber+eq+%220009X%22 HTTP/1.1" 200 None
[2025-05-10 15:32:08,755] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-10 15:32:08,755] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'user9', 'lastName': 'user9', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9', 'employeeNumber': '0009X'}}
[2025-05-10 15:32:08,756] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-10 15:32:09,715] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7 HTTP/1.1" 200 None
[2025-05-10 15:32:09,717] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user9', 'lastName': 'user9', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'login': 'user9user9@TFGPABLO.onmicrosoft.com', 'displayName': 'user9 user9', 'employeeNumber': '0009X'}
[2025-05-10 15:32:09,723] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:09] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-05-10 15:32:09,730] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1746890806, 'nbf': 1746890806, 'exp': 1746894880, 'aio': 'AYQAe/8ZAAAAx2Ko9aKrj7PcpmEOE+Hyv33KzHZ498iGFcr190WzcZ+8WG1x16FQZkAu76BkFnkHgHK+BkngyN7XIjRa0b15KdXIPvOOCW7G/HqZoY1Q8hkGiCsR4vk5nCcAGwQAwWhuTWtBRQcSbRssxeFavYiU5AHRAEBKGRHb3uxwlI97ywg=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004dd9c9-26e8-2bb1-d58f-8241fd9b535a', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'W92Hq8y3Mkav6UMJOI40AA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-10 15:32:09,731] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-10 15:32:09,732] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:09] "GET /profile HTTP/1.1" 200 -
[2025-05-10 15:32:15,944] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA4MDYsIm5iZiI6MTc0Njg5MDgwNiwiZXhwIjoxNzQ2ODk0NzA2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFhNmI4OWJmYzI1NzA3MTQwNThmMjU4ZmQ0YTI0MzVmIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTI2ZTgtMmJiMS1kNThmLTgyNDFmZDliNTM1YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJXOTJIcTh5M01rYXY2VU1KT0k0MEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QEgFOkdA9hUoNri93avRaKJW406llDds0PyRmlCFZRkuoREhU4IoJkTCifY6us0q0mekIz5YsLe-lBURBWHSuydPHrfDLURdUHNZ-DRb7fSzWcsMjatqleeaqlXcAJeHL_ER-Kxv6AOM-sVHffExpTUJddCv7_stxrbIcz8Q1S9N275pamXk7jJcmUdBjgagjW6EDR93m9HASPmflN4szOXFbXsKlqay0REiLDTIyA03vt1CBrRQkhBjW-NVwyDwOv3Ah8HGrdvCjRlRKAl_Wk8dUtPHEkIvJC2oYP0-nw_-Zys0ZVFjYoHuJO6JrXpuyGs8F-Fsb1FyzRVy_5LZGQ',)
[2025-05-10 15:32:15,945] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDY4OTA4MDYsIm5iZiI6MTc0Njg5MDgwNiwiZXhwIjoxNzQ2ODk0NzA2LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFhNmI4OWJmYzI1NzA3MTQwNThmMjU4ZmQ0YTI0MzVmIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGRkOWM5LTI2ZTgtMmJiMS1kNThmLTgyNDFmZDliNTM1YSIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJXOTJIcTh5M01rYXY2VU1KT0k0MEFBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QEgFOkdA9hUoNri93avRaKJW406llDds0PyRmlCFZRkuoREhU4IoJkTCifY6us0q0mekIz5YsLe-lBURBWHSuydPHrfDLURdUHNZ-DRb7fSzWcsMjatqleeaqlXcAJeHL_ER-Kxv6AOM-sVHffExpTUJddCv7_stxrbIcz8Q1S9N275pamXk7jJcmUdBjgagjW6EDR93m9HASPmflN4szOXFbXsKlqay0REiLDTIyA03vt1CBrRQkhBjW-NVwyDwOv3Ah8HGrdvCjRlRKAl_Wk8dUtPHEkIvJC2oYP0-nw_-Zys0ZVFjYoHuJO6JrXpuyGs8F-Fsb1FyzRVy_5LZGQ',)
[2025-05-10 15:32:15,945] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:15] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-10 15:32:17,983] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:32:17,984] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:17] "GET /?sid=004dd9c9-26e8-2bb1-d58f-8241fd9b535a HTTP/1.1" 200 -
[2025-05-10 15:32:24,020] [INFO] [app] : Usuari no autenticat
[2025-05-10 15:32:24,021] [INFO] [werkzeug] : 192.168.1.36 - - [10/May/2025 15:32:24] "GET / HTTP/1.1" 200 -
[2025-05-12 16:52:41,835] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 16:52:41,836] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 17:24:16,332] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 17:24:16,332] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 17:24:21,618] [INFO] [app] : Usuari no autenticat
[2025-05-12 17:24:21,621] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:21] "GET / HTTP/1.1" 200 -
[2025-05-12 17:24:21,904] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-12 17:24:24,773] [DEBUG] [app] : Asignem nonce a la sessio actual: db62748c356ee0667bcbc2f9d529434c
[2025-05-12 17:24:24,773] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-12 17:24:24,775] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:24:25,050] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-12 17:24:25,053] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:25] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-12 17:24:39,230] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:24:39,571] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2930
[2025-05-12 17:24:39,572] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:24:39,810] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 8092
[2025-05-12 17:24:39,827] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 3621, 'ext_expires_in': 3621, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcwNzAzNzksIm5iZiI6MTc0NzA3MDM3OSwiZXhwIjoxNzQ3MDc0MzAxLCJhaW8iOiJBWVFBZS84WkFBQUF1NlpSL1pvWE92RUY3OWtueFhwYXE2dCtqd1hacjVldW9CMURWem85QmxQci9jVVNGaXdmKzJxR0VWZ1BuRXltNGMxTDlxWTR2RDlHOHVJaHlYMDhHdmpwWkx4dUtyWGsybEU4WmlrY1lMOEZrMDJ4bHVpZ1RGTC9rODg0SDY2OTExVjlhQ3U2cjhBMEJ2WWtyeXQ2VFNob1lIR3pRclJQZWFaTENaUlRNSm89IiwiYXpwIjoiNTFiMzcwNzUtOTI1YS00MWVjLWJmNjYtNzEyYmYzYWIyYzJiIiwiYXpwYWNyIjoiMSIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsIm9pZCI6IjNhNWJkZjEwLTVjZjAtNDlhZS04ZmM0LWQ1N2E4MjEyNzBhZSIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXI5dXNlcjlAVEZHUEFCTE8ub25taWNyb3NvZnQuY29tIiwicmgiOiIxLkFVNEEta2dlSHVzb0RFMmplQWZ3bkwxeDQzVndzMUZha3V4QnYyWnhLX09yTENzV0FYaE9BQS4iLCJzY3AiOiJteUFwcC1zY29wZSIsInNpZCI6IjAwNGUyN2U5LTEwMWYtMzA0Mi0zYmU1LTQwNmFkODg1MmNjMiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiI2Mmp4VDBRM2drZWF5OXRJSlA0Q0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.QTuaRPQE1yrKWkcG_pvg6KZK_jfLwcXfCJ4onwWB6ICNDJzdyIUNSSn1eyqKeV5Gbty3Buw9euhT1simYZX_i5fO-GCrT4MY_LZwxFp8HyqhY5EfMjkaveBKOt5R0QKy-nfwYd31WbMXr_HMuQlb7NZtfUDOTQWJVebni76fFaVIWcS8Zj-jVjro9-6afSE8oqNmcab6liXiwB1zmAIKUIAgO43_ZmTfLO4poT7FyeVYdvoytwLO8giMXuJGuvfjl0D3qif3sL5T4uMqG-XEw4qDiV4etqGJCOwGmezrmrvlUCAyfrRhBol6oPzYL0RUZqvG7jDb0NGH_HEasuy56A', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcwNzAzNzksIm5iZiI6MTc0NzA3MDM3OSwiZXhwIjoxNzQ3MDc0Mjc5LCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImRiNjI3NDhjMzU2ZWUwNjY3YmNiYzJmOWQ1Mjk0MzRjIiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGUyN2U5LTEwMWYtMzA0Mi0zYmU1LTQwNmFkODg1MmNjMiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiI2Mmp4VDBRM2drZWF5OXRJSlA0Q0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.IBees_UF3LUJC9ZdiiiOPJQg67qXpwxV5ZqyQBXrCT9ELUgxMhfzPq3QLV5EGAIvt7zZCvaDxe3qNiYuV9lM2IRXdKB9MmETh_w1cdgVt6gUgBnfZK-EaLa4hcm6zLEnXKZ5ukwMf2I_kYKFL70z4r1stG7ak9MzuMDig_yN7Bda603bVDYMGvM3L6tvkpAbG9teKpqj2PCIGsgWfw4szjv8M1uPZSw9UBtpEp-pS9e79sN_GXLymPyjgQKJ-vHVJ5XOsgzuV7x5TqSJOjFFMrIIUlj8xIt5mBmspaPuxWbuT6ljxSZ8uoCtuY4ZPQTDR0DUXNstGjC_HRdP0n-FLA', 'expires_at': 1747074300, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074279, 'name': 'user9 user9', 'nonce': 'db62748c356ee0667bcbc2f9d529434c', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-12 17:24:39,828] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074279, 'name': 'user9 user9', 'nonce': 'db62748c356ee0667bcbc2f9d529434c', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:24:39,828] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-12 17:24:39,871] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-12 17:24:39,871] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:39] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAbhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P_l7RQqO4U8hMSM8mjs9r1MeHOgSil-p0YOp4uaa20UYdRclyqnMzH8sttliiNFdxA-HzGiARUQk4u3LRmTXzZ02dEdY-QhSircdVDsL6Xtz-X4FlyxY1JfyyJh-UXZJWPS8DXaaBdjEbFI66oiWcLtca0rniE4q0UMejnxh03ctBzhlvt_LrgAbyZPjwWIwPK4jZJSv0CCv3ko73QlRMbo96s9OaYyPXtD6CFbz4pvAA7WTcEddWNlqnMJCtxMhl-rVoH9noB9-vrVxKeZ75vTmx3E_0jjBg0nP6wtZxJGbgTPk_WZgaTNoFwv_YgVGbY3VfXnMXIAjvQnhw5Uj4VBW8rh99DLPU-fElLb_V7EdQgEEWXXI7LZVt2uAAsPBShWPA9VjG55kjs0JlJPFHs0CHHHdAnXW0dz7oAB-AwRMor-by_bFGTxTcgYLD7wEMlfP6xuRivdCLTHXb-qZsBzMGQMqlVE_dozJqL3a1o8j41l4XtBNBYoLfioOcUJflMk2H893s8fJ7PgH6WUrK_mpoPPSexsfD8uZw-UdZ6jpSTlWPCuOn3AAcpZwlTIqYYczpSaewOfAJv2Opj0u3Qy1P7iqRR5AhnbBIaBho2E7cPKgdYrypGENJyPIyPZ5Eor2Z3fL5CuoywB1m_ietyKB4gHbepDgK-fSo2RFiQGyCXIBz-hY9V0VuLzI7Dik1T325hZv-xxsAdNgA2wMZ0qHgMbJ5gCy7iEuNHUcinmCbOopJstnuaxaHl7aCjRGt1urIdyNw_BpQqU-8ES4ufmx_e-UGgq4gzXj20&state=hb6C7Jv1CBAbLOlx5FKJUYrJuJJYFa&session_state=004e27e9-101f-3042-3be5-406ad8852cc2 HTTP/1.1[0m" 302 -
[2025-05-12 17:24:39,877] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:24:39,877] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:39] "GET / HTTP/1.1" 200 -
[2025-05-12 17:24:41,387] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:24:41,389] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:24:41,392] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:41] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:24:43,586] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:24:43] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:25:43,043] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:25:43,043] [INFO] [app] : chpwd user:None
[2025-05-12 17:25:43,044] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:25:43] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:25:43,090] [DEBUG] [app] : Asignem nonce a la sessio actual: 09dcc56dd010a9df22c365b8a49c2d44
[2025-05-12 17:25:43,091] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/callback
[2025-05-12 17:25:43,091] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-12 17:25:44,011] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-05-12 17:25:44,014] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:25:44] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-05-12 17:30:03,332] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 17:30:03,332] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 17:30:12,651] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:30:12,655] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:30:12] "GET / HTTP/1.1" 200 -
[2025-05-12 17:30:18,249] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:30:18,262] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:30:18,265] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:30:18] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:30:19,713] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:30:19] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:30:40,050] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:30:40,050] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:30:40,052] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-12 17:30:41,181] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users?search=profile.employeeNumber+eq+%220009X%22 HTTP/1.1" 200 None
[2025-05-12 17:30:41,183] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-05-12 17:30:41,185] [DEBUG] [app] : pwd:1P2r3u4e5b6a!
[2025-05-12 17:30:41,185] [DEBUG] [app] : newpwd:Prueba123!Test123!
[2025-05-12 17:30:41,186] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-05-12 17:30:42,326] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 403 None
[2025-05-12 17:30:42,327] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeGmdrIEXCTyGFS7-qnU69Lw","errorCauses":[{"errorSummary":"Old Password is not correct"}]}
[2025-05-12 17:30:42,327] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:30:42,686] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-12 17:30:42,689] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:30:43,047] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 17:30:43,047] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 17:30:43,047] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 17:30:43,047] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 17:30:43,048] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:30:43,317] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:30:43,320] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:30:43,647] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 17:30:43,648] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T17:30:43","request-id":"046c3e3d-7e42-4865-a7b9-4900b6f22ca4","client-request-id":"046c3e3d-7e42-4865-a7b9-4900b6f22ca4"}}}
[2025-05-12 17:30:43,651] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:30:43] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:30:43,658] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:30:43,660] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:30:43,661] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:30:43] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:37:41,434] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 17:37:41,434] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 17:37:47,106] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:37:47,110] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:37:47] "GET / HTTP/1.1" 200 -
[2025-05-12 17:37:48,311] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:37:48,324] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:37:48,327] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:37:48] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:37:50,886] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:37:50] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:38:11,646] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:38:11,646] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:38:11,648] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:38:12,203] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:38:12,207] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:38:12,444] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 17:38:12,445] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 17:38:12,445] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 17:38:12,445] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 17:38:12,447] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:38:12,712] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:38:12,717] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:38:13,041] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 17:38:13,041] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T17:38:13","request-id":"41b7cb0a-be81-4cd9-970d-4423ee3b35c4","client-request-id":"41b7cb0a-be81-4cd9-970d-4423ee3b35c4"}}}
[2025-05-12 17:38:13,042] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:38:13] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:38:13,049] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:38:13,050] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:38:13,051] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:38:13] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:43:33,366] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:43:33,366] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:43:33] "GET / HTTP/1.1" 200 -
[2025-05-12 17:43:34,305] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:43:34,307] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:43:34,308] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:43:34] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:43:38,573] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:43:38] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:43:58,325] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:43:58,325] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:43:58,326] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:43:59,001] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:43:59,002] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:43:59,240] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 17:43:59,241] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 17:43:59,241] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 17:43:59,241] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 17:43:59,242] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:43:59,842] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:43:59,847] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:44:00,132] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 17:44:00,134] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T17:44:00","request-id":"75cfe73d-98d4-4f36-991f-9568dc29c43f","client-request-id":"75cfe73d-98d4-4f36-991f-9568dc29c43f"}}}
[2025-05-12 17:44:00,136] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:44:00] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:44:00,143] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:44:00,144] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:44:00,145] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:44:00] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:56:12,267] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:56:12] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:56:32,205] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:56:32,205] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:56:32,206] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:56:32,856] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:56:32,858] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:56:33,202] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 17:56:33,203] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 17:56:33,203] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 17:56:33,203] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 17:56:33,204] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:56:33,687] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:56:33,688] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:56:33,921] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 17:56:33,922] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T17:56:33","request-id":"21807ddf-41f2-4822-b247-3c0f06a350ec","client-request-id":"21807ddf-41f2-4822-b247-3c0f06a350ec"}}}
[2025-05-12 17:56:33,923] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:56:33] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:56:33,930] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:56:33,931] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:56:33,932] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:56:33] "GET /profile HTTP/1.1" 200 -
[2025-05-12 17:57:57,143] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:57:57] "GET /password HTTP/1.1" 200 -
[2025-05-12 17:58:20,077] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:58:20,077] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 17:58:20,078] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:58:20,621] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1839
[2025-05-12 17:58:20,622] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:58:20,842] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 17:58:20,843] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 17:58:20,844] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 17:58:20,844] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 17:58:20,844] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 17:58:21,322] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 17:58:21,325] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 17:58:21,562] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 17:58:21,563] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T17:58:21","request-id":"630dfb3b-38fa-4125-b581-131a7820f429","client-request-id":"630dfb3b-38fa-4125-b581-131a7820f429"}}}
[2025-05-12 17:58:21,563] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:58:21] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 17:58:21,569] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 17:58:21,570] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 17:58:21,571] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 17:58:21] "GET /profile HTTP/1.1" 200 -
[2025-05-12 18:06:12,217] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 18:06:12,217] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 18:06:16,071] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 18:06:16,074] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:06:16] "GET / HTTP/1.1" 200 -
[2025-05-12 18:06:16,984] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:06:16,996] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 18:06:16,999] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:06:16] "GET /profile HTTP/1.1" 200 -
[2025-05-12 18:06:18,290] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:06:18] "GET /password HTTP/1.1" 200 -
[2025-05-12 18:06:35,403] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:06:35,404] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 18:06:35,405] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 18:06:35,839] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 18:06:35,843] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 18:06:36,200] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 18:06:36,201] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 18:06:36,202] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-12 18:06:36,203] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-12 18:06:36,204] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 18:06:36,497] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 18:06:36,499] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 18:06:36,720] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/me/changePassword HTTP/1.1" 400 None
[2025-05-12 18:06:36,722] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"BadRequest","message":"/me request is only valid with delegated authentication flow.","innerError":{"date":"2025-05-12T18:06:36","request-id":"22cf5640-e6aa-4b4c-8bac-f97f73b2c57a","client-request-id":"22cf5640-e6aa-4b4c-8bac-f97f73b2c57a"}}}
[2025-05-12 18:06:36,724] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:06:36] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 18:06:36,732] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:06:36,733] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 18:06:36,734] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:06:36] "GET /profile HTTP/1.1" 200 -
[2025-05-12 18:07:32,641] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 18:07:32,641] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 18:09:04,102] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-12 18:09:04,102] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-12 18:09:12,494] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 18:09:12,498] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:09:12] "GET / HTTP/1.1" 200 -
[2025-05-12 18:09:13,384] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:09:13,395] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 18:09:13,399] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:09:13] "GET /profile HTTP/1.1" 200 -
[2025-05-12 18:09:14,239] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:09:14] "GET /password HTTP/1.1" 200 -
[2025-05-12 18:09:20,906] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:09:20,907] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-12 18:09:20,909] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 18:09:21,559] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 18:09:21,561] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 18:09:21,799] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-12 18:09:21,800] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-12 18:09:21,800] [DEBUG] [app] : entraid pwd:123123
[2025-05-12 18:09:21,800] [DEBUG] [app] : entraid newpwd:123
[2025-05-12 18:09:21,800] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-12 18:09:22,400] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1840
[2025-05-12 18:09:22,402] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-12 18:09:22,639] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 403 None
[2025-05-12 18:09:22,640] [ERROR] [app] : Error actualitzant contrasenya a Entra ID: {"error":{"code":"Authorization_RequestDenied","message":"Access to change password operation is denied.","innerError":{"date":"2025-05-12T18:09:22","request-id":"f2edfc02-f6ce-4c4f-a7bd-84540a6e269f","client-request-id":"f2edfc02-f6ce-4c4f-a7bd-84540a6e269f"}}}
[2025-05-12 18:09:22,641] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:09:22] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-12 18:09:22,647] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747070379, 'nbf': 1747070379, 'exp': 1747074301, 'aio': 'AYQAe/8ZAAAAu6ZR/ZoXOvEF79knxXpaq6t+jwXZr5euoB1DVzo9BlPr/cUSFiwf+2qGEVgPnEym4c1L9qY4vD9G8uIhyX08GvjpZLxuKrXk2lE8ZikcYL8Fk02xluigTFL/k884H66911V9aCu6r8A0BvYkryt6TShoYHGzQrRPeaZLCZRTMJo=', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': '62jxT0Q3gkeay9tIJP4CAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-12 18:09:22,648] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-12 18:09:22,649] [INFO] [werkzeug] : 192.168.1.35 - - [12/May/2025 18:09:22] "GET /profile HTTP/1.1" 200 -
[2025-05-13 15:27:12,561] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-13 15:27:12,564] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-13 15:29:49,895] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-13 15:29:49,895] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-13 15:29:56,163] [INFO] [app] : Usuari no autenticat
[2025-05-13 15:29:56,171] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:29:56] "GET / HTTP/1.1" 200 -
[2025-05-13 15:29:56,409] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:29:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-05-13 15:29:59,098] [DEBUG] [app] : Asignem nonce a la sessio actual: ab18be1842ee095d4f9295a97e0296a9
[2025-05-13 15:29:59,098] [INFO] [app] : Redireccionem a uri: https://192.168.1.10:5000/auth/entraid/callback
[2025-05-13 15:29:59,100] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-13 15:29:59,380] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0/.well-known/openid-configuration HTTP/1.1" 200 1753
[2025-05-13 15:29:59,383] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:29:59] "[32mGET /login_entraid HTTP/1.1[0m" 302 -
[2025-05-13 15:29:59,869] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-13 15:30:00,321] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 2988
[2025-05-13 15:30:00,325] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-13 15:30:00,678] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "GET /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/discovery/v2.0/keys HTTP/1.1" 200 9720
[2025-05-13 15:30:00,691] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'scope': 'api://myAppFlask/myApp-scope', 'expires_in': 4379, 'ext_expires_in': 4379, 'access_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcxNDk5MDAsIm5iZiI6MTc0NzE0OTkwMCwiZXhwIjoxNzQ3MTU0NTgwLCJhaW8iOiJBYVFBVy84WkFBQUFuK0M3Zzh3VVFrOGtvbW5pV2hwVXhvc2N6NVpXRERsL044d2RwcXJhck9Ya2FGU1U1cy9YVGJwbkJYVzZEVVgwNnRERFExU0dpcnRhZmZZSmpBUCtlb2F4NXV5MlBLcmZORWZGN1lPd1c2ZDZMbnpqNkFnTHJSaHBrS0wyY3FCYjU2RnNYb3B1emV5S1dxV1ljd0ZhTjFtaEs1N0pGd0JETnBraVhoUW1nSkVldFpBTVhrQk5JbTZjOS8ySG02azIrdmlQckJ3dzBrdUdVSXRGeDVDdXF3PT0iLCJhenAiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJhenBhY3IiOiIxIiwibmFtZSI6InVzZXI5IHVzZXI5Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNjcCI6Im15QXBwLXNjb3BlIiwic2lkIjoiMDA0ZTI3ZTktMTAxZi0zMDQyLTNiZTUtNDA2YWQ4ODUyY2MyIiwic3ViIjoiYldYRGVRRUhDMFZJNXAzaVJULUhUSUduOVE1SUd3M2x3R3k3dDZNWHJfdyIsInRpZCI6IjFlMWU0OGZhLTI4ZWItNGQwYy1hMzc4LTA3ZjA5Y2JkNzFlMyIsInV0aSI6IkdlWnF2RW1ZWWtDN3p6MTRzeWtPQUEiLCJ2ZXIiOiIyLjAiLCJlaWQiOiIwMDA5WCJ9.OMOKE0QPTtL-UUj2bQoxOIHgXnIFd9S9D0Gy8sp6K7QxDVgwQ3yvFUsYN5hIHYvbkuwzVgXzlbI1zAPKTBJqQrCr9fFxJHUgEBara3eKWVLfQZdAOpSzo2RnfufsppT6Tg3VhBFbXcpeOqORs5J8v7UJFYkkhSJ9zMxepbUQxyJjDA9zKRTo7eGI4cqhM1TL6O22zj0e_dKBvuAEwFOO1BQzCaN_RJZcrWfpQ96N8oxCUkLbuj6-6v2FZyx9Lv9U60DZoBlUCrZwks6lBU7YMAMZhFMl2eF3G2ytVwJBZJdd-hfUXqSIz98NGwe_B3Gh3zP528fcJ-Kdif-75rqqAQ', 'id_token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcxNDk5MDAsIm5iZiI6MTc0NzE0OTkwMCwiZXhwIjoxNzQ3MTUzODAwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFiMThiZTE4NDJlZTA5NWQ0ZjkyOTVhOTdlMDI5NmE5Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGUyN2U5LTEwMWYtMzA0Mi0zYmU1LTQwNmFkODg1MmNjMiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHZVpxdkVtWVlrQzd6ejE0c3lrT0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.CDJe7pCyOkGH4j0jrY9762V39sMyrdFNaKNchnG6lxHe8OXFKzR8M2J81gLnBryvyF6Yc9v7rK4WOCp5kYVG5UHD33E9nH5w407HRWpBCrceGDn8tHmuO6a5Tc6LH5LTNllqknp4nPFumLMI23miWc7X22-aB9oN6O1RJADb9FUmFk27TY-ayBfFAxkG2kt_P4kYfvgDDjhYOpwZg548RofD_-3CZfOQyh-wNWfpmLs_ZIHnbrZd-eIfrn75MrPin5th61eitUX4MRjALosGXA6DgBJVKxXWNertxyutC-63fwrlDuwzozZKLblv8MD-xEHI7BsVMPzVp4OVYZUZoA', 'expires_at': 1747154579, 'userinfo': {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747149900, 'nbf': 1747149900, 'exp': 1747153800, 'name': 'user9 user9', 'nonce': 'ab18be1842ee095d4f9295a97e0296a9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'GeZqvEmYYkC7zz14sykOAA', 'ver': '2.0', 'eid': '0009X'}}
[2025-05-13 15:30:00,692] [DEBUG] [app] : User parsed token {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747149900, 'nbf': 1747149900, 'exp': 1747153800, 'name': 'user9 user9', 'nonce': 'ab18be1842ee095d4f9295a97e0296a9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'GeZqvEmYYkC7zz14sykOAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-13 15:30:00,692] [INFO] [app] : Sessio info usuari: user9 user9, email: user9user9@TFGPABLO.onmicrosoft.com, eid: 0009X
[2025-05-13 15:30:00,744] [DEBUG] [app] : User trobat in db: user9user9@TFGPABLO.onmicrosoft.com
[2025-05-13 15:30:00,746] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:00] "[32mGET /auth/entraid/callback?code=1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-F_Uw8ecQ6MgFKRujR_HDf3EEhkjXf75MIb9JGypD1l9cOQ5aPATviTglSP7cUKso4dMzJRI24vmouiEvyUNeiBGKDA2VwkhTfJGnyqua1qn0SFIGzyUtHueHExPnSdrIhxAF9Kk1lvtYFUsmdfsPE9QILVgcx9_qd0CdvHSAgYh-4AiXQGeCmp5ZQZjMAMbRPUMZUnDFINfY5fjLW36eNKbtWUu4hknOBYIKi8KEUMYbA1Lzr1xQAFNomDJcmBzhS8vzZpW4X8Mf5ONUi1nwl2D5mPQMkzDG3QdFmSrIaDiR5V6QHr8ZQaeECDQPfmnhJGkzw3d32jILe1xf4Z9msX6Fw_RRzDishD-ElpzIsbCkWbOail9DbLo3mxbr6T4VAq2AQdZcAX5EFVirrTiVzUDyC2vTwLrvpnCrt4obDdRcRZvOdnfDVocxGmpJNa8QmutfTpVQxSXsY4dadDQ46XP-9CIL2bBvdR7-qRe0n0jpMpISBkFpfQqpkAqvGWD-5GILzObx_RIXXyOJayrX5n58PYte4NYBDFlbeGr6_nhD_zlqnCXoC1-Stwh4VkkHSzcR-ju97TcNztD1OW-bWJwli4-FECFZNnDcC4fztpD2gNT3H3CSN_VG2jRjdBH-599ctW7TSfZ2BmI9oCys38IQ9cFWG2-ZBuL-9sT0CwFoely7JPCYAAmX4x9nNzVvAVDJzgF0UyUOXAbd9zZBp1Y5srGgbc4nURcIZ3HWm9yNmcRkdw2TP2J3Db6pSxcABj0VKPbkOJ1TMtPkjm07i9cdQ-NHc4ZbI4kPuj8Q8N6ZLugtJOLsQ8vRJCp1BSprFZg&state=SGqNfnRZiFCCGrqLStzgoJCIqjUZt6&session_state=004e27e9-101f-3042-3be5-406ad8852cc2 HTTP/1.1[0m" 302 -
[2025-05-13 15:30:00,753] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-13 15:30:00,753] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:00] "GET / HTTP/1.1" 200 -
[2025-05-13 15:30:03,910] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747149900, 'nbf': 1747149900, 'exp': 1747154580, 'aio': 'AaQAW/8ZAAAAn+C7g8wUQk8komniWhpUxoscz5ZWDDl/N8wdpqrarOXkaFSU5s/XTbpnBXW6DUX06tDDQ1SGirtaffYJjAP+eoax5uy2PKrfNEfF7YOwW6d6Lnzj6AgLrRhpkKL2cqBb56FsXopuzeyKWqWYcwFaN1mhK57JFwBDNpkiXhQmgJEetZAMXkBNIm6c9/2Hm6k2+viPrBww0kuGUItFx5Cuqw==', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'GeZqvEmYYkC7zz14sykOAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-13 15:30:03,913] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-13 15:30:03,917] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:03] "GET /profile HTTP/1.1" 200 -
[2025-05-13 15:30:05,728] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:05] "GET /password HTTP/1.1" 200 -
[2025-05-13 15:30:27,688] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747149900, 'nbf': 1747149900, 'exp': 1747154580, 'aio': 'AaQAW/8ZAAAAn+C7g8wUQk8komniWhpUxoscz5ZWDDl/N8wdpqrarOXkaFSU5s/XTbpnBXW6DUX06tDDQ1SGirtaffYJjAP+eoax5uy2PKrfNEfF7YOwW6d6Lnzj6AgLrRhpkKL2cqBb56FsXopuzeyKWqWYcwFaN1mhK57JFwBDNpkiXhQmgJEetZAMXkBNIm6c9/2Hm6k2+viPrBww0kuGUItFx5Cuqw==', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'GeZqvEmYYkC7zz14sykOAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-13 15:30:27,689] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-13 15:30:27,690] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-13 15:30:28,084] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1889
[2025-05-13 15:30:28,087] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-13 15:30:28,313] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "GET /v1.0/users?%24filter=employeeID+eq+%270009X%27 HTTP/1.1" 200 None
[2025-05-13 15:30:28,314] [DEBUG] [app] : Id de l'usuari: 3a5bdf10-5cf0-49ae-8fc4-d57a821270ae
[2025-05-13 15:30:28,315] [DEBUG] [app] : entraid pwd:1P2r3u4e5b6a!
[2025-05-13 15:30:28,315] [DEBUG] [app] : entraid newpwd:Prueba123!Test123!
[2025-05-13 15:30:28,315] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): login.microsoftonline.com:443
[2025-05-13 15:30:28,698] [DEBUG] [urllib3.connectionpool] : https://login.microsoftonline.com:443 "POST /1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/token HTTP/1.1" 200 1889
[2025-05-13 15:30:28,699] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): graph.microsoft.com:443
[2025-05-13 15:30:29,308] [DEBUG] [urllib3.connectionpool] : https://graph.microsoft.com:443 "POST /v1.0/users/3a5bdf10-5cf0-49ae-8fc4-d57a821270ae/changePassword HTTP/1.1" 204 0
[2025-05-13 15:30:29,309] [INFO] [app] : Contrasenya actualitzada a Entra ID
[2025-05-13 15:30:29,310] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:29] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-05-13 15:30:29,316] [DEBUG] [app] : decoded ENTRA ID jwt: {'aud': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'iss': 'https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/v2.0', 'iat': 1747149900, 'nbf': 1747149900, 'exp': 1747154580, 'aio': 'AaQAW/8ZAAAAn+C7g8wUQk8komniWhpUxoscz5ZWDDl/N8wdpqrarOXkaFSU5s/XTbpnBXW6DUX06tDDQ1SGirtaffYJjAP+eoax5uy2PKrfNEfF7YOwW6d6Lnzj6AgLrRhpkKL2cqBb56FsXopuzeyKWqWYcwFaN1mhK57JFwBDNpkiXhQmgJEetZAMXkBNIm6c9/2Hm6k2+viPrBww0kuGUItFx5Cuqw==', 'azp': '51b37075-925a-41ec-bf66-712bf3ab2c2b', 'azpacr': '1', 'name': 'user9 user9', 'oid': '3a5bdf10-5cf0-49ae-8fc4-d57a821270ae', 'preferred_username': 'user9user9@TFGPABLO.onmicrosoft.com', 'rh': '1.AU4A-kgeHusoDE2jeAfwnL1x43Vws1FakuxBv2ZxK_OrLCsWAXhOAA.', 'scp': 'myApp-scope', 'sid': '004e27e9-101f-3042-3be5-406ad8852cc2', 'sub': 'bWXDeQEHC0VI5p3iRT-HTIGn9Q5IGw3lwGy7t6MXr_w', 'tid': '1e1e48fa-28eb-4d0c-a378-07f09cbd71e3', 'uti': 'GeZqvEmYYkC7zz14sykOAA', 'ver': '2.0', 'eid': '0009X'}
[2025-05-13 15:30:29,318] [INFO] [app] : User a modifcar: <User user9user9@TFGPABLO.onmicrosoft.com>
[2025-05-13 15:30:29,319] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:30:29] "GET /profile HTTP/1.1" 200 -
[2025-05-13 15:31:39,847] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9user9@TFGPABLO.onmicrosoft.com', 'name': 'user9 user9'}
[2025-05-13 15:31:39,848] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:31:39] "GET / HTTP/1.1" 200 -
[2025-05-13 15:32:19,847] [DEBUG] [app] : Token de la sessio: ('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcxNDk5MDAsIm5iZiI6MTc0NzE0OTkwMCwiZXhwIjoxNzQ3MTUzODAwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFiMThiZTE4NDJlZTA5NWQ0ZjkyOTVhOTdlMDI5NmE5Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGUyN2U5LTEwMWYtMzA0Mi0zYmU1LTQwNmFkODg1MmNjMiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHZVpxdkVtWVlrQzd6ejE0c3lrT0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.CDJe7pCyOkGH4j0jrY9762V39sMyrdFNaKNchnG6lxHe8OXFKzR8M2J81gLnBryvyF6Yc9v7rK4WOCp5kYVG5UHD33E9nH5w407HRWpBCrceGDn8tHmuO6a5Tc6LH5LTNllqknp4nPFumLMI23miWc7X22-aB9oN6O1RJADb9FUmFk27TY-ayBfFAxkG2kt_P4kYfvgDDjhYOpwZg548RofD_-3CZfOQyh-wNWfpmLs_ZIHnbrZd-eIfrn75MrPin5th61eitUX4MRjALosGXA6DgBJVKxXWNertxyutC-63fwrlDuwzozZKLblv8MD-xEHI7BsVMPzVp4OVYZUZoA',)
[2025-05-13 15:32:19,847] [DEBUG] [app] : Logout url de entra_id: https://login.microsoftonline.com/1e1e48fa-28eb-4d0c-a378-07f09cbd71e3/oauth2/v2.0/logout?post_logout_redirect_uri=https://192.168.1.10:5000/&id_token_hint=('eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiI1MWIzNzA3NS05MjVhLTQxZWMtYmY2Ni03MTJiZjNhYjJjMmIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMWUxZTQ4ZmEtMjhlYi00ZDBjLWEzNzgtMDdmMDljYmQ3MWUzL3YyLjAiLCJpYXQiOjE3NDcxNDk5MDAsIm5iZiI6MTc0NzE0OTkwMCwiZXhwIjoxNzQ3MTUzODAwLCJuYW1lIjoidXNlcjkgdXNlcjkiLCJub25jZSI6ImFiMThiZTE4NDJlZTA5NWQ0ZjkyOTVhOTdlMDI5NmE5Iiwib2lkIjoiM2E1YmRmMTAtNWNmMC00OWFlLThmYzQtZDU3YTgyMTI3MGFlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjl1c2VyOUBURkdQQUJMTy5vbm1pY3Jvc29mdC5jb20iLCJyaCI6IjEuQVU0QS1rZ2VIdXNvREUyamVBZnduTDF4NDNWd3MxRmFrdXhCdjJaeEtfT3JMQ3NXQVhoT0FBLiIsInNpZCI6IjAwNGUyN2U5LTEwMWYtMzA0Mi0zYmU1LTQwNmFkODg1MmNjMiIsInN1YiI6ImJXWERlUUVIQzBWSTVwM2lSVC1IVElHbjlRNUlHdzNsd0d5N3Q2TVhyX3ciLCJ0aWQiOiIxZTFlNDhmYS0yOGViLTRkMGMtYTM3OC0wN2YwOWNiZDcxZTMiLCJ1dGkiOiJHZVpxdkVtWVlrQzd6ejE0c3lrT0FBIiwidmVyIjoiMi4wIiwiZWlkIjoiMDAwOVgifQ.CDJe7pCyOkGH4j0jrY9762V39sMyrdFNaKNchnG6lxHe8OXFKzR8M2J81gLnBryvyF6Yc9v7rK4WOCp5kYVG5UHD33E9nH5w407HRWpBCrceGDn8tHmuO6a5Tc6LH5LTNllqknp4nPFumLMI23miWc7X22-aB9oN6O1RJADb9FUmFk27TY-ayBfFAxkG2kt_P4kYfvgDDjhYOpwZg548RofD_-3CZfOQyh-wNWfpmLs_ZIHnbrZd-eIfrn75MrPin5th61eitUX4MRjALosGXA6DgBJVKxXWNertxyutC-63fwrlDuwzozZKLblv8MD-xEHI7BsVMPzVp4OVYZUZoA',)
[2025-05-13 15:32:19,847] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:32:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-05-13 15:32:22,828] [INFO] [app] : Usuari no autenticat
[2025-05-13 15:32:22,829] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:32:22] "GET /?sid=004e27e9-101f-3042-3be5-406ad8852cc2 HTTP/1.1" 200 -
[2025-05-13 15:32:28,870] [INFO] [app] : Usuari no autenticat
[2025-05-13 15:32:28,870] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 15:32:28] "GET / HTTP/1.1" 200 -
[2025-05-13 16:31:00,683] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:5000
 * Running on https://192.168.1.10:5000
[2025-05-13 16:31:00,684] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-05-13 16:31:14,622] [INFO] [app] : Usuari no autenticat
[2025-05-13 16:31:14,626] [INFO] [werkzeug] : 192.168.1.38 - - [13/May/2025 16:31:14] "GET / HTTP/1.1" 200 -
