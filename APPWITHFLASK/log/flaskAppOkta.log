[2025-02-01 11:45:06,612] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:45:06,613] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:45:22,856] [INFO] app : Usuario no autenticado.
[2025-02-01 11:45:22,856] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:22] "GET / HTTP/1.1" 200 -
[2025-02-01 11:45:31,036] [ERROR] app : ERROR: page not found!
[2025-02-01 11:45:31,037] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:45:40,525] [DEBUG] app : Asignamos nonce a la sesion actual: 2103b82fccbd2dd5c1e29fc39148e3cb
[2025-02-01 11:45:40,525] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:45:40,527] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:41,401] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:45:41,405] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:45:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:45:58,695] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:45:59,761] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:45:59,763] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:46:00,722] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:46:00,726] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULklXd2dKMnlQX0VaNXFlcUQxakhZZll4NGM3M2tNQnNmNnVZZExKdDRKOHMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.e8U6mKVE6D667P9C8OXCOUIVpOa0JsC48gIL0nodCA2Prd_1ggpa3FcL4KosNtN52JPfcYsdumr5Rly7HwVAsNCL3ozscL0dJaEoRk3wrR6VLQFSyYIZbT_tv54rapczoZq-C-rFAEzeOcDKZ4XYBgN8a0oKlynlBPdY1fmwb4h4zV-WhfVrRRKTeuCmz9GZJ7zL3bCV7YVucK4gPu4PjB3mImScE9MYWsaCaDBM0FVUq7L0S_BjmFCh6jPlRtM6617TZzTiKv7-dtcoVjdC115tmwMN6hRPVUwrplYBmnjaKHaR5LNKdvUdgZzRc6qADCvfrK_KbctFfrH7qoq0XQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTAzNTksImV4cCI6MTczODQxMzk1OSwianRpIjoiSUQuaktpb3B0Z2ZKMjlmZDJNTnhzX3VxYVpnQU9kS19jc3lyaWFRdWxFNmhpMCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIxMDNiODJmY2NiZDJkZDVjMWUyOWZjMzkxNDhlM2NiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJuZ3Y1X0NOOUZzRTZvQjZpaTk0N3dRIn0.a5euYnBE78ikm_2vhHlrn_Ujn2lQiks3QuHkocks1Lp5xVQrCXXmlwVc7zDPSi1eKgdzYsHRDHvZDC_wbiJ-06fuI9_RzwTq_Pj-gXGtj6Q9IKdBetDKllZhfbJ5wlR1EYYdXJP6aZDE2MgrxWdKbbInJ8KjrRCXoyUZhgar1TJuCZ2_PeXY3ZlVQUda1w7W0NzPMvJVA3El3KM7PFc_e0saZajWRuIybEDyxnPmsW7wVzlEsmId0kwWZztXWz-9gAGRjr0O8Ri4tcIdTrMmB0n_dwz4GM0bLqfNYxRH-eFRyw7LmcLbjsE1ypUo3f465w1wkh1lwhgBPglp-tluAA', 'expires_at': 1738413959, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410359, 'exp': 1738413959, 'jti': 'ID.jKioptgfJ29fd2MNxs_uqaZgAOdK_csyriaQulE6hi0', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2103b82fccbd2dd5c1e29fc39148e3cb', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'ngv5_CN9FsE6oB6ii947wQ'}}
[2025-02-01 11:46:00,730] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:46:54,748] [INFO] app : Usuario no autenticado.
[2025-02-01 11:46:54,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:46:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:01,169] [DEBUG] app : Asignamos nonce a la sesion actual: 4986aea5241d7743d3502cb4cc230ea2
[2025-02-01 11:47:01,169] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:01,171] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:02,327] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:03,263] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:03,268] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJOak5OOUkwdTZBRkV5RlRJR2VLQTVnQk1TMXpkb1BLZ3BjaHZPeXpUUXMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.jY2WnkD02gwZqSFCu4fpXRJjABXFdVJAauEOfXeq5XqLiE7BYaQzyn609GoLj5TeTez5-NX7iZvo56SQhwBrh__-SvPoyaFk5UO7Ewr8II475O3s9yQPtYvZyr34ef-l9KukmJ6QbrRoXyXBPL17b6bpHZJ0LgAm0eqDtGMotDQXsBgaVba0vrjaNTEKY_OJ24_iueTZNpeZ0zVNFOcqO1YkU3dWq844ThxResqJrrXxVHjTxvUDEg1Udy8vlDqFaTY6g_9Smgc9mXIyFxR5pWpUfxc58AmZHEgvN6FQ8hhiNrUlOfZohEsIXfc9OFPPjVHIGwSvSl_oKj_wH8go_Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0MjMsImV4cCI6MTczODQxNDAyMywianRpIjoiSUQudzBGUnBPc2hic1pabW9ZbEtnZ1dPTzZta294NExCR3I5eVhub09JQkVLayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ODZhZWE1MjQxZDc3NDNkMzUwMmNiNGNjMjMwZWEyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiJJVjBQaG91TUk1NUxqN1I4a2FXTGRRIn0.Pg52ngpsycnmkgNmrj8rQOo4paACky_VEbWO62Py30HwLpBxRhdVvhZIUFMSHy1mfbjY5jfO5nr-dwBQEHKqIsmRr9GHnljy2cBva6qAtmFusJ5Y8x3AUXQ63LPE9ZXLEaeD_hQbZFARrxPH9lie0w0X_okFbb2YW1oc0uOSJd64z6Ils1mcUPESr84pgIG0QMXPJrlaqO8aO00gqChto7ARIqAWfm5K6c2q0OX_y2BZbQcz8kRPxSZjwiMdmyaHp4oUF6E-CvOC1x2GUYS9I8GtANpS1kDuT3AoDa_k3lCggHst1WNvPdQEWDaKiCGAgdOCGlyWNY6CPSPYUMBWzg', 'expires_at': 1738414023, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410423, 'exp': 1738414023, 'jti': 'ID.w0FRpOshbsZZmoYlKggWOO6mkox4LBGr9yXnoOIBEKk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4986aea5241d7743d3502cb4cc230ea2', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': 'IV0PhouMI55Lj7R8kaWLdQ'}}
[2025-02-01 11:47:03,276] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:10,478] [INFO] app : Token de la sesion: None
[2025-02-01 11:47:10,479] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:47:10,480] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:10] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:47:20,062] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:20,063] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:22,936] [DEBUG] app : Asignamos nonce a la sesion actual: 67aefeb51b213d7d0e0ab8aa891db82d
[2025-02-01 11:47:22,937] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:22,938] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:23,664] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:24,635] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:24,641] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJVbFc1clVjLUo2YUcwbzd3bnBGQTBuX2ZEUFNqdUNDZEVhSGRaUWo0MWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwMzU3LCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.PJ85y-RAhDLOMawa6GoP0dBzNYkMsqRVS_VEFjWRSjjmvHevNIjL1ONyH4qs3UszOeIFhABqI2_mX0qqy8NYq_okt-pR-ldsFy0Djs6j7B_70pl9YLuYBrlwmmWlfAb5nO_o5L7DjF_RXgAedbwFwUWn0j1AU3sDzjDfGdulPo-w2py66ri5UPkj3f172A_aTYHboGjjE9RkxEmdXt5-dQPQqliarKoqnklrYTpOnw_AZc3IgcbfF2lCm1Wqnsr5SiO3VVxkVVGkUwwfKxOCZdp-Y08tqUWNNAnlNmRRJEP3i34x3T0H3-ZKTEAoNg-Kv49U5ds_eC9TYSb1iQ9eyQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NDQsImV4cCI6MTczODQxNDA0NCwianRpIjoiSUQuT3JSeVRNSGpfcnJ1dWlyU0s5M2gyYlRZLWlsaUd6WXNfcll6aDRVeDZDYyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjY3YWVmZWI1MWIyMTNkN2QwZTBhYjhhYTg5MWRiODJkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTAzNTcsImF0X2hhc2giOiI5V3NudldQYWd6SnMteWxldFVJODF3In0.VB9-n2cHECwHHpB4SyqPwbtz4vZZRKYyHGJHRG5jMv0TnRvsv3fERqNlIbn8urgabHN3Ak9suQPLc_Xx6tnplb32FlAaa9RFymwpMRvcfpyi8KAueKNz8rE8aZrtOBT5Nkx_JBJADygUfFa3Fw2EQDAXAh5GsosG3aBDbeIM5hqi9SX36ql18vzz9eaFhnJhvwizbOAnKCqjNa2T6PHhrRoOyz5Lomxi5c2S9hTNgMx5DDtyfVgLueUP26D8-sXNOZIa_5Q2Z3Y2qHRoR5EhAWeEawalpraBI75JRFXuNgJbULf-QlgoTiuLmvrAsKZUvSxUITnIdJQL_4exLkeafw', 'expires_at': 1738414044, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410444, 'exp': 1738414044, 'jti': 'ID.OrRyTMHj_rruuirSK93h2bTY-iliGzYs_rYzh4Ux6Cc', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '67aefeb51b213d7d0e0ab8aa891db82d', 'preferred_username': 'user3@test.com', 'auth_time': 1738410357, 'at_hash': '9WsnvWPagzJs-yletUI81w'}}
[2025-02-01 11:47:24,654] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:47:32,312] [INFO] app : Usuario no autenticado.
[2025-02-01 11:47:32,313] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:32] "GET / HTTP/1.1" 200 -
[2025-02-01 11:47:37,394] [DEBUG] app : Asignamos nonce a la sesion actual: 1c4dea3518ff67a50ffa41422e4b5830
[2025-02-01 11:47:37,395] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:47:37,397] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:47:37] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:47:49,345] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:47:50,321] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:47:50,322] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmJBQWVVVHJzMDEzdC10YUJyTUh4VWpFVjBNYkdGWWVnZVFUYVdNLUxYZmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwNDY4LCJzdWIiOiJ1c2VyMkB0ZXN0LmNvbSJ9.igVi98-qYvBWIXyla2mwMYn8iIlZKFj_s0T6TZeiYpOVIiaaGEHpAGdPbCnXMMNNSMeNtqugR8uejslZjD5IV3IbOv8AAhMtNpQ-puMbXsEUSa3BTl97V8Lr_xn-cJnq3GMnApSTea7GkQuFOKV72Z669s_CLB7ZoM1sCZWiBVNda64eLhP57hvmAyrXE960DJnkI3pGHtleFGuGMCudCuJ8plcplj-5jbipVOYQnzb0e-Oaf8xdxJg1JGpC6qgFfiVo9OP3LnPy880Gb52bjdbQ4uFMVn5FDf-3zu8qbTXS1GSW4nXWJTSYjZWrmqzxdS-kGBHUGpl1zn6jPGHQ5w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN6azU2ZXlmUnZMbDVkNyIsIm5hbWUiOiJ1c2VyMiB1c2VyMiIsImVtYWlsIjoidXNlcjJAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA0NzAsImV4cCI6MTczODQxNDA3MCwianRpIjoiSUQuUkVtanVMTUEyaGtFRzVkRlJ4cVc1VURVQ1c1YUpDak1ZVS11eHF3UU90ZyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjNGRlYTM1MThmZjY3YTUwZmZhNDE0MjJlNGI1ODMwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjJAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA0NjgsImF0X2hhc2giOiJ2aEF1bHFqd19YLURKMWNlYTZYZlV3In0.XqaCthhe0gu-iTqzcwu1kQzHw3Jc9X6yU3VV8izPnLdl-7tIxVtip-Wc4Vu8H6t8qbINAEfbYgn_De6ziu7qOSit661WTjiF20rIj8acksp9rXb6XoKGnQLqxAE-_pdc-QChkdvZuqj9niHILGOmb9CE77aN8JJlDQxdB1rs8MlO4y06CHfQsQNpRVHNVqcrIRR2wppq93bOJby4QD3qCFZPvrrZWRx4_cLYrmE448jHrPcwNeBIqKY6JUGLEjzaXVVCXKzkiR4UivNCGF_cfMgfWOH15UQPrZEpNcKbSku7bQD1_ba1TALbBfhjZxHFkwOTxuNPiOEd6aWF-Skbbg', 'expires_at': 1738414070, 'userinfo': {'sub': '00umy3zk56eyfRvLl5d7', 'name': 'user2 user2', 'email': 'user2@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410470, 'exp': 1738414070, 'jti': 'ID.REmjuLMA2hkEG5dFRxqW5UDUCW5aJCjMYU-uxqwQOtg', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1c4dea3518ff67a50ffa41422e4b5830', 'preferred_username': 'user2@test.com', 'auth_time': 1738410468, 'at_hash': 'vhAulqjw_X-DJ1cea6XfUw'}}
[2025-02-01 11:47:50,328] [INFO] app : Sesion info user: user2 user2, email: user2@test.com
[2025-02-01 11:48:14,432] [ERROR] app : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 11:48:14,504] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:48:14] "[35m[1mGET /auth/callback?code=jSxk4K6b4YX0lAiHpbFCiE0xijRniNaNzQU9Mb36yVE&state=nYyty9qQpqNmg2ZayVCvWd8nrgtxmh HTTP/1.1[0m" 500 -
[2025-02-01 11:49:06,432] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:49:06,433] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:49:16,881] [INFO] app : Usuario no autenticado.
[2025-02-01 11:49:16,882] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:16] "GET / HTTP/1.1" 200 -
[2025-02-01 11:49:21,673] [ERROR] app : ERROR: page not found!
[2025-02-01 11:49:21,674] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:21] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:49:26,844] [DEBUG] app : Asignamos nonce a la sesion actual: faf5c77674ab0a704abc769ae8b1d7c3
[2025-02-01 11:49:26,844] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:49:26,845] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:27,847] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:49:27,849] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:49:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:49:56,538] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:57,610] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:49:57,614] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:49:58,566] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:49:58,569] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJHcGpXMzlaM1VVSUNqREZBWXU3WEpjWjFKb3hYNTdRZ0dDQ2dYSzBCYUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Nsw4TbcwbsoKE4C7cYwxrzVT-4eCnkIyZcs3kzyg2HvJg3G0_gehnheuqL26vQJMvFcBhvknb1bY0cT5BHjmUybK7DzTesusaLYy90CPaCeToOW7HgEAOvNr5pk8JoTFrR4fOAkVqXsk-mxx7wHgoUfKyAalJkuteFLvoUVOMxPXtRXcC1eZmvmucwmzkGafX-5g_WdIgdXRdIPdz1-F36Mf9fJYeeo30LnxCBN3kkqeVEOQaCv-KeXnSSmYBkTXtNrBBIUluK_jI0KqkvHchw8fA2U5UhOnm1UKNNo_XYq6EIPXavEVWMng_ykjZ4ZS8o82EMQIVjUIQW6_Cq0YGQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA1OTcsImV4cCI6MTczODQxNDE5NywianRpIjoiSUQua0t6Q0pxcVZmZFYxdUlRZXNrR2xmYk05OXlpRmVZdU43VXFJWkxOanhOVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjVjNzc2NzRhYjBhNzA0YWJjNzY5YWU4YjFkN2MzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJvUTZEZ0hGSGc3dGJWZkZqdW1KV1FRIn0.TNq_K_U-oLCSvg-29bTVD4TRVWE6roYpkqRduC3_ry-E4QPY-KZfggH5wSJk6cYEWrpikvFC99vNxQxornWJMY1V-h3FR3LlD2oeflTg_86bdkwKh6ZvEv338QT-c_bKXunk7nHDhpk-yKioB4JCThoYrNyoz65PULgJK44JFStFf7HvL_4orBwhJPJV1YA1v5onVl_a3AnI0kDbpM2eNzP-KQwGxMGoMBeyqBMGOMFPDyrXlM8rsIOFR818d765NGukup2vnl0GIk3ZhKhW-B5DDjZIsiMGmO2KK1uX1X1Sw5Lloe31g21A-7hW6s0vmNCXkU6heRxN9kgSGHPhtA', 'expires_at': 1738414197, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410597, 'exp': 1738414197, 'jti': 'ID.kKzCJqqVfdV1uIQeskGlfbM99yiFeYuN7UqIZLNjxNU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf5c77674ab0a704abc769ae8b1d7c3', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'oQ6DgHFHg7tbVfFjumJWQQ'}}
[2025-02-01 11:49:58,569] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:52:33,128] [INFO] werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 11:52:33,129] [INFO] werkzeug : [33mPress CTRL+C to quit[0m
[2025-02-01 11:52:49,320] [INFO] app : Usuario no autenticado.
[2025-02-01 11:52:49,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:52:49] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:04,475] [DEBUG] app : Asignamos nonce a la sesion actual: 9d2d333c8ac1d6da974b0e5f5bd66d8e
[2025-02-01 11:53:04,475] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:04,478] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:05,299] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 11:53:05,301] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:13,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:14,186] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:14,188] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:15,130] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 11:53:15,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmxrZ0Utam44WDBKZkx5YV9tcllmc3RZTlozSEF2Sy1oOV9XR2d5SWFmVUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNzkyLCJzdWIiOiJ1c2VyM0B0ZXN0LmNvbSJ9.otRn4KsrnnwOhMrYEReve7f9IDAt4Q5A0BXPe43UASXJh74kg6P2Bd-ZV8Uvp9QOUG7WpS7tfvywmJPYsxMqtaEzgdmAAA02Vla7_8C1GFBTCRyIL1wm2MFKaXjAKXo0oQvbSmZKu5Q0iGqC2xasJ0UffD4WEd_o5HyX3iw0OuF3pEjLDQuyFI6O3qrjgV9c3eozi3Il1mmzffC9Za-n5RlCAQFU359MqGdfPOZJgF780LDfg98ksiMlloy8iqffX8Agi5zntDnE_LFQNoJnQGUBZuEi_17tD1Mh6X-qQuVZhqFsuqtqM4r-Q-kd1zXpmFeoyKeBvOi8GaQHx0_-hQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ', 'expires_at': 1738414394, 'userinfo': {'sub': '00umy3vdabD1hBQjH5d7', 'name': 'user3 user3', 'email': 'user3@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410794, 'exp': 1738414394, 'jti': 'ID.A8zD4ZFEOwYnVaaN_KocVe6J6j6Noq0b3QOJTJ6VdAw', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9d2d333c8ac1d6da974b0e5f5bd66d8e', 'preferred_username': 'user3@test.com', 'auth_time': 1738410792, 'at_hash': '9q3OnXgF90dkLYfgBwXsrQ'}}
[2025-02-01 11:53:15,149] [INFO] app : Sesion info user: user3 user3, email: user3@test.com
[2025-02-01 11:53:15,192] [INFO] app : User user3 user3 no guardado en db
[2025-02-01 11:53:15,200] [INFO] app : User user3 user3 guardado en db
[2025-02-01 11:53:15,201] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "[32mGET /auth/callback?code=6bqV1r4qkOnibMH1LZRzpAOYDlp3c6MeUxQWJaPWkr0&state=aUHjEtYZV98YmQcIUk0rQmLwGXLHbv HTTP/1.1[0m" 302 -
[2025-02-01 11:53:15,223] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:15,224] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:15] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:19,638] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,642] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN2ZGFiRDFoQlFqSDVkNyIsIm5hbWUiOiJ1c2VyMyB1c2VyMyIsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA3OTQsImV4cCI6MTczODQxNDM5NCwianRpIjoiSUQuQTh6RDRaRkVPd1luVmFhTl9Lb2NWZTZKNmo2Tm9xMGIzUU9KVEo2VmRBdyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlkMmQzMzNjOGFjMWQ2ZGE5NzRiMGU1ZjViZDY2ZDhlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjNAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA3OTIsImF0X2hhc2giOiI5cTNPblhnRjkwZGtMWWZnQndYc3JRIn0.X_-7FsfRGoFX7vJqJwuAqQkexp4BOrY_OHzf6ZCpoYig2lRZnkyUfn-eLiIrRRrTLw2c7w2t3Kgzho7XfBhahOGLPTwwMwGxnYd6IFulgLS4vCUPknZ0YDOSm7hWVxocCA0uDZ-HV1LjyoQBqtV2Q6j9Mm5ldVkCA-ZsSMjAzDQgFSV-V8ZEUCF8KrlikbE8qu4FS7yumfMtRaojXyYAv4ySFVoQIYxRwGpMlm7fzCs_MUUyaGtOzoPONFjF9PtUqHbtbLBhdnmxMdEfSAPkogyk1KHCuT3tpI1hPPLQRFpc2AuLKbkuHn2aGVoY05o5oc2WsiLRJ8oOULHvu4BfRQ
[2025-02-01 11:53:19,647] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:19] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:20,319] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:20,320] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:20] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:22,302] [DEBUG] app : Asignamos nonce a la sesion actual: faf053b6c1ad6145c17c2461e0d19af1
[2025-02-01 11:53:22,303] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:22,304] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:22] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:29,224] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:30,250] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:30,252] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFBNGh5eVNYa19iVmdSYnhiaVR2UmRHRkNKS0pvdkRBdjJsTjJYQV8wSHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.FQ6iigMiIV3WDtLh3phYX-Lqp-cW3DsDmr4YItwvx4X2ZcvmkFTIbKO2EC59VQMcW4tAfHBAB6XfN-rfv8WJ1_DLnjfOxWDr8PyKh6vAjeJawbkj96CZlgLQEvzEYhNnEM9UVTmJzWmSwx8FV-CXRHcKCxXX8H1Rdm7vAEDCXmcjJW4cVzQINzzt46JQp0EX3WpH0u_ofodYVQNWJ8ian7ywkDiVR9JSb_qDXs5rDmuDBDuOU2cJ9Ma9A-ZLblXuKvGFt2R4KjZ5EpPxJRbbCS8arn9Eiz40WMsvsrfb1FK2CRifzGw1s_dFzwgL_G8ihBIP7xKTXYVF2-myBkvEtQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg', 'expires_at': 1738414410, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410810, 'exp': 1738414410, 'jti': 'ID.EpjKBfYKqp7IhBDxbChmU0sLeDlkKnDvHD7-KUB99DQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'faf053b6c1ad6145c17c2461e0d19af1', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'vFjK6CxFLVYnmr7sKglH5A'}}
[2025-02-01 11:53:30,258] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:30,260] [INFO] app : User user4 user4 no guardado en db
[2025-02-01 11:53:30,268] [INFO] app : User user4 user4 guardado en db
[2025-02-01 11:53:30,269] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "[32mGET /auth/callback?code=r20UH-7GUftSbsozBjV3xbN6yqxGSzRgRoQsQQ0hVlw&state=iuVJLpl1CHeMi9F8Bi6jq8HhfWF64p HTTP/1.1[0m" 302 -
[2025-02-01 11:53:30,290] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:30,292] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:30] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:33,469] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,478] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MTAsImV4cCI6MTczODQxNDQxMCwianRpIjoiSUQuRXBqS0JmWUtxcDdJaEJEeGJDaG1VMHNMZURsa0tuRHZIRDctS1VCOTlEUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImZhZjA1M2I2YzFhZDYxNDVjMTdjMjQ2MWUwZDE5YWYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJ2RmpLNkN4RkxWWW5tcjdzS2dsSDVBIn0.GJpib6KUE43BCJCF9WmEqQ6E1IHvc9ga0-tQBUaFUF7Knd992NNI5FP4TBJUTwbv6IDEYwk6VbB97Pu-8aJHqrqajK4GuOSvRozkfSdatMIZnT6iYPMW8TW-FxenoHT-OFEeZdyq0_ATpdeVxnDNC-8MWTSl97KPRhZ7mHaJ8UiSglwfcCV5mwLE8kycLeHbwGJjetr_fiTVHOZdOkdyR_ueRvRO54epN0UYsakvGzyEoef_as5hGqwHSbFsAs6-fuKenU5mxP1R4UDUmZ5XMvVLYxwLOmxCwsaMZ0KYjLHw_fJKO2ps03nXwC7M_zeOzIS-9H-ZAu-2kgjJDpipQg
[2025-02-01 11:53:33,482] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:33,923] [INFO] app : Token de la sesion: None
[2025-02-01 11:53:33,924] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:53:33,926] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:33] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:53:54,609] [INFO] app : Usuario no autenticado.
[2025-02-01 11:53:54,609] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:54] "GET / HTTP/1.1" 200 -
[2025-02-01 11:53:57,652] [DEBUG] app : Asignamos nonce a la sesion actual: 72246a9b1b1c02879f02c06616ac53c5
[2025-02-01 11:53:57,652] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:53:57,655] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:53:58,108] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:53:59,053] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:53:59,059] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlVnQU02RXhiZlFORktZTUR4NngxVFFHVEUwOFFoU0VoYmRIcldOMjIwSE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.Q9XCW4qo8VQ98078kF845adrJu1bi3ufrtVWMJSUUpigmqi7rhdfu-Uq290eToNDuh8G1v48WQm4TU-noPB5Zh-4BB7RfmJYtNM3YldknxUHf888bafeCyfaolsTQlTrxuKEwEERmbSBcyhXwtn_OGkpm2cYhECI4F-HaReJQDrCQp-o7-m-n8im7DuVk4UFq1IlF25X18XESUltP21ljnUtnJVFmYkgHnH8qxto3PC_gZUZzBru8KVqG04nj8ulezz7Xvcb1hB0nvnrm9j1G2ih1IB1OW3dDG4nu7irdlh-FhBZDeM3OkyNJ-jw7i7z9GwQq9UOXz0EHg-yJi6u8A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g', 'expires_at': 1738414439, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410838, 'exp': 1738414438, 'jti': 'ID.y2DiwQ2By1GuW4FZ6jyb19h3ugtNwwSxbt7uT2w2gbI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '72246a9b1b1c02879f02c06616ac53c5', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'Fqy01f7yzEzUkl6wwsG4eg'}}
[2025-02-01 11:53:59,072] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:53:59,077] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "[32mGET /auth/callback?code=gt0e69FdYQ__r9LboSYBM9bhEAEtHiYJ922H0NzotbI&state=NhHwq3fw2I1C8GIc9ReHwxuE3KeoSn HTTP/1.1[0m" 302 -
[2025-02-01 11:53:59,099] [INFO] app : Usuario autenticado.
[2025-02-01 11:53:59,100] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:53:59] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:01,596] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,601] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4MzgsImV4cCI6MTczODQxNDQzOCwianRpIjoiSUQueTJEaXdRMkJ5MUd1VzRGWjZqeWIxOWgzdWd0Tnd3U3hidDd1VDJ3MmdiSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcyMjQ2YTliMWIxYzAyODc5ZjAyYzA2NjE2YWM1M2M1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJGcXkwMWY3eXpFelVrbDZ3d3NHNGVnIn0.ZWoshHrMxKJE0Plcj74UjnnGwRspD6pxf_H4ShDdwg1UxqvzSgcTnfGBcHTg3xjMb3-ZlpvgucziMyKJ91jWX5GJQoucw_551Hh8_wvUTddtV-Z4szghcyA3RPoWGF1gN4Up5C87QtQ7tuyZFHoeuYvoJsBQjDMNVa62dVSDmc1KZMOPtCqFnDYviT0cyq38LfwLEVEMJZxzumMNNrXZ4nQTL3qBj5r68PgL9MVfC-QNnuWzCQ0KUxJ8nJsx7mehinMCKmjRumyhnexo1xyhfGzTzserG4JvyrgWOzZcqv2dYgF0E3D3zhiQfwcH6slW2EzSbk0_gQmfLPCv62Ey2g
[2025-02-01 11:54:01,604] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:01] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:02,861] [INFO] app : Token de la sesion: None
[2025-02-01 11:54:02,862] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:54:02,865] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:02] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:54:18,985] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:18,986] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:18] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:21,682] [DEBUG] app : Asignamos nonce a la sesion actual: 2fafc717fb352c0ec1de4c8a298e4c3e
[2025-02-01 11:54:21,682] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:21,684] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:21] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:22,279] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:23,312] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:23,316] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkZTcG9VS0ZDVjRYVHNqZnJvYjVHb3hPMnAyMkVIYVZsNmZib1B0aEJaU2ciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDEwODA4LCJzdWIiOiJ1c2VyNEB0ZXN0LmNvbSJ9.EKZumUCSdzUu344JkWd2GrzHv5zRMlQx-7ONv-3AfldR6ZIBi-boq_ujDxZsN6CwphpdmezmcvQOqO8jSlUWs_u75AxOIhXRoc-CETfD4cXW6qae1On7nAKzGdp3xVVqHiLL1gAZlwsuxAgliDHbTL2J6pTkR65iA994QXp8iyQT0aKEicBfchUUVxLvltOSE1dJnoS-Y3BHZ8ma8KBZj8fF4r6AaUIjVqybEkQTEhP-05kV1yQa-S3mH8FHqdSMwHp9zVG_V_60IxWMeJo9XGs0b6kWFAj6-i1y3kXoVJtnNRTZk0RRptVPRTq3Ztw0_J0Y8fxDTEt0vLYQjqsobA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZiczI5emxveFJ0VTVkNyIsIm5hbWUiOiJ1c2VyNCB1c2VyNCIsImVtYWlsIjoidXNlcjRAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NjMsImV4cCI6MTczODQxNDQ2MywianRpIjoiSUQuT2NZdmlnaW5LTTllWE1VVFFGbTRyMTR1QklrRlhfWFgxejZjUktzM3ZTNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjJmYWZjNzE3ZmIzNTJjMGVjMWRlNGM4YTI5OGU0YzNlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjRAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA4MDgsImF0X2hhc2giOiJNQVVVZzR3dzdFN3hmY3NiNGRhanBRIn0.VuY7Msg80CWaL83Vgitn-iVwEJXaiBQGY-IOo80NgzrHy5t8UPiJAc1RaKRqMAZuOZdqPRe2nBkyt3nGVUVlABluKNgAF8TfR_3d2E-8LxD_T4OTs6wlOFyRnvCwfoBFdrtm4tuLXDUjINejAdR4V_IzwI7MEm1_8C4AsC3TEh-4nT4rH8Y0p9PigJJrDwoT-hlDxKGbX0cAtrMy6UgFkbQU976ayDMKPIqaIY_PhIwXOhgctbvV8XLoGq4CuPB5yPYGUMfUVFLtbpOhfKS3_v7IeFIXtbs_PzVeQD5UztCS0cXON5i8MRdfuBohCOkbfCpIqreohMNHZyoUkZIFTg', 'expires_at': 1738414463, 'userinfo': {'sub': '00umz6bs29zloxRtU5d7', 'name': 'user4 user4', 'email': 'user4@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410863, 'exp': 1738414463, 'jti': 'ID.OcYviginKM9eXMUTQFm4r14uBIkFX_XX1z6cRKs3vS4', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2fafc717fb352c0ec1de4c8a298e4c3e', 'preferred_username': 'user4@test.com', 'auth_time': 1738410808, 'at_hash': 'MAUUg4ww7E7xfcsb4dajpQ'}}
[2025-02-01 11:54:23,324] [INFO] app : Sesion info user: user4 user4, email: user4@test.com
[2025-02-01 11:54:23,332] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "[32mGET /auth/callback?code=gx6Pl1yvPOiwdNzXX8_kgHe4lK-Zn-pRUUBAqHZKbJU&state=C1wyLBpPwgeusUvrQEpWIiXmUZtI6z HTTP/1.1[0m" 302 -
[2025-02-01 11:54:23,353] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:23,353] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:23] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:33,712] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:33,713] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:33] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:34,596] [DEBUG] app : Asignamos nonce a la sesion actual: d9ead1d94c05187b598f5b1e50d55101
[2025-02-01 11:54:34,597] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:34,599] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:34] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:54:35,301] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:54:36,251] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:54:36,254] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULktyT2ZmM214bFZoVkVsaXM5b1huQVJabzdSaHNDRENwSHJNRUJoN2JqZzQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwNTk1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.ZF-xt7Wg6PNhyGTL9DZHyiX14EtTADGR648w_5iYWlKwmjkNH2jkLUZ8ljs3CNerpXT_5HZS_d04KZqIzlfabe6TLMlvr3zLqq7imR_KPXy0jrScT7WB2hoQYq95erw_5hdvf-TOPdhGHBPyK_EP2mDQl5I5HUoAJqTAgTPF_-Aep4z3kyhdkEQW33rkvR5N5ahzq8zWn-4n5JDPP4Wvb9jzyvxp-bFrY_vnCyQrseIR-AzoHfdvFasylfMScz_9W1u1oq75Nzgftfd0EFjE8Kk39ZtGbsXI6l63MVPbAxryJskmo_Gly9XS1JHJF_9PUb6Mt7mWk3Ji_lVJWTvPJg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA4NzYsImV4cCI6MTczODQxNDQ3NiwianRpIjoiSUQudlJjTkI3SE9oMFNwZXByeWhEa3ptUnZVM01qNzMzQWFtWm9JTDVNeGN5byIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5ZWFkMWQ5NGMwNTE4N2I1OThmNWIxZTUwZDU1MTAxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA1OTUsImF0X2hhc2giOiJTV2VTV0xXSnN3anFPWkRsSnpGYk5BIn0.bQysvPUVyh2fdislwAWM0ctcM6GkJe7xwQYzlkUHfNu0vdENIFpO7aNVUuBDtdnVbnLfpmN06_N9OKY_YDXNiVez8dBualDDPoFOGhzBkbUtHYXmhReMiyVqJNkOcplih766zPuSGwXDa57c1mXgA0NPlQaWbHKFbN17ZL0bwMeKE_2IjFPd0O3Vk0WiHUgVrVHNXGS7IL_neIKmFWvduIYInyB1c4UfNCJ88Hr_Yuth43B3xBMwhXnD70gwXJkjlanbgE4WDWld2CaVCP4_SDhbCwPVfpCCn5lbKSomVxa8K95Hx-NkkJDDLh0B9EAp766_TTN8ipMH7utbBnvoAg', 'expires_at': 1738414476, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410876, 'exp': 1738414476, 'jti': 'ID.vRcNB7HOh0SpepryhDkzmRvU3Mj733AamZoIL5Mxcyo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd9ead1d94c05187b598f5b1e50d55101', 'preferred_username': 'user1@test.com', 'auth_time': 1738410595, 'at_hash': 'SWeSWLWJswjqOZDlJzFbNA'}}
[2025-02-01 11:54:36,262] [INFO] app : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 11:54:36,266] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "[32mGET /auth/callback?code=vGaGyG4fqQSE9me79iJJkI18_sgf042TDIIDBdA5eW8&state=IkkC9LoQaItVVtJXacezpUdMfooks3 HTTP/1.1[0m" 302 -
[2025-02-01 11:54:36,280] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:36,282] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:36] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:39,571] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:39,572] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:39] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:45,690] [INFO] app : Usuario autenticado.
[2025-02-01 11:54:45,691] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:45] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,027] [INFO] app : Usuario no autenticado.
[2025-02-01 11:54:55,028] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "GET / HTTP/1.1" 200 -
[2025-02-01 11:54:55,057] [ERROR] app : ERROR: page not found!
[2025-02-01 11:54:55,058] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:54:56,519] [DEBUG] app : Asignamos nonce a la sesion actual: 427f651bf77f8af4ecc7c3f0e24fce7b
[2025-02-01 11:54:56,520] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:54:56,522] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:54:56] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:55:05,179] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:55:06,138] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:55:06,142] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJjbERhaWdXalZoTnJXN0NCQXRFOXBGT3F3QTg0eWZVVjAwMm40Q0lIYlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTA0LCJzdWIiOiJ1c2VyNUB0ZXN0LmNvbSJ9.VodKWK3LC6GZ0Vh50oBVnPPJaIqfOORvErn4x74qicIwPSD2VGDtUnHREvPZ00Rly6m7Js01BMkrjYK7owDCCfHPZlYvsLxiKUHWLZCouKEVyCCflTltX2fBMjPyWGjouueSY0f90-NRNUsVCKW-a2DTEvLlfWtrdv1Bd0blM5ak7tnDvRUuZ0hBhmSzFgT1kxjhyoDxFuQMK8pi--BSCfZJ-YBJDKINmdZuf25Lk-H4HoK7TiB3E-6OiOSvR8KsFRlEx4uXbhlOHLv_b9Ekx34EHJIQGI6C2l6rIRPwMzIMd-yy18k4I1UqOIBHxzbN8gc775uFQiNt9tPbiA3vdQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ', 'expires_at': 1738414506, 'userinfo': {'sub': '00umz6c09w7AcBQfs5d7', 'name': 'user5 user5', 'email': 'user5@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410906, 'exp': 1738414506, 'jti': 'ID.NHoAXw1TGdnpAGok2T3fJGIzg9rTan9cF2WymJxfZZ8', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '427f651bf77f8af4ecc7c3f0e24fce7b', 'preferred_username': 'user5@test.com', 'auth_time': 1738410904, 'at_hash': 'wPDDIY-m_htYsFxQxzr-xA'}}
[2025-02-01 11:55:06,149] [INFO] app : Sesion info user: user5 user5, email: user5@test.com
[2025-02-01 11:55:06,151] [INFO] app : User user5 user5 no guardado en db
[2025-02-01 11:55:06,157] [INFO] app : User user5 user5 guardado en db
[2025-02-01 11:55:06,158] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "[32mGET /auth/callback?code=NbRViNMJ1Yt8DTlu-spXXykTR83ziZjzMx4BTMDlgaI&state=Q4Z48NWd4HdSSTwXMj4dt7XeMdKRoG HTTP/1.1[0m" 302 -
[2025-02-01 11:55:06,178] [INFO] app : Usuario autenticado.
[2025-02-01 11:55:06,179] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:06] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:08,524] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,528] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZjMDl3N0FjQlFmczVkNyIsIm5hbWUiOiJ1c2VyNSB1c2VyNSIsImVtYWlsIjoidXNlcjVAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5MDYsImV4cCI6MTczODQxNDUwNiwianRpIjoiSUQuTkhvQVh3MVRHZG5wQUdvazJUM2ZKR0l6ZzlyVGFuOWNGMld5bUp4ZlpaOCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQyN2Y2NTFiZjc3ZjhhZjRlY2M3YzNmMGUyNGZjZTdiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjVAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5MDQsImF0X2hhc2giOiJ3UERESVktbV9odFlzRnhReHpyLXhBIn0.nIc7vpR6iyybI719JWlBBGRmsK3arbf8YbwFYxmLytOHK5KXhLDBDZERtAlCpojtkjNNokmZyksDUJUH3lvw21-p_IRzctAT-nniGum_7O9hqZJZT8Jq0cnxlHwtnmFWaU_-nJfRoJo2oQRFBU7ilK-0o1KzdiejXg78dC_pPEsRyz6JM0nRqoR8moNo-ypQmvpp7FuxSZOIUKa9tTXgbL5ZTz1jQxmRIBHyLxL_q7Uq87fSZmsoE1J0DhQ2H1I7e6ZSMRa05qBW8sJmribSM_eC6oQF0zgFccOo4iKWJfeKq95_FdYykQgPGT_ShDvyV62gkLYyEPTHiX4TKhKrNQ
[2025-02-01 11:55:08,534] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:08] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:09,226] [INFO] app : Token de la sesion: None
[2025-02-01 11:55:09,226] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-01 11:55:09,227] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:09] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:55:58,086] [INFO] app : Usuario no autenticado.
[2025-02-01 11:55:58,087] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "GET / HTTP/1.1" 200 -
[2025-02-01 11:55:58,129] [ERROR] app : ERROR: page not found!
[2025-02-01 11:55:58,131] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 11:55:59,733] [DEBUG] app : Asignamos nonce a la sesion actual: 8fb02ffbb5887b1141e89d8b97ff3022
[2025-02-01 11:55:59,734] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:55:59,735] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:55:59] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:08,562] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:09,732] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:09,733] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjdlaVVKWkRHZFlPN0RaQWh4by14R2x5bW9YM1NMZm9abzRRR0VzTlQ0WVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDEwOTY3LCJzdWIiOiJ1c2VyNkB0ZXN0LmNvbSJ9.B6zc22NYUyiH2uauQg-rQcKV9FDMvB9gk_bgydDY8VPfNZ2MVl9LL6-tR_ES_9CbVNA8aTe4x_s1BQE9tZcE_wExZ305cuuWcBhoAncYEJTF-_qvtpw9k87Ck-UqM0N9RzFk7NYPw6UeuUqyCn0rZ7OKZD_WD0EJnlfDmvl0lE52g142TDwV26YnEeiBG7yei8JTYdbj-dL3n61GGdt8B2cncKsgy6HkW5Ee_UB-ezmArXlDUdrkHCADKac40Hg5mq5gkWHo3paYawMFpxHalfDaEYDU7BCOz-oUWv23GiFndIfPew2iNn-rHm0718smXIlXGCBKr4sMHyUSgw4vCw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA', 'expires_at': 1738414569, 'userinfo': {'sub': '00umz6a5d3yEbs5yX5d7', 'name': 'user6 user6', 'email': 'user6@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738410969, 'exp': 1738414569, 'jti': 'ID.CzskWlGIP5xENLnk9nhxxwLbxfzuz4cyK9y9i3rFtTU', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8fb02ffbb5887b1141e89d8b97ff3022', 'preferred_username': 'user6@test.com', 'auth_time': 1738410967, 'at_hash': '8dPcOciMI7i1bWQdWTP9fw'}}
[2025-02-01 11:56:09,739] [INFO] app : Sesion info user: user6 user6, email: user6@test.com
[2025-02-01 11:56:09,741] [INFO] app : User user6 user6 no guardado en db
[2025-02-01 11:56:09,750] [INFO] app : User user6 user6 guardado en db
[2025-02-01 11:56:09,751] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "[32mGET /auth/callback?code=2k94UqRAsDQCNAzd1RVRGErpH73gcx4ZQ55u-PCiMEM&state=WzO68D0mrd4OLvTGQc6xi6MNOxGrL0 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:09,756] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:09,758] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:09] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:13,510] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,513] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhNWQzeUViczV5WDVkNyIsIm5hbWUiOiJ1c2VyNiB1c2VyNiIsImVtYWlsIjoidXNlcjZAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTA5NjksImV4cCI6MTczODQxNDU2OSwianRpIjoiSUQuQ3pza1dsR0lQNXhFTkxuazluaHh4d0xieGZ6dXo0Y3lLOXk5aTNyRnRUVSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmYjAyZmZiYjU4ODdiMTE0MWU4OWQ4Yjk3ZmYzMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjZAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTA5NjcsImF0X2hhc2giOiI4ZFBjT2NpTUk3aTFiV1FkV1RQOWZ3In0.lEhpvvrOZv53HJQJwk1Lj8gdCNSgSy9aeo6MIdJtnyvAHJFnkXN0t-AmDGzJQVFGe23ThD_w0AQj2ZsBO5OMsyuwENLEA1kMMpZDVx189djHw8fczaz_c_c1L7rk4BFHL0s0K3viduXcXdH8Uvz3JnJ6lPDWVdHwUuBFNvy4zKrfoTYkA_UG7OAuL4j6ciOPGpIV5NBH-Jnae6hjtnlpjW7O3PVVGQPLmrnwG6s1phWkETC8bfNu1L4TO5MbFF_038mbbCu9I6fT0YTKRQbPZOW5Jno47L4jGASd6O7_WEf7FV-L8_1ah9Vh7rCBkLXnGcEu-77onePmXOobRFlvyA
[2025-02-01 11:56:13,516] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:13] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:14,075] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:14,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:14] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:16,074] [DEBUG] app : Asignamos nonce a la sesion actual: f0f486423abf20456b31da1b0a18db24
[2025-02-01 11:56:16,075] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:16,076] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:16] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:40,885] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:40,886] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:40] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:41,928] [DEBUG] app : Asignamos nonce a la sesion actual: f0d961590135623807eb7097d5f5302b
[2025-02-01 11:56:41,929] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:41,930] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:41] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:56:51,747] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:56:52,692] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:56:52,695] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNteHZLVTNheVVBLThWUi1KUnBCMzRTaEVncjNSTUpjMGNKYlRjYXp6UkEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDEwLCJzdWIiOiJ1c2VyN0B0ZXN0LmNvbSJ9.PMA0vJVbkNg6QiHiQLQJpTj7ThJzysTSpgOI8h96PIHmqBpsng9WDXHc_PVe31_n3w8QH71W7A-56cC6c9kdbAAXzWtV4zc2bWN2zbWWYRbcnraT18tGLQ_iKEAurl2PmRWuVNWcvXpu7fZs3IL3krvif_cjRarEao73jYQcuYbyxK-EtBNfLwlcwGTj6FcPA2VhyuwbKQpSFGbPAEUAgfWX0IVz8xqqF9rlgTxvwuC2_nwYZcFAFGqWoKyQCUhNvwOQ9UxRjEbpdSYQuLiKdNSp1WvhssZ3eIs_xbs2CSnSC9B_cJXA301q-AYlOuGt1qVedsNwAhsPQimFR8UQbg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg', 'expires_at': 1738414612, 'userinfo': {'sub': '00umz6dwfcpwcMSnk5d7', 'name': 'user7 user7', 'email': 'user7@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411012, 'exp': 1738414612, 'jti': 'ID.TUgQStKncQkYWG6QCJZPbfK1-wyRpMMpWi_uGhO09DA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f0d961590135623807eb7097d5f5302b', 'preferred_username': 'user7@test.com', 'auth_time': 1738411010, 'at_hash': 'FTIpNEKxAGkTRltgNFhPOA'}}
[2025-02-01 11:56:52,701] [INFO] app : Sesion info user: user7 user7, email: user7@test.com
[2025-02-01 11:56:52,703] [INFO] app : User user7 user7 no guardado en db
[2025-02-01 11:56:52,712] [INFO] app : User user7 user7 guardado en db
[2025-02-01 11:56:52,712] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "[32mGET /auth/callback?code=FsNtK0VyhGTXu6Jknb_mM2AcGe-EKZ-tqxYWgo2arxs&state=PeFidQuSNhrH6YXu9IkccElx9J2Ss6 HTTP/1.1[0m" 302 -
[2025-02-01 11:56:52,717] [INFO] app : Usuario autenticado.
[2025-02-01 11:56:52,719] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:52] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:56,384] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,386] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZkd2ZjcHdjTVNuazVkNyIsIm5hbWUiOiJ1c2VyNyB1c2VyNyIsImVtYWlsIjoidXNlcjdAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMTIsImV4cCI6MTczODQxNDYxMiwianRpIjoiSUQuVFVnUVN0S25jUWtZV0c2UUNKWlBiZksxLXd5UnBNTXBXaV91R2hPMDlEQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYwZDk2MTU5MDEzNTYyMzgwN2ViNzA5N2Q1ZjUzMDJiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjdAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMTAsImF0X2hhc2giOiJGVElwTkVLeEFHa1RSbHRnTkZoUE9BIn0.HWHMlljrwd0OSiO8mdDEIW_8BqRwonuo2YxKYOtm9yEN7iHgVHeSJVQHc8yinO_weXliBzgfP-ZFtjyMJcJyYdQ0e-87jJ7AzK1dvESgChK-mGTEySnys1tihYAZ31n0R0NhgjVOshdnDhmetynHNcbCEas8KUKbaU5juNdNX0djpP_lS9QxB4PKuu2rUhIApt-UWjuKuRDt0Zn-S02qoxF1BglbvxinpD-FxM-7_5D8pjl4jkUZO7qmzyr8dfColznMp8Y1Jj1IUfVHyjXckEd1YjZ8ujuqNWWw59qAMJRYMOzFmz0DQGIsWejEIdiq-IoYpot16EuRHi9bUF3oLg
[2025-02-01 11:56:56,389] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:56:56,771] [INFO] app : Usuario no autenticado.
[2025-02-01 11:56:56,772] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:56] "GET / HTTP/1.1" 200 -
[2025-02-01 11:56:57,909] [DEBUG] app : Asignamos nonce a la sesion actual: 714ff9a037c4f0f7a9b5d10a53f956e5
[2025-02-01 11:56:57,910] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:56:57,911] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:56:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:06,619] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:07,464] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:07,470] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNOOXZMeUtNWlVLZDRoMEFUZ0hkdVVtcG0ybkZ6S01ETzJ1aGoyb3BKNUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDExMDI1LCJzdWIiOiJ1c2VyOEB0ZXN0LmNvbSJ9.i2CyJIjef-RFN0tzNgE-GRzb8qeUBSrO3VFtJzA413KAs5w9RsAHpuoHSzwSLhSX0oz_uVobRWhvjDElJt-B1wMRSex5ua1UK0oQCcmAXLmDOYfRK6vkbIlMgxPwveDNChdNVx7NXCrPhxfBARAm1Ddw6h24iMPiSva3M9rVE6CC89gQ8oK_x-ER1e69Zr5KM8lAkOHA5NYPDN3Sd2yykc4rURex-e9t0AR17S63KXwkbFsSL83PyN7F6WKVwY8Tuukj3g-n3YtTZdsVSussHhQpjFXKjadw-79dV9u7DcAYPcS78s9xdTnjSrxBXJ5ZakPkM0zZK68YrCJSSbBh2Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ', 'expires_at': 1738414627, 'userinfo': {'sub': '00umz6e08eTCpF5DQ5d7', 'name': 'user8 user8', 'email': 'user8@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411027, 'exp': 1738414627, 'jti': 'ID.NaxAaIXwU1_COVVY-_eo62-NEMeXy0Qn9ulQfSkI_JY', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '714ff9a037c4f0f7a9b5d10a53f956e5', 'preferred_username': 'user8@test.com', 'auth_time': 1738411025, 'at_hash': 'w4LtpIg9pJUv_RsniM5zmg'}}
[2025-02-01 11:57:07,476] [INFO] app : Sesion info user: user8 user8, email: user8@test.com
[2025-02-01 11:57:07,478] [INFO] app : User user8 user8 no guardado en db
[2025-02-01 11:57:07,480] [INFO] app : User user8 user8 guardado en db
[2025-02-01 11:57:07,481] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "[32mGET /auth/callback?code=q4q0ttqlWpPool-GHIpEWrRi9oyCm-8n-VqNXokiCFc&state=pfiBlUZA1Dn73X1xNaptD8ZLOJCv2S HTTP/1.1[0m" 302 -
[2025-02-01 11:57:07,485] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:07,486] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:07] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:11,106] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,111] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZlMDhlVENwRjVEUTVkNyIsIm5hbWUiOiJ1c2VyOCB1c2VyOCIsImVtYWlsIjoidXNlcjhAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwMjcsImV4cCI6MTczODQxNDYyNywianRpIjoiSUQuTmF4QWFJWHdVMV9DT1ZWWS1fZW82Mi1ORU1lWHkwUW45dWxRZlNrSV9KWSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjcxNGZmOWEwMzdjNGYwZjdhOWI1ZDEwYTUzZjk1NmU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjhAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwMjUsImF0X2hhc2giOiJ3NEx0cElnOXBKVXZfUnNuaU01em1nIn0.f41LDMbVvKtVL-WZp2mqJqpebFXRRYS26f-UZZWgEt2q2Ghev5YXpi8kJtrEmfCsIrXy5SCOMGsDgksA6hkIddCKcxlkBstej1xPfBJlcf2L5sjT2R5cYNw3Q_ZZTsxuqyXN89Asa-aSs_2ugS_dMjnGuj1HD-5zxWTXSkBT81G-5epXfUWaAgRzULZK2C-fiRK96DttRZxnIGFD5ndCWC5CecDbP8EAfXZk8z8xSlKd36h1Hbadaoy3j0lRUcMAGBufltJqT_3x3jQ2qeKn_O28wgaI7oYRHTlLabTZKBPGKehXuxQGCnpRQpG3XGS3c3hBvXVBcwSVNcZzOOhWKQ
[2025-02-01 11:57:11,117] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:11,675] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:11,676] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:11] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:12,940] [DEBUG] app : Asignamos nonce a la sesion actual: 83e8e0f2fb0944c051259d95b70b6438
[2025-02-01 11:57:12,941] [INFO] app : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 11:57:12,942] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 11:57:23,549] [DEBUG] urllib3.connectionpool : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 11:57:24,616] [DEBUG] urllib3.connectionpool : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 11:57:24,622] [INFO] app : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk1PV1R5N0NfSGZDOTBrSDBYLVBqZFZKT3d4UVJuMWJCOXFRUGtVUEU2Q2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExMDQyLCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.eYYHjjehF10KjAMkw3C28urFawYDyEsTQXEUu7jBfKRSoKzlNIEXBYWFVNr0rXQUMwsb1Xrp8X1V782jJCVWCXuJfZ3_bgpBl3Qu5mSsJsFiazHXjGdEoNVp-wbqgNZXvg3lX6b_EsIeTOuKQy3OpSWqz_c9bXtqPSYryIjUd_7JHwIE6yQ03iFuN8G-lk72g3o86uP5nwiyGvpPBshrYrenXbS7MONvJHDqdszJEA1uqJ4rQVHuQAqKeWJWJZ2lBzZCUk8dG-Qt3UP8rCil0rt4XDI3EkQeO7BwtQUXR0JD66FfqXOuMRBMVcotupyJpa2q3tD8tpt9XPNP8KrdPA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q', 'expires_at': 1738414644, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411044, 'exp': 1738414644, 'jti': 'ID.THL0OvzCh2vxcuyOlWgj9lVarmzo30z-9zAVTUvPkKQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '83e8e0f2fb0944c051259d95b70b6438', 'preferred_username': 'user9@test.com', 'auth_time': 1738411042, 'at_hash': 'oLO5rAvFmVzp0FRx_SaZqQ'}}
[2025-02-01 11:57:24,631] [INFO] app : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 11:57:24,633] [INFO] app : User user9 user9 no guardado en db
[2025-02-01 11:57:24,635] [INFO] app : User user9 user9 guardado en db
[2025-02-01 11:57:24,637] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "[32mGET /auth/callback?code=R1p33TC-nX2Y7ghyH38NTMJUS210TIoGZ4Bpk76WlxI&state=bgNwJ9t44qhHXU1lqTfXnyWV44lu5b HTTP/1.1[0m" 302 -
[2025-02-01 11:57:24,642] [INFO] app : Usuario autenticado.
[2025-02-01 11:57:24,643] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:24] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:31,034] [INFO] app : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,036] [INFO] app : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTEwNDQsImV4cCI6MTczODQxNDY0NCwianRpIjoiSUQuVEhMME92ekNoMnZ4Y3V5T2xXZ2o5bFZhcm16bzMwei05ekFWVFV2UGtLUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjgzZThlMGYyZmIwOTQ0YzA1MTI1OWQ5NWI3MGI2NDM4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTEwNDIsImF0X2hhc2giOiJvTE81ckF2Rm1WenAwRlJ4X1NhWnFRIn0.W6HaGJfydGih93HHRF1JzL_D2aZG9k_4Iqb5IuFdTwZi8ktuEaNujfHPIDdDTQSZ1cJQTM611SmZxqkt9O6cbaHR16ARaksCedVaaDH8KuiNPILh8qRw0nFIq_VpYv2jvZK2ktTF7XKu59H3wG8w4seWtOfXATP3f79ZASvT5KeUbr-0yH4m68FjbACNGua4bZnScR3L0EitVP4p-Dzk45FJRHM420D148-9eyDTXKGSv1ciTBqLN65AS-vITQxytLOpqCEkuZlyAioiocflx2NDKDQwoyOAuagZwO46iiIJ4ptfj7XOrSMuA9d9IMkHa4hMIPzvdWwHUxlFPCzE_Q
[2025-02-01 11:57:31,039] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 11:57:31,600] [INFO] app : Usuario no autenticado.
[2025-02-01 11:57:31,600] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:31] "GET / HTTP/1.1" 200 -
[2025-02-01 11:57:33,829] [ERROR] app : ERROR: page not found!
[2025-02-01 11:57:33,830] [INFO] werkzeug : 192.168.1.41 - - [01/Feb/2025 11:57:33] "[33mGET /k HTTP/1.1[0m" 404 -
[2025-02-01 12:03:01,421] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 12:03:01,423] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 12:03:12,605] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:12,606] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:12] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:14,781] [DEBUG] [app] : Asignamos nonce a la sesion actual: 575c4842e72935132ebb1faf7bedd40b
[2025-02-01 12:03:14,782] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:14,783] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:15,616] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 12:03:15,619] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:15] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:03:22,871] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:23,903] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:03:23,905] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:03:24,856] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 12:03:24,861] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjEtenNPRE5EYXBSdkxpS3VIc3dlYkNLYzEtZWhVeXhuT2ZRWDNoam5wemciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NDExNDAyLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.RYNFrsOGaEtZCNsVMBv2AN3GGyikoEHpGxp_TP4Sh5HuvQ5VEbA8KGVjaRcmMjuADHvl3bQOtLc023wnj6XapblJUsZ73lEP2v5daz4lNo46D0HhQ-u1SDsFzogGTur4WVmtDg1oGDi9L8VDgOIPvn1HuDH1_4FunnIjFFY-MaHR56gy0jSi-ZWmKb_UKpaEaydVScC5XnwMIVjpaqmuJ1gTyfKlYinkgjH_bj5VTXTSh2Dd0eqdZEJcDJkC452-5-hhg9qDG3frpLL4nO82cgoJV06tYd4jewfKdmKjXhzYm9-c0d_c_bGqjqhuCeU91wc7mhxP7rD0FN5gL0fvrA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw', 'expires_at': 1738415003, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411403, 'exp': 1738415003, 'jti': 'ID.mhDj9e6UoEyE--DuTjocGDONDCv3cQTySSSvHtUacsA', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '575c4842e72935132ebb1faf7bedd40b', 'preferred_username': 'user1@test.com', 'auth_time': 1738411402, 'at_hash': 'X2KYZ7QMzgmWJxn8jiwznA'}}
[2025-02-01 12:03:24,867] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-01 12:03:24,883] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "[32mGET /auth/callback?code=Q8ThXgY3cbvtYBFWHHjjHm-WuDp4MWu1IjrK1DfX8_g&state=uzl6lCQ0DUOoQwrKYs8YVKIkidnPAs HTTP/1.1[0m" 302 -
[2025-02-01 12:03:24,890] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:03:24,896] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:24] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:27,615] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,618] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0MDMsImV4cCI6MTczODQxNTAwMywianRpIjoiSUQubWhEajllNlVvRXlFLS1EdVRqb2NHRE9OREN2M2NRVHlTU1N2SHRVYWNzQSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjU3NWM0ODQyZTcyOTM1MTMyZWJiMWZhZjdiZWRkNDBiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0MDIsImF0X2hhc2giOiJYMktZWjdRTXpnbVdKeG44aml3em5BIn0.EX9ZinyjUKRfwPuoZRka7vwTVYRhzwp2DZHSTNdA78-T8Qu5PBVsTrfezpBcrX6k2M8N0nzPX-nDcFklnwufNLGONFPL-zLPaeChFZ2hhUtSr4FqfPQksNsy1hvG6PR0gMOMWvbRbBywekJrmrec20GO2byHh-yMq4KMxuzgGZDxPrfUmXsSpj_7R-DyX19htAHpZY19tG5GM9Wbq4qQnjBMu_0YOIncSgGhQWVpomlvwCbuL_YllbVz3mRbunzXyIi__5tOOMBBmczr9IDCthvj-nvtCLKB08r7WaG_EWzPIK0pzgvpUQBOacKfzH4TV9x-AgLY8d0nNL5O86wWAw
[2025-02-01 12:03:27,621] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:27] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:03:28,236] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:03:28,237] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:28] "GET / HTTP/1.1" 200 -
[2025-02-01 12:03:30,349] [DEBUG] [app] : Asignamos nonce a la sesion actual: fc1c76dfa23360fa7b07f10e530b2ce5
[2025-02-01 12:03:30,349] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:03:30,350] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:03:30] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:08,572] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:08,572] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:08] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:09,645] [DEBUG] [app] : Asignamos nonce a la sesion actual: b8a32a88453215fdc9a0a84f5344a6ec
[2025-02-01 12:04:09,646] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 12:04:09,647] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:09] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 12:04:17,205] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 12:04:18,137] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 12:04:18,138] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkE3WEEwY1V6ekd1MVFkQldjY3hPVWVuQkZWYTlXdUU2TDNwWXhXOFlqdlUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDExNDU2LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSJ9.m7ZPua1mZ23ADqamRnAfnKr1WXksJCfLADZYzhh0GnvnW6gHG-VaXNrA8wb_FPi1r-E9rAh6nf7aAa2jbPWOv5Bf45NTigwuofGr46PBw272C-fs3InXSV15ck8zuFzfS2RG30xpWvn77JvZlBaeRYt-PE9yZDcGKeacvvYVqh15SEsrrz4rmICU8cpOs1wvRWwBb7ps6MgG1IHoEpv4LTJRpYgOKVZcnBPaERvnVBOg9lBh-xK_VlD5o5nzoSGAPLDHhePTN1YubfTJRVrw1mpa75IVhBbkzJC66ZJbFTdsegY1QWmm4mieTQcjm_mWuKUtuNHmPb2UZ_LdElW8cQ', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ', 'expires_at': 1738415058, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738411458, 'exp': 1738415058, 'jti': 'ID.v2CAVoQ2Jt_DMOYo-ZxkLQzizH1PaOTVtTPudr2GBrk', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b8a32a88453215fdc9a0a84f5344a6ec', 'preferred_username': 'user9@test.com', 'auth_time': 1738411456, 'at_hash': '2TFXdZSsT6Yg9_Ld65shrg'}}
[2025-02-01 12:04:18,150] [INFO] [app] : Sesion info user: user9 user9, email: user9@test.com
[2025-02-01 12:04:18,154] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "[32mGET /auth/callback?code=sjf2DnXO5uGcYfopmpUkOe69kPH0tu7sIQxhyizFhIM&state=FdL7Ow1LFPsVWLjNbUiQQMy8M4mlr3 HTTP/1.1[0m" 302 -
[2025-02-01 12:04:18,161] [INFO] [app] : Usuario autenticado.
[2025-02-01 12:04:18,162] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:18] "GET / HTTP/1.1" 200 -
[2025-02-01 12:04:24,551] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,555] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MTE0NTgsImV4cCI6MTczODQxNTA1OCwianRpIjoiSUQudjJDQVZvUTJKdF9ETU9Zby1aeGtMUXppekgxUGFPVFZ0VFB1ZHIyR0JyayIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImI4YTMyYTg4NDUzMjE1ZmRjOWEwYTg0ZjUzNDRhNmVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg0MTE0NTYsImF0X2hhc2giOiIyVEZYZFpTc1Q2WWc5X0xkNjVzaHJnIn0.GEp_vJ1XKEBD2O7Zfij-ofCY4qyLFpmnWvcvo7RjbwPDbnxhNb_BIa6KwQrA32N3jjckBNNqcEcMNM0Xg-IuRXbW2aWuvrPqkX105K7Mw56C7FxUVLFp4CFci9OgA9L7dx_JUJcfsUhN7VDp3axCoNZUJwPft0ccbHVch-vtXoU18nT-qY8I6Cb8GVx6i2oYKhTd9iFx3VZ63-cGpXRGG2CATqCd-cRj-4YFSod5A3mkbKhqvSmQBboRwYN7sHpLwaMNYXNSQ_3jPwf_1c80Wn9lqpiG28VcGYcr04Sk7Q-MKOWzDGJl_dGFrNmVO30kaiLuYk9j4PI9f0wrSHj4NQ
[2025-02-01 12:04:24,559] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:24] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 12:04:24,999] [INFO] [app] : Usuario no autenticado.
[2025-02-01 12:04:25,000] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 12:04:25] "GET / HTTP/1.1" 200 -
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 16:54:39,340] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 16:55:00,407] [INFO] [app] : Usuario no autenticado.
[2025-02-01 16:55:00,407] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 16:55:00] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:14,379] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:14,379] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:14] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:45,964] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:45,965] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:45] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:47,124] [DEBUG] [app] : Asignamos nonce a la sesion actual: 65a7d3e1d26cda69fd7baa4e07790173
[2025-02-01 17:06:47,124] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:47,125] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:06:48,146] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:06:48,150] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:48] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:06:56,164] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:06:56,164] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:56] "GET / HTTP/1.1" 200 -
[2025-02-01 17:06:58,414] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1536e5c63f0c7bfbe1662fa54fd032a3
[2025-02-01 17:06:58,414] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:06:58,415] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:06:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:07:34,628] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:07:34,628] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:34] "GET / HTTP/1.1" 200 -
[2025-02-01 17:07:35,725] [DEBUG] [app] : Asignamos nonce a la sesion actual: 76ea46f9b1b6214bdd6aeb54e5591c86
[2025-02-01 17:07:35,725] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:07:35,725] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:07:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:09:20,259] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:13:27,838] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:13:47,235] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:13:47,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "GET / HTTP/1.1" 200 -
[2025-02-01 17:13:47,506] [ERROR] [app] : ERROR: page not found!
[2025-02-01 17:13:47,506] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 17:13:49,387] [DEBUG] [app] : Asignamos nonce a la sesion actual: 9a49be442fa59a4018c2c5578cef21de
[2025-02-01 17:13:49,387] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:13:49,389] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:13:50,174] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:13:50,176] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:13:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:15:03,354] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 17:21:41,591] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 17:22:19,979] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:19,979] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:19] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:22,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 91a6990c55a25a077d4cb20fc46e33e8
[2025-02-01 17:22:22,240] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:22,242] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:23,283] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 17:22:23,284] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 17:22:30,193] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:31,241] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 17:22:31,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 17:22:32,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 17:22:32,053] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmkyX21RTFYybFVqVWpFb2h5ZzI5RkJXZU9uaVJzQVRnZWk1QURVYXRwdDQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NDMwNTQ5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.EompqS1fwk2FSjmnl7rA3ONhi6PyjulVIJm-wGUoYdInCoiY4ye8y0sUDuWc8LKaCzuvncS75SuQBMH1Oc8XYm8hkfHLTLT-U-xoONhS-W4d9XI7DACkjyBJqj_ICb02KjKojljjVim2dxOjVUOH6meLHDEStqw1FaTP7vlBLh9fDrWOMHu_zCDvZ2FQh0DiiEMaUYbQD9-MhDpIGYblVMV6QrFBJbdgeblVlBns7qmC24jvcxTL6wwE-n1M0mP3cpxjE0RveEfI45Y-n5VaUsfZ2cH389AVsQXu61wse6WrpilhgRCFvqwLqx1PcHrTYrPHZQeiiadu6EUMm0mj_A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA', 'expires_at': 1738434151, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738430551, 'exp': 1738434151, 'jti': 'ID.hNgxp0Z9n6YG-N7HRRMK6TULX-crKfvlTvn9baJmKqE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '91a6990c55a25a077d4cb20fc46e33e8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738430549, 'at_hash': 'Q_UIH1Qu-VcUrrU26sJe_g'}}
[2025-02-01 17:22:32,054] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 17:22:32,077] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "[32mGET /auth/callback?code=hvEfrDdIud0ucn4Os5aXIT5eWUILwh2sR8BN2q5q6ZI&state=RzJ94rqgYSwdEE1YcDXCNwCz4zZOAc HTTP/1.1[0m" 302 -
[2025-02-01 17:22:32,080] [INFO] [app] : Usuario autenticado.
[2025-02-01 17:22:32,080] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:32] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:36,983] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0MzA1NTEsImV4cCI6MTczODQzNDE1MSwianRpIjoiSUQuaE5neHAwWjluNllHLU43SFJSTUs2VFVMWC1jcktmdmxUdm45YmFKbUtxRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkxYTY5OTBjNTVhMjVhMDc3ZDRjYjIwZmM0NmUzM2U4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzMDU0OSwiYXRfaGFzaCI6IlFfVUlIMVF1LVZjVXJyVTI2c0plX2cifQ.n5wAkmx7UHu80H_VU8p_muPpHvDJhi_2F7y2fKtLSogJs6BRhPcOJOkRYcHUMcpRSYmdXF0BKsAXtwobped2VL2fnU2t60YHdfIPApKt8-Om6x_tW8Kcy4EjbVltOeerXLtg9Ijsy8ZO4kTSEYVMNKPuqAsiDIhKb7jMxTsrRYbEUsSt5ZosxjGI4YBxdaRWam8jByf518nm9InX7DUS1u9AcYHjCKWGZQYL7cBgT_BxIR450lg3PecIOmOOFc-3_ycqxHj0WEXgpL7GcZhGcjBihL4F6Wx3788ZLGA6bvy_0sdWXcXtTSqiI9yJdUX_aWocUZp8tP_rTciM-5lhvA
[2025-02-01 17:22:36,983] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:36] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-01 17:22:37,746] [INFO] [app] : Usuario no autenticado.
[2025-02-01 17:22:37,746] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:37] "GET / HTTP/1.1" 200 -
[2025-02-01 17:22:39,240] [DEBUG] [app] : Asignamos nonce a la sesion actual: 412c153977be2089a32187fa726389a7
[2025-02-01 17:22:39,241] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 17:22:39,241] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 17:22:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:03:45,934] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-01 20:03:45,937] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-01 20:05:08,986] [INFO] [app] : Usuario no autenticado.
[2025-02-01 20:05:08,987] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:08] "GET / HTTP/1.1" 200 -
[2025-02-01 20:05:09,036] [ERROR] [app] : ERROR: page not found!
[2025-02-01 20:05:09,036] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-01 20:05:10,307] [DEBUG] [app] : Asignamos nonce a la sesion actual: c2793408fd5754dfdf0bf59633388069
[2025-02-01 20:05:10,308] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-01 20:05:10,309] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:11,231] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-01 20:05:11,235] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-01 20:05:11,956] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,023] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-01 20:05:13,028] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-01 20:05:13,983] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-01 20:05:13,998] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNiUXk2dFc0cHdja0JfcXJnTC1Rd1E3VmJiVzAtdU9hVnNjdEgxQmhsS2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NDM3MzUyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gbQJs1CKfy2nlt0amLsqBbpt8pzY9DJu81cHj5crP_hYIj7yhhgLTOTSIi948HDU9_ZLakPNyAkF9V2e93rI87J19ev8HGllxTzlKDBJtsFRRqDhz5AteDqj6fV6XpkCNmObB0s7YU9jl-GnPFiZl3jGZqh1D_W_ABGwkQhUujg93y0_QSCCtU4iYkcC5uD1llC1yqhRidz4fOUIwxudlSW6doKNs9MsVQgQUe3LKbrwtlAox3iCSs1fZMjcOdBDDXi1qpOFxwd6E1HHfvgTKxyE7ugMNp5h81AXagIDbbyndpPat1yHLPsFdFQG1XNhG18RdCkt7NJD7EV1rtBT7w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg0NDAzMTIsImV4cCI6MTczODQ0MzkxMiwianRpIjoiSUQub0cwNVBMcndGX2lkX3dIMFl6a1V3RnVtQ3Y4UFBoQkZlZ1ZyN0pRdVhsbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImMyNzkzNDA4ZmQ1NzU0ZGZkZjBiZjU5NjMzMzg4MDY5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODQzNzM1MiwiYXRfaGFzaCI6ImxNMmxiWk82WVRjYjFIbzlTcGdmNVEifQ.P_ytmVZSnF1SFB_vVtpfWFfPy491cx3o_5wKK5zw5AMRQbFy_qLmIQALxdR2Y2AMGLPnUi0kvjw0YWlMaZ2yAbStvGreih_Zyd3NimkaLwu0Yjv7WND72o3Kdy2y3tXEvBX42naQypWfdqsFLwjomzOr9O4SOxWyFExr92WnDtGMqFWY_NKz9x-1PgkC_IQnTHO9t7QZl_rEmEB6Asx_LpeStf6XCT0xCOLkv_6V23ccxJQRwWe76YB-I8Uqye8Sbz9HEaV9Cdq5uCKj4eGADgjLUS4wglfsygKeS3c8pPfBKsJH-mFbuVjdlO7VeOVgABzCESgwm8txE4j1a7aNJg', 'expires_at': 1738443913, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738440312, 'exp': 1738443912, 'jti': 'ID.oG05PLrwF_id_wH0YzkUwFumCv8PPhBFegVr7JQuXlo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c2793408fd5754dfdf0bf59633388069', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738437352, 'at_hash': 'lM2lbZO6YTcb1Ho9Spgf5Q'}}
[2025-02-01 20:05:13,999] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-01 20:05:14,001] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-01 20:05:14,012] [INFO] [werkzeug] : 192.168.1.41 - - [01/Feb/2025 20:05:14] "[35m[1mGET /auth/callback?code=JZWAk_d01T4SXdLG2OLQ8UFrcGFBq3HJlmLsRjPdKPs&state=sxChj56a3kTeQTOuZTodsw9HFbTyCG HTTP/1.1[0m" 500 -
[2025-02-03 17:10:38,106] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:10:38,107] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:11:29,464] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:11:29,466] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:19:54,378] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:25:52,186] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:26:23,157] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:23,158] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:23,222] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:23,222] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:27,001] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf96bc7f74876573f59d27634f6c99fd
[2025-02-03 17:26:27,001] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:27,003] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:27,912] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:26:27,913] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:26:29,127] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:30,201] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:26:30,202] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:26:31,185] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:26:31,197] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULldiTVNvdVMtRkxJZ2E5TzlLSUdBN2Q5eUdjZlpJSFhUdWtvUnZGYmx1dmciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjAyNTg5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.rwJHBeLFI0Q_7lKWi6OWo0tJpn_zC_lN1ETMzV41az18FPvWKKx9Dnla2C_PKcVlv-ytMDvT2loPo8jtMk-1_bxh4l24XIe8eqdvSla5AcmicG22Ngg3vwQtXvFlTpRuk7oCUeghGoem5AVFEj2fVVQZx3YAVESbaL9AM686sKWRHc79GuDBve_RJrKreD76XZ7FVHVmI0FxYcjDld1xM1ynwzz_qGWoH-I2lPUk9E_EhJJBWULJIejwe25g7jj0RSEFOH4e2TsdCN5g4bHb-Vbnsi3UJ_NyA2wSrnYCfvQEauMWWiR_pYmRbjt9bSMvy2PuEGjHNFtAQwZ8cSlY_A', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM1OTAsImV4cCI6MTczODYwNzE5MCwianRpIjoiSUQuaEpDWFVaVS1EcExaMVB4QUVWTm5MR3N5UlVtX19WX2R4MFZOaHR0WTlSWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmOTZiYzdmNzQ4NzY1NzNmNTlkMjc2MzRmNmM5OWZkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDI1ODksImF0X2hhc2giOiJuZFhiT3hwa2JSWHYxLUJOZGZiRV9nIn0.K_4aM1OkxmAqV5HTL0imiZrgjBgfSPd5f_XysfoO4DYsOG4R51M0KfERTeT5_saZjafS5eHIhDzB4BuRlz9QEcfPlyEah3hFFrqa7wsN2yOVHi4CFZq7y1LaDaKc3FM8G2ZB9v6KRVAdYyqvbaorA1jVSJd3UDS1SowwJsVOpVSb5MQwcSr0KT1dh7A3_WFfmzVRnA1O_nj1zAqsvbpVwmOPvxdxRX5QlReHdezG16BO1UpkZS4jEINRQX0fgNKR05PpRLRKy7OgEGMKzIPfez9mNXBp9CRMe-6ICZxRFtOs_edoJcaQrQwJhYDIhHT6rQQWaR7ymNFNG3XueFNGvQ', 'expires_at': 1738607190, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603590, 'exp': 1738607190, 'jti': 'ID.hJCXUZU-DpLZ1PxAEVNnLGsyRUm__V_dx0VNhttY9RY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf96bc7f74876573f59d27634f6c99fd', 'preferred_username': 'user1@test.com', 'auth_time': 1738602589, 'at_hash': 'ndXbOxpkbRXv1-BNdfbE_g'}}
[2025-02-03 17:26:31,197] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:26:31,199] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:26:31,210] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:31] "[35m[1mGET /auth/callback?code=BcQlKk-JiQQPmnDwWU8Vwk2NBrTfUJY5FocuoVWQJl8&state=TQob05sHBCiPzbPO1bUKY8PNOdu60w HTTP/1.1[0m" 500 -
[2025-02-03 17:26:46,560] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:26:46,561] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:46] "GET / HTTP/1.1" 200 -
[2025-02-03 17:26:56,773] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:26:56,773] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:26:57,650] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0e3f2f36bb192df00d66a6d1c422e33c
[2025-02-03 17:26:57,650] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:26:57,651] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:26:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:27:08,896] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:27:09,938] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:27:09,939] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBXa01pSXJiZUxfejExMUVvRmdtZ09xOS1CdV9JQWFKa0RYaVVDdEpmUm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjAzNjI4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.hVgPz_rfqoyUBTVt381QHwOV4awp5X71FFt9wvAvdVQCrmomGxUXvzFjQkbwk2SxXc1YuEeEOPVA6DPkdBRoKMgjPVIyeJRxJ2ffUYmecTGgjm0IwaHFiGfhwJM0IAs5pZ3dTd2bI3ddJ9r-kpSdhVRNigz70_1-r65OAuXQwsmXDTWHjPMoATAADzZROOn8l1RHli8ToM7Ih24lFsgePca46lalq-gwMCe7wkQI37UfycL9M6fFMWtgOMZuJ_MpVCSt9OzglsxzurETBic91l7vRwf7tyj6QRdqcmkCXhoHJAyqdoXQZOoSiVWaIzwyVrhI1_IFPynSSdXvLYmYeg', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDM2MjksImV4cCI6MTczODYwNzIyOSwianRpIjoiSUQucmFIcTZxT2JkT044UmlmbGYwYXViOEJHMTIxa0c5RVhlM25FYkFyT2hQSSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBlM2YyZjM2YmIxOTJkZjAwZDY2YTZkMWM0MjJlMzNjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDM2MjgsImF0X2hhc2giOiJPbG9mWllrSzdlZE81VEc4RjVna3FBIn0.Rkay05FAE3WQjhX44eLGdIWwbkuTcgoffQRtwwr8z0htDpqtwIoDm4os8LaDcym31CFem9OY87hvbwkQws_EeUKYBC04NbyOrCtTLfuw4csAbTYWPTJ9QxgZkm0XV2AgDgk5zHbxDaHKvxUEhVgOjAhpWEyxi6ywMKPrz2Wwb1D-1aSRBLr3XP1GERFTe9PQvtXGX2sHnNzv1tkjPKex9SZX2yrG2vEvPnpapisjoHzZ5KyG87XxsxLWp9jRUaEISvb0_mpFJpIYZ3OP56jlg11ABlpQba6PlTRxy6JhmtViH-ox6e8cjSZdf2LUr8Kqd56HQK5kDK8huBNh-rGjeA', 'expires_at': 1738607229, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738603629, 'exp': 1738607229, 'jti': 'ID.raHq6qObdON8Riflf0aub8BG121kG9EXe3nEbArOhPI', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0e3f2f36bb192df00d66a6d1c422e33c', 'preferred_username': 'user1@test.com', 'auth_time': 1738603628, 'at_hash': 'OlofZYkK7edO5TG8F5gkqA'}}
[2025-02-03 17:27:09,939] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:27:09,939] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-03 17:27:09,941] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:27:09] "[35m[1mGET /auth/callback?code=1rKT1C_hdwx9FMs8hRPQQuy4jExB1-8kZYCUEJJAuP0&state=nUafaFQn9eppK4PC7IOWp1cm1YDTsA HTTP/1.1[0m" 500 -
[2025-02-03 17:34:14,259] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:34:14,259] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:14] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:16,205] [ERROR] [app] : ERROR: page not found!
[2025-02-03 17:34:16,205] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-03 17:34:17,644] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1816207b8034ce4b5822d6bd1c64a019
[2025-02-03 17:34:17,644] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:34:17,645] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:17] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:34:27,556] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:34:28,748] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:34:28,749] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhvUnRlWWxWTG9BT0wtVlBrQTZ3UndQWWlFRncyUXhzMVpKM2V6Z0VGWmsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA0MDY2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Rr-PWpmJ6rqOYfaqP04fsyqZp5PwSrZJzRsR6gHVFNOsO0-3UzqeFR1RmS2Qg33UnDjz-MdLZexMggHOb5LPcnDRhYTqaHaXURnZ7EJC51fDZ7hZhO9lpTQfsdEIUjqOhx0uIFCsGSrG4f0uDu4WdCC4saAXA0vKKJOk7SOgbIGihp7NOaTuqbDj2d5hrjevuOT1lL0hesBzR363V5WUtmBIRF0PMqF0OcURKfI4HKrOUZ0lChnhtH56G8N1JDCMkr39iqQCT7RW554wmwh79BgP0Ry36d-DhMi29xmQO_Ln9xsHyEDWm6wxqtn3rCG4yKD6rkXplM48FLx1USRY5w', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q', 'expires_at': 1738607668, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738604068, 'exp': 1738607668, 'jti': 'ID.ad2IoGs0VOQFvU7AbaMhJHhfkyMkxs84IDQQbCjSX14', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1816207b8034ce4b5822d6bd1c64a019', 'preferred_username': 'user1@test.com', 'auth_time': 1738604066, 'at_hash': 'FvUKTX98-qb1GeKwrV4liA'}}
[2025-02-03 17:34:28,750] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 17:34:28,793] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "[32mGET /auth/callback?code=B8Wd_1ZyPmwI3UmjM1wLH30cHSl-WokzubtS4GY6ww0&state=4PjmH8Ft88iRUdzqew0LjVSbWgHoBF HTTP/1.1[0m" 302 -
[2025-02-03 17:34:28,811] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:28,811] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:28] "GET / HTTP/1.1" 200 -
[2025-02-03 17:34:33,069] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:34:33,069] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:34:33] "GET / HTTP/1.1" 200 -
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 17:38:49,456] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-03 17:57:40,219] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,219] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDQwNjgsImV4cCI6MTczODYwNzY2OCwianRpIjoiSUQuYWQySW9HczBWT1FGdlU3QWJhTWhKSGhma3lNa3hzODRJRFFRYkNqU1gxNCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE4MTYyMDdiODAzNGNlNGI1ODIyZDZiZDFjNjRhMDE5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDQwNjYsImF0X2hhc2giOiJGdlVLVFg5OC1xYjFHZUt3clY0bGlBIn0.P76vglgY2Ab0H8ANf4GZV30hL42ZZbaGO_jmjYzHSMPE6qcR49xIhuc6Owss0Qdb5XMXT1FjXDf5eeFUVXNUQo2MDU07Z7YV6wFmTbitdK1QvPjc3c4N4uWDRiEmyMm8u2SM2RQbkKh_lgfL6PRBqhsVM3EFaSDWDbVvsKlNTPz4pLUtJGcnBdPtoOd_-KynLT3cmg5P8ptjFCCGRdLZsfxpI5JCSNwnlNnqO3a5rrRgnc1lAmXOMZ-2Es3ZQesRla6AfeigrJYJXXbDtF88O6sYb_uOA04jiGO9YXkMrCyznEPBvwL2-BkhXbC4-y4zEa3s-fCTx9lgN7aM_EK88Q
[2025-02-03 17:57:40,220] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:40] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-03 17:57:41,554] [INFO] [app] : Usuario no autenticado.
[2025-02-03 17:57:41,554] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:41] "GET / HTTP/1.1" 200 -
[2025-02-03 17:57:45,992] [DEBUG] [app] : Asignamos nonce a la sesion actual: 49deb0b17d2ab5650e0cf5e5e40e1bfc
[2025-02-03 17:57:45,992] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 17:57:45,994] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:46,890] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-03 17:57:46,891] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:46] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 17:57:55,826] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:56,901] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 17:57:56,902] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 17:57:57,931] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-03 17:57:57,937] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJ1Y3l2M0FSX18xZk9mOXpxcElvSHRsd3JtRTUwekxsSmdSSkFWNjdQeHciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA1NDc1LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.gJpoOIsGz1v7yJHU-O29-4SxCeYY8M4DCBIRiMBgwswXTPE4BUSNnOyxQVWpIVlwz0jbrtwNmohqjVgfnSJwo2Aoa3l7J-Nj32rnZSHUDxp1ElTvzU00IraagPko0CdY3LxvrkxIigHuYCQF8olDW8-aMdPQPbyN5d7CEnF1cWenwQf05NN9XWK_ptQ0W0Iqd_JsJAoFS1zFNyEyOR8z-9bdIhj8YFZga38H4WNa4fznP5VggANw0-CBXKvXkcUi5D4FUr0wtKw9YcHlRt9R5ijyVn4iXJmhMPy-O45Z0urUFhjj95_SAlaJ4vNFIKFeRh_r9iCtyT-T0aedSKOHew', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU0NzYsImV4cCI6MTczODYwOTA3NiwianRpIjoiSUQuMUl2NWNuZTRzT2QtQlk1OGtCbzRLVnFwTWI1V1RzdjZneFg0RlhqQWhZUSIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5ZGViMGIxN2QyYWI1NjUwZTBjZjVlNWU0MGUxYmZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczODYwNTQ3NSwiYXRfaGFzaCI6Ilc3OXlQLVZBRVdQVEFOMVY1Wi05NVEifQ.LZOg26GJS1cOgKtccyUk_q5fFAKWNt5M9eCMjz-eY3J2PEA5FFZasi2rDK4lWnK2RQmGMheczW6_taZitL1zWOnoaV9HGhm0QI8zVLZEaXfex8jCm-BYVajXefdKQLWpLb974LPYQcQBvdC73dCOmvwKR6v0IeOtdtQhWJkamPyN7pverXLXBNanmZuTqgRdNf95sAlyS0xeZToCsrFISXPFX5oak6oBw441RpOeQW3qIOjnjpkAsVO68JDVdgffl5PuY2ca7a9KR8H8Cqz9nfP1Q7Ry1BQLdBmv0C3HnhVCrGyRmUtvaun_TJH-ADSeLOl2NnLSsfmCpeGa1S9vGA', 'expires_at': 1738609076, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605476, 'exp': 1738609076, 'jti': 'ID.1Iv5cne4sOd-BY58kBo4KVqpMb5WTsv6gxX4FXjAhYQ', 'amr': ['pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '49deb0b17d2ab5650e0cf5e5e40e1bfc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1738605475, 'at_hash': 'W79yP-VAEWPTAN1V5Z-95Q'}}
[2025-02-03 17:57:57,938] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-03 17:57:57,952] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "[32mGET /auth/callback?code=PHaNQSMpj3uiGIh3bVfFI4Z29v_rTljmZIDNNpGh6jA&state=u80jIog1rJhRaRhiFapSuL2vVSENiN HTTP/1.1[0m" 302 -
[2025-02-03 17:57:57,961] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:57:57,961] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:57:57] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:01,711] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:01,711] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:01] "GET / HTTP/1.1" 200 -
[2025-02-03 17:58:41,861] [INFO] [app] : Usuario autenticado.
[2025-02-03 17:58:41,862] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 17:58:41] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:43,809] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:00:43,809] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:43] "GET / HTTP/1.1" 200 -
[2025-02-03 18:00:50,133] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5f491b4dcc7514cb5250f57b1b7243e6
[2025-02-03 18:00:50,134] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:00:50,134] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:00:50,866] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:00:51,834] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:00:51,835] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJYNzd1TEdSRzlFbzhlVzZCSklZVjBmdF9FTmhXREh6VGNReUl5c1R0bVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM4NjA1NTg4LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.EO0sTJ47ltJL3HtcsCbWoYYYAV-a20LOQs4EYE71Vj2w8fnU8LrSIs9DHdaiLUD0i57BY2_SOd52vaAYaKp6-VsNAV3nRzF5yS7qgp5B-qu90UNSXbdltwSkUCv-GsbUkj4yHPkYDPjmdd0k2EI8S3uBP3tnnR3kv-_hxiasa5oe0MBgD7DoSSYV_03VhA2itbS7kO3r557ZjQux68zWVEGgEcyxleo4jCZ_ZdkApBQO8BuDFsqar58hr5KfTOqYOoDAZZhmXVBYSUk_3YQEpUFOOua_7XO5T__23nocf8-D0UBEhKEWUdm_cVm3Pi2Uku1_y4iDHYagGImDKZ-9TQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDU2NTEsImV4cCI6MTczODYwOTI1MSwianRpIjoiSUQuRlJPUW1ZaFBsakhuRUhXRlNEMzJHdlNKcTE5UFh6UlQ0MldxazBMdDNCNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVmNDkxYjRkY2M3NTE0Y2I1MjUwZjU3YjFiNzI0M2U2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDU1ODgsImF0X2hhc2giOiItWXBoQVZYRzdBMDQwNEprWlpISDN3In0.pJNcTv3-p25L8UCnenlMWjUk3LSI4X9tLViZJzX3gndkovp0YxrDs2zKx3ij2yl3mKX6588YyDKkDQPKH-6G6rOOSbAY87sQNf3nDLQ3OkmgjQmy-koiWJqqT6SuHfn8a1OYZzHkfOvMpvBc_9YEmoFWdKuFifYgIDNqWhPMnQ6HF3j3LLeahk7j-fdn4Gr7tp_YLnuXT7ycCA0QkrLoQP3YF-P-Q-lAbx6bPe-zP3axMc05W62gtLx6EfuTxojPFIs9Y9OL9waGsu7xMnMdhlAxkgsdHs3MnrCM8AIMv3SksrwLaQ1v5ycrqM1Y4NldZOjkq1IoxriPPOwqlAn75Q', 'expires_at': 1738609251, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738605651, 'exp': 1738609251, 'jti': 'ID.FROQmYhPljHnEHWFSD32GvSJq19PXzRT42Wqk0Lt3B4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5f491b4dcc7514cb5250f57b1b7243e6', 'preferred_username': 'user1@test.com', 'auth_time': 1738605588, 'at_hash': '-YphAVXG7A0404JkZZHH3w'}}
[2025-02-03 18:00:51,836] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:00:51,838] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "[32mGET /auth/callback?code=mqYK0HJPwkJZ-fTEOb8D6Qrjs1A_A_sV4qs101V8h5k&state=SqFUf2KgFRk0C6zLTRl0ObewhSRDaW HTTP/1.1[0m" 302 -
[2025-02-03 18:00:51,841] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:00:51,841] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:00:51] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:22,944] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:07:22,945] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:22] "GET / HTTP/1.1" 200 -
[2025-02-03 18:07:29,056] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1b7f08eb776e1f822f00ca0122d16f26
[2025-02-03 18:07:29,056] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:07:29,057] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:07:29,870] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:07:31,063] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:07:31,064] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULi03VGNKSFU5TUhObE51VFhUWlFRZEtDMWVjRVMyRW45Z0NYUk02OVE1ZGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM4NjA2MDI2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.IXkt7KPzMChS-txjrKhMNb53T08Q1FpUq1bZ8cdb-wVpbqmawQOpg-Ib-xIe3T4cqTI63Zaut7MFM22du6LA-W6y8qoyxnhL3JscFX64uY1Wq1vf8OJiuCTYoUtjuoH-gFWDG7AdyUU5SZTNZ6D5ZMlGa1BxZEmAVCL_ECWe1HnHJ_QZcQJPsEiHTNxpwQpP3637QRQXwhDDinEkETdq8Y9i5DlBIpxnIv8ZZTGP847zkrnKWP5Zsvs0qVeFZe9iY-mVIis-XuLG9hhBtajCnb5HWHITtpW4Spk4BhB9DLjz-MXw-LxvhfyzqD72a6p8TfFPqpez9lozfHF9goD-FQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDYwNTAsImV4cCI6MTczODYwOTY1MCwianRpIjoiSUQuWWxRTnlnc3UwYXgxS0dtZFE5ZDl5UXFFUHFjV2hoLThVbE4wNFo5a2FGdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFiN2YwOGViNzc2ZTFmODIyZjAwY2EwMTIyZDE2ZjI2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDYwMjYsImF0X2hhc2giOiJIeUVMamtlSUU2LU1lOHd3Mlg5U0FRIn0.nhjJj70_YZRlrN3cjhRk4-JKFoTr8Xtf25Na2LgpT87fPEllTCpKU4rph26ZwY5lK0b1A4isTLm9wVyZ5wLoXbBHO2YvP_yevuJCS3BGaWHETNDMuqbGL0purU-aFxsozpvA--fbWZ0s3neANds3KldwmW2w_aCX7VC2-ty5CWZumScj-e8uQ8FYx4eyecV8BT_MT96pe1wJnJKVe80wplOOTDGVbdYhsGwuA5ifR8-UyJpa087EuhvWuYRkXpKVM3KGSIv8lDM-e7PQ1g_dZtEWw8NUeojfugam5l3AztWZY8XwQ2lBq3BttOXJqdffhYi2F643ha5jJCpgjDupxg', 'expires_at': 1738609651, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606050, 'exp': 1738609650, 'jti': 'ID.YlQNygsu0ax1KGmdQ9d9yQqEPqcWhh-8UlN04Z9kaFw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1b7f08eb776e1f822f00ca0122d16f26', 'preferred_username': 'user1@test.com', 'auth_time': 1738606026, 'at_hash': 'HyELjkeIE6-Me8ww2X9SAQ'}}
[2025-02-03 18:07:31,065] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:07:31,067] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "[32mGET /auth/callback?code=HcWkQOL6qwoSCNlh1PkoXi9PgvTfQZJPIAqiIZ1N1iQ&state=iLjrFckVgN0Kfdy2RckaAiHt1KTZLF HTTP/1.1[0m" 302 -
[2025-02-03 18:07:31,072] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:07:31,072] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:07:31] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:12,858] [INFO] [app] : Usuario no autenticado.
[2025-02-03 18:17:12,858] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:12] "GET / HTTP/1.1" 200 -
[2025-02-03 18:17:13,703] [DEBUG] [app] : Asignamos nonce a la sesion actual: 147266ef4e50bfc1aab3efc995604b51
[2025-02-03 18:17:13,703] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-03 18:17:13,703] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:13] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-03 18:17:14,419] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-03 18:17:15,502] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-03 18:17:15,506] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNBMDNpemgtdDl2Z1FzNGJzR3MyQ1daRkdOUUVoUk9lSDUxRjZfMzl0WnMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM4NjA2NTI3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.DIt0ToNlw5s76HQMPxVxCiF9A7u6IzmlDM5_3UBLlZPG8rmBKX7AG12HX3heAQ7z5n7iYlrfgPhk6_HINKk7QDgRkjb8TU_ljRZkyD1rUVnVh27GJgrOuNuLNUC63jePm2EU7cZKLV0JQNeFTZh12PbL48tS-dIhJld8IXh9RS124jmeD82oLSWKPvk1OH5S6f0Wa10IuMVNG2-P5zNgw8fT1bGn17zozwN2-DsjyFnTEQINwvM74_GZxU5orhuiYChQYaaKGhkTpWxzVuuYSLIxX7HphjG95UHv1HDl9aGt7hoVjl4vWMXOWc6TIPiRKlqTREFumw4L6oqyF0_8iQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzg2MDY2MzUsImV4cCI6MTczODYxMDIzNSwianRpIjoiSUQub3hSN2lCcW53UXlhLUtMLW0tR0VTSGtZZnRIanhGUzN1b0czYnBwREMyayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjE0NzI2NmVmNGU1MGJmYzFhYWIzZWZjOTk1NjA0YjUxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzg2MDY1MjcsImF0X2hhc2giOiI2QjNDMmlZaXRfMmpPYUJGXzJQd0hBIn0.bPPqalb1R26ZoTtdCGdsCkb05xOGlmJ-c7BLa1_CN3JYzV0_7PuhQMazENiLiIMvnaklgmey_w_sPyDCz6s_iRMyRl9okDoM36Xp6-SVjCUK2nGJwKikLSr3its1oIdavKGTZR5PdxaNAfp5F4CtkCFTBX40q1hFoKo0j4vz2qRipZvf_yJKbs365vz_YOsolSRyYdgBZSpK0yJVgtpMSSi_wdTSRJsJ_-xpT-jtNZ0coIXO1Re0ZgzIVm_j-fZpLeS3ZMen5DO18TqLLBuELfggaTa2vOJ6yecWt1xd-ncLrVb_bZ6DiyWQMxNwa7W_nRF3n8Rh2d-Hmc7vLNy2eg', 'expires_at': 1738610235, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1738606635, 'exp': 1738610235, 'jti': 'ID.oxR7iBqnwQya-KL-m-GESHkYftHjxFS3uoG3bppDC2k', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '147266ef4e50bfc1aab3efc995604b51', 'preferred_username': 'user1@test.com', 'auth_time': 1738606527, 'at_hash': '6B3C2iYit_2jOaBF_2PwHA'}}
[2025-02-03 18:17:15,506] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-03 18:17:15,509] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "[32mGET /auth/callback?code=N641OZt9u_AYHarmidF_aCyHEHKxzTEnkqhGFkEKoMU&state=2PThHXCGnd8QVWaqNEmE77FouTGwcP HTTP/1.1[0m" 302 -
[2025-02-03 18:17:15,512] [INFO] [app] : Usuario autenticado.
[2025-02-03 18:17:15,512] [INFO] [werkzeug] : 192.168.1.41 - - [03/Feb/2025 18:17:15] "GET / HTTP/1.1" 200 -
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-03 18:28:43,244] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-10 19:37:38,797] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-10 19:37:38,799] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:13:05,064] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:13:05,065] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:14:02,420] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:14:02,420] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "GET / HTTP/1.1" 200 -
[2025-02-18 16:14:02,469] [ERROR] [app] : ERROR: page not found!
[2025-02-18 16:14:02,469] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 16:14:05,041] [DEBUG] [app] : Asignamos nonce a la sesion actual: a056267269425998f96dd89c9f690994
[2025-02-18 16:14:05,041] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:05,043] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:05,894] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:14:05,896] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:05] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:06,620] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:07,624] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:07,628] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:08,557] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:14:08,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhudzhleWp3a2wzSFBsX0RyeWZhRWxocEdwcktrQnRtTUpkRUpQTnliOGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.VhUYyRCwEmDOl9pAicKLXhKKdNGlwFG9y9wzjyvUQ9oXRqPKyIe-TNxsEOu9lh7hLarDryoA-HoJ0CXL9G6h6i3jpEEUrWC_URe90_l2r6CZNcdMZM1czPfuVc_AzjKi7oy9oOqRDJgn_1znDWkedPiX87WHCoppN24K0kY1MrCrjqDrK-h3qnT2tdr3Shu1PeW9735xzAD8Rl-OQ8IlDZOkgcDgAggY0OWLPZ8ZubgLlg4Y50QhL8BY_Hu3e4qCt6NYpL3HpGbUnmQGUyGzSt4dXvTh9mLtWyXiXxFLJX44038mHEyLkid7vaborNMHvN3p-4CSXbjkP2pXVaGsqw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyNDcsImV4cCI6MTczOTg5ODg0NywianRpIjoiSUQuU0lXWU44UXY5WVVjM3kydk83Y3pqN3lxUDlmN3ZIVE1JM1RQSnl3VzYxOCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImEwNTYyNjcyNjk0MjU5OThmOTZkZDg5YzlmNjkwOTk0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IklVbE9lbTFJUkw1UGo1c013NlpCMkEifQ.BUZ4jqsKhwIvGKlxZEkK-beOkav5cFfRmwZF_5zWvWscNha-ozfnjDZLn2Rwj-5qAJkh9artiIQsSylk6y6KcJ_-Hp3Gq0Sx-O9XenCtyPYrrrPGvCAck_JSotK-HNRCO_sB33xBsY9Z_mOOwvB9L6cbmg-rbImmjOWKp1YYXeN5_23EbN9ADtR7Y_DNDsXY6V4cquptoQHwVMdmWbipwgqQefs0rNQ33UYT1mRoo--mt6Qgs_aM0lJ_ffO6MdDBj9zVKKzoHxWpLAuvcdQUnzpVQtG9Y6WlYktyK-NImjq7V62WswFUbgAHNSVRJOCdW2rd4YKcpPUpE0VIef05rg', 'expires_at': 1739898847, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895247, 'exp': 1739898847, 'jti': 'ID.SIWYN8Qv9YUc3y2vO7czj7yqP9f7vHTMI3TPJywW618', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a056267269425998f96dd89c9f690994', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'IUlOem1IRL5Pj5sMw6ZB2A'}}
[2025-02-18 16:14:08,570] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:14:50,950] [DEBUG] [app] : Asignamos nonce a la sesion actual: d91f6d1fbb059f3bdd6fd7aa713ef04b
[2025-02-18 16:14:50,950] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:14:50,951] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:14:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:14:51,561] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:14:52,568] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:14:52,569] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkpOOHZCUU9OQlV0dkN0U0trOTdDTFg5bDJJd2hERmhWZjhieE5POGtHa3MiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.DdG7sJXIv_nxpTaehpp6QX0sUiir8UqzXuYFjru3Zp7-ick1qmn2r3hjNiQ5V9f_ywuq_-e528iu7fMuyZ79LArH3wN788Kbz8r1Jqv0SJ99yRgwpyjEAcXSvLjdTYWYWSTM-SqAWd-0TkpV8IUo5Y-SSHogagbNJFsxcfXLr4atQP0W1blvJQk8nLVu3G5VBQTNbs26bX3YBJbUOJA--CCtQ8S1-fRn2baDlBxKaYaq-zh3LvMiqJySFWW4y0403pl250q3IoW__ro4wbB95ees0wA9Z_iIiu3fiC0dfVHhk-9tVOqF0q_mz1gCKRsvocaFOaA2WHa22LgbRNVqRg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTUyOTIsImV4cCI6MTczOTg5ODg5MiwianRpIjoiSUQuRTFJUGtGOEN5RUFjMHhnSGU4ZHFQQWpuZ1ItemN5WXRyMWJLYXlReVVTZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ5MWY2ZDFmYmIwNTlmM2JkZDZmZDdhYTcxM2VmMDRiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6IkNwVENLZURoMTYwUmtMTG5Uem5oUVEifQ.kaszUMUpGXKRolv3WoL447Howq4bUOUTNobD3LKoC1rE_gf0sQiOI5TRcWFDht1kgpCrP0feh04PXohmWSDMKIsQUhglxK8gsjctX_nqWWQlI4XsGxmJ2MDU6h5OPFA9rRyWSFC854HuzhYjByCtegrK1v_mLNCcK8U66lyzOc09eQQepRs1ROjKKLxkc9uaq-fOKwSEu4UllSEJX40oBM4U_O0QDeEMwbIrMFVdUmmKiBVfsxXhL7sTCSuBqSgueWRZhpAm7cVdY9VsWoTuCN_ykWqKIBxpGqZPGtqBV24nvisIeb25lfXXn-4KBPtwQg0bTlzB4UMnqHG8cz1UEQ', 'expires_at': 1739898892, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895292, 'exp': 1739898892, 'jti': 'ID.E1IPkF8CyEAc0xgHe8dqPAjngR-zcyYtr1bKayQyUSg', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd91f6d1fbb059f3bdd6fd7aa713ef04b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'CpTCKeDh160RkLLnTznhQQ'}}
[2025-02-18 16:14:52,569] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:16:21,940] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:16:21,968] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:16:21] "[35m[1mGET /auth/callback?code=xgyjv1eFSMYrVezyl7YpM7Sxon6Ba6WQs3ZWzcywckc&state=03orraJbheoWeSqaEHNG0u8LOXcyi7 HTTP/1.1[0m" 500 -
[2025-02-18 16:17:06,993] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:17:06,995] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:17:06] "[35m[1mGET /auth/callback?code=8PR22tH5ZTDh_rUsLIDb7S9-0uvCxmF1kY56zzef_KY&state=GsOLibX7Aei9isYBEMXU2DabCmuyU0 HTTP/1.1[0m" 500 -
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:20:23,425] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:21:30,198] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:30,198] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:30] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:56,025] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:21:56,025] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:56] "GET / HTTP/1.1" 200 -
[2025-02-18 16:21:57,651] [DEBUG] [app] : Asignamos nonce a la sesion actual: cf7ccc85472c20d872a3193ff3078b15
[2025-02-18 16:21:57,651] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:21:57,652] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:21:58,441] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:21:58,443] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:21:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:21:59,613] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:00,567] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:22:00,568] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:22:01,464] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:22:01,470] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmRUTm8yVWRZcWVRem1HNUJub2V2TXhtcTBqVFIzNVBrMllxTTdzZFFncE0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5ODk1MTMzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.higEJV7I7jDzwOOzKItiGaZ3nSzWUJwSSiufAuUQa4tZqsyyOcwPxb3WvQDhRcqq7vdqjvL4wNr9SabDOGVYXaXpHvOc_E0qpsHoeXm813V3h28RObjl3juyDq0h5wkDEO7ozRPOnNYCS3W9tYkMGTtJV7glNxUketBCblzMLZe1-o9Qi2nazgzE-PdEgNqwdrlZ-UwopvFXLa2uontUdeQd1xYZdn-Kj4fM5qlg3X-NnISluoFkFxTaOaqNXcZmhBQSojapq9pfbctCR0G24A0Tm77ZspenlmXjCQOiSMBHxJqjE0WiRjOFP4lse6qbYHzz_bYWs_e-E6OlxLHo0A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTU3MjAsImV4cCI6MTczOTg5OTMyMCwianRpIjoiSUQuQlducEdxRkxYUDFZeXE2eWxUc1hFTnVlczBaUkphTDk4T0JoendxeVZZRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNmN2NjYzg1NDcyYzIwZDg3MmEzMTkzZmYzMDc4YjE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTEzMywiYXRfaGFzaCI6Ik1zUk5GQjZqNk1CRnBBdVlmVjBwQWcifQ.HmxHHe3RNAonil3-TSMZEQBQSZKK_rjNy_T6GRAPsNv2jtY7Qxx7VUtcij5yC_vuh70wZE7nOnpZ2aGVYFQPebti0GG6I58FaWLHDqgt882QfYg2raExmiw1SF3VeyoEHPK6VBKmsw-UuyPP67mWAXlH6OvVnnHR3MePb1W0wkbCMhYHjeJf7pHH25mU7GMUk1rVQwZw9UAgvjBiksOiGWWpsBUYSmURqOB4PGt-sqWfQ91LnWrwOd0-Q9xUNnqT0uQZF8c9LwEq22-yVi1W67Rg2lvNoQgltf7EKx3UUF84WhbYLpBEtITmM7gYFHezi_B5AIZaIVP0WuJe8eRUyQ', 'expires_at': 1739899320, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739895720, 'exp': 1739899320, 'jti': 'ID.BWnpGqFLXP1Yyq6ylTsXENues0ZRJaL98OBhzwqyVYE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'cf7ccc85472c20d872a3193ff3078b15', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895133, 'at_hash': 'MsRNFB6j6MBFpAuYfV0pAg'}}
[2025-02-18 16:22:01,471] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:23:46,693] [INFO] [app] : Token de la sesion: None
[2025-02-18 16:23:46,693] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/
[2025-02-18 16:23:46,693] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:23:46] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 16:24:17,073] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 104, in auth
    existing_user = User.query.filter_by(email=user_info['email']).first()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-02-18 16:24:17,080] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:17] "[35m[1mGET /auth/callback?code=6jl98Ng2_WHuw3nM3Nx5wTA3PcNGqaoqCsbZV2I0Ndc&state=AHmhCuccUSA0VpAuuy0g7g4l8wCee9 HTTP/1.1[0m" 500 -
[2025-02-18 16:24:54,087] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:24:54,087] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:24:54] "GET / HTTP/1.1" 200 -
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:26:33,730] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 16:31:48,589] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 16:32:28,038] [INFO] [app] : Usuario no autenticado.
[2025-02-18 16:32:28,038] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:28] "GET / HTTP/1.1" 200 -
[2025-02-18 16:32:28,637] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0109e1e4edf4bf5514c1d7e3eac5e0ff
[2025-02-18 16:32:28,638] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 16:32:28,639] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:29,449] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 16:32:29,454] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 16:32:30,601] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:31,635] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 16:32:31,638] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 16:32:32,597] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 16:32:32,606] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnJvYm5QUmpaU0pRUnJKVU5XNVZFb1p5UGFiNWFvSENHZ2MtcmY2aXZXWGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzM5ODk1ODgwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.OAeur4pcrKgcc8qTenpVSVDmfzS903P6MZOZ5JdoWq2P0eo8ertiawH0WVfDUy8Vi2OIaLzhRdIYoZUBI0aqbvg5OsFqljdrtvdDz5TluadCEdfnPb7iZUdTHOJZcd6jPH6Mv2z02P3X2pywb06OEA3WP_Z_z_OfWlqshw-5jFjH65Rf3QebczwrUPBv2SXZsUR-O8ay5-bF2MdfaLxcOB30v4ILtTi0qfsHX5PZo12I-ZMP49u6NSdgOevbLzyC96qmHyKMR5SLhHtRB0dlFJW1TyeEek0TW3ibHVAy2cClqNbT0h7YSRmtdqr3UwKHrsuc86UfQW3q4jAYzld6VQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTYzNTEsImV4cCI6MTczOTg5OTk1MSwianRpIjoiSUQucnZIdU94Ni15b3lXdkhhTUE1ZU1JelJCdHN2bjk3UkpGNkxKU0ltVVRKQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAxMDllMWU0ZWRmNGJmNTUxNGMxZDdlM2VhYzVlMGZmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5NTg4MCwiYXRfaGFzaCI6ImVRbmN3Z0ZzZWJmdk5MME5ZNXlDbVEifQ.TyPgiH4uLiSsUlfMPnUuKTjUMFmJ0E1sOZlIk8FzqtJpqh47GU8Yw5EWF4JVMVMvPGUHkKJEIHkJghqwfbax8-tRolKU1Se51ZtlBX2alayzuReuM_tCcV2DvLDpiOHS3IIZJNOrBiidrlxKK3bkBPoPmgckz79oWgoy-i6xy0SX1CtcmTAmf0jjsG5moQHic4Xk99fFKXq7tXATxGJz_HumjFaTzIKoYdfbd5OwA3DgqkCMfxO4y-48eBNJdd6zj9yj7lq03KjL4wISL_marptZcW5Dt6YbbECPkt2F3nTEtoU4hYkPMtFqsreqw9osCVmrdvEa39LHulRNgNCbRA', 'expires_at': 1739899951, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739896351, 'exp': 1739899951, 'jti': 'ID.rvHuOx6-yoyWvHaMA5eMIzRBtsvn97RJF6LJSImUTJA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0109e1e4edf4bf5514c1d7e3eac5e0ff', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739895880, 'at_hash': 'eQncwgFsebfvNL0NY5yCmQ'}}
[2025-02-18 16:32:32,607] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,652] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 16:32:32,653] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "[32mGET /auth/callback?code=qqzq5FsKeZVULLmbqdARkY_xVdYAsbWPN6tC8R5YkR8&state=UiSwfPP9aRrXUIhQXNi0H4Hn74OPP3 HTTP/1.1[0m" 302 -
[2025-02-18 16:32:32,655] [INFO] [app] : Usuario autenticado.
[2025-02-18 16:32:32,656] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 16:32:32] "GET / HTTP/1.1" 200 -
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:13:45,017] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:19:21,573] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://127.0.0.1:5000
[2025-02-18 17:19:21,574] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:20:30,798] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:21:01,167] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:01,169] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:01,204] [ERROR] [app] : ERROR: page not found!
[2025-02-18 17:21:01,204] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-18 17:21:02,659] [DEBUG] [app] : Asignamos nonce a la sesion actual: 38c2da4fa2deaab7feec85ac19f8ccce
[2025-02-18 17:21:02,659] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:21:02,660] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:03,532] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:21:03,537] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:03] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:21:27,228] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:28,243] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:21:28,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:21:29,216] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:21:29,227] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkFFMENkN1Z3ektfMzAxQU5FSDVtc3ZhdnZZYktsSi04U0p1SzlRYlAxMVUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzM5ODk5Mjg2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.NZzgerINvSg77CmuN7m43IqwPRscpmqFpkguQoMUV4cUpQiY7VZUtwNujtQvzfS6pQBCoK1gkoYJWSI705TlLfIrLwqkXzxvPlojc_jdVJv1asOA8ZdKz4qcYY-MSOKjdzkkMKKGKhO6jEvQUQqfHu0lBe7v9sS9LOPrGvJLtkgsTDCdwjf7kmR14JS6eSWvkTYEe63UBryF660VzVGKeFYdqCZbkqFqVGqrBZyVqqtW7Eqp1hLMN3bIT3ufCxwK_68SDNT8rfpJDbLowkcGDgl0fIZvwrkQMHBEb4mnHYCGYH-peddCE_Y9JIBpEu-DHZPT7icWPJQg7XiMZUiXiw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg', 'expires_at': 1739902888, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739899288, 'exp': 1739902888, 'jti': 'ID.5zLbJ4iIrqQNuhnTY6l2ZzVXs5QJQYgAdLLjCeOkXCo', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '38c2da4fa2deaab7feec85ac19f8ccce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1739899286, 'at_hash': 'ucU1MkeFD_4kC4Sz3Sfewg'}}
[2025-02-18 17:21:29,227] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,253] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-18 17:21:29,254] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "[32mGET /auth/callback?code=CBICkKZ3FQdW-_PbgRVdIHbyAA2v0M2x9YTPKCKvosM&state=u42qysWYaDgqmBTnJe4kVlILhAL3C5 HTTP/1.1[0m" 302 -
[2025-02-18 17:21:29,262] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:21:29,262] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:29] "GET / HTTP/1.1" 200 -
[2025-02-18 17:21:31,547] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,547] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk4OTkyODgsImV4cCI6MTczOTkwMjg4OCwianRpIjoiSUQuNXpMYko0aUlycVFOdWhuVFk2bDJaelZYczVRSlFZZ0FkTExqQ2VPa1hDbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM4YzJkYTRmYTJkZWFhYjdmZWVjODVhYzE5ZjhjY2NlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTczOTg5OTI4NiwiYXRfaGFzaCI6InVjVTFNa2VGRF80a0M0U3ozU2Zld2cifQ.snjWPseikSTNVOai_Fw4IHXpDiTt-2bf9D0qun_z18TSQxaSySf2iVUibc3hyHl40QBxvWxDoH0VNDIQCTsQ4XJcr0gZVX21lWsxImsPEUyi_fBtA5g7cad-JxgsCLfolxlBWy_4poriPzOmQbU5auKQTBoTQ06G-RL78QuJHzMQvqwkH6bdmw5PHCHxhfE0ORHlNb_BCHH4CObWpkvaK2ida2SKzAhaGEgxAcbdNDaO0l6O-hs6RoaLlzRln5GmS1zywVLdG8cshE1KdBU-rdJeNhlGvOOQsZEyP1k5e-JYRxs2bRq2C99rZoNIRenvuM1z-0YxYt8h5Tx2BQAyQg
[2025-02-18 17:21:31,548] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:21:31,948] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:21:31,948] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:21:31] "GET / HTTP/1.1" 200 -
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:31:46,360] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:34:56,931] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:35:07,562] [INFO] [app] : your_secret_key
[2025-02-18 17:35:07,562] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:35:07,563] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:07] "GET / HTTP/1.1" 200 -
[2025-02-18 17:35:10,734] [DEBUG] [app] : Asignamos nonce a la sesion actual: 8cf61c81af9526f1decb292a9b2f03fb
[2025-02-18 17:35:10,734] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:35:10,735] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:35:11,582] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:35:11,586] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:35:11] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:36:59,554] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:37:13,234] [INFO] [app] : cRXjsF7Uy7FajBWkKQRaM30/pWrDudWG+S5fo1rukCY=
[2025-02-18 17:37:13,234] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:37:13,235] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:37:13] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-18 17:39:08,094] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-18 17:39:37,735] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:39:37,736] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:37] "GET / HTTP/1.1" 200 -
[2025-02-18 17:39:46,622] [DEBUG] [app] : Asignamos nonce a la sesion actual: 5dc1b71f59c7d01735e94f7e195f9a61
[2025-02-18 17:39:46,622] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-18 17:39:46,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:39:47,485] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-18 17:39:47,490] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:39:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-18 17:40:07,790] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:08,793] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-18 17:40:08,795] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-18 17:40:09,719] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-18 17:40:09,726] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkNiWUNmeGtaLTFXSDNQZFRISUpGcTJXV1dqS0xQNXJSdVJXVEdyZThTS1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzM5OTAwNDA3LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.QNpOtzBcyF3CWR35LQaCaZEFoBYDyUK57nbAQ28gcyJzj40GOfSU-OSIfRiuvF9cljR3OLdK0t_azBV6E_m7i-A07iK-jItEIxsdHFpRm9-ce_R-rdCq_HC5I6zYmpEivu7pusLApEDPa3wn82kFYXK_740rA0S2jhcgcHflNzMCfAJ-1KFkOq4RvWK5F5Csi4mmueQLAEAnwQV3yiDKkbr46mkuIIdeUdhxAUV2T17FpIzm_wIoFcEX3MKfnrVFkJGnl8q1uV46eePK3uPR5O0GUcVsEK5MGiXkKX7-IPIy-80J6YcyE52LVh273gQylndGD-eh1MF44vCmaBmWoA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ', 'expires_at': 1739904008, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1739900408, 'exp': 1739904008, 'jti': 'ID.oTh1vKXB3YsFflA8FOKrTvMpZ-PgbA5jGlOCiJkFRnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5dc1b71f59c7d01735e94f7e195f9a61', 'preferred_username': 'user1@test.com', 'auth_time': 1739900407, 'at_hash': 'fUT5Zn1DJOYwrfn0Uve6YA'}}
[2025-02-18 17:40:09,726] [INFO] [app] : Sesion info user: user1 user1, email: user1@test.com
[2025-02-18 17:40:09,739] [INFO] [app] : User found in db: user1@test.com
[2025-02-18 17:40:09,740] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "[32mGET /auth/callback?code=BdVOz7HwoteNx-Fl2ijJh_gNdUtx4a8X2sy_c-fCWdU&state=N4uelDffcL6e5EH1L9UZ63VcP9R1nJ HTTP/1.1[0m" 302 -
[2025-02-18 17:40:09,743] [INFO] [app] : Usuario autenticado.
[2025-02-18 17:40:09,744] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:09] "GET / HTTP/1.1" 200 -
[2025-02-18 17:40:16,676] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,676] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3Mzk5MDA0MDgsImV4cCI6MTczOTkwNDAwOCwianRpIjoiSUQub1RoMXZLWEIzWXNGZmxBOEZPS3JUdk1wWi1QZ2JBNWpHbE9DaUprRlJuWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVkYzFiNzFmNTljN2QwMTczNWU5NGY3ZTE5NWY5YTYxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3Mzk5MDA0MDcsImF0X2hhc2giOiJmVVQ1Wm4xREpPWXdyZm4wVXZlNllBIn0.FSqlm_dgAQfI7lBYpxdlSZsFxbpfI_-P_wJCgJ-jHBO_qur0dKSirvsqpSTqe4NNwI49cw27mTZHQ8rcBpLdKFfHcCGnjhR7CrhmhLvVywx34DtaTqt-EHMsVrYsTvlCj5JqYT1Ryjm03IMOOCr6ILeEqRnzQr40KdH1wHLAOQLdjw791BHCzMoa3Qc_uMrVR7C3AJEOgjNWoo9bc_tCihuUtvhJkIU2KmiEFkvnOodE06rgRzjBorqCN4Qlw4GoLDprMsW8wD0VOW175GC33ny65uwhQGjDKZdJgSXfiJO7Wdv2gZ0chpR32cBOWYb6vS9fDckcM9uRXMqxRq9FFQ
[2025-02-18 17:40:16,677] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:16] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-18 17:40:17,282] [INFO] [app] : Usuario no autenticado.
[2025-02-18 17:40:17,282] [INFO] [werkzeug] : 192.168.1.41 - - [18/Feb/2025 17:40:17] "GET / HTTP/1.1" 200 -
[2025-02-27 16:56:37,830] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 16:56:37,831] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 16:57:36,204] [INFO] [app] : Usuario no autenticado.
[2025-02-27 16:57:36,204] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:36] "GET / HTTP/1.1" 200 -
[2025-02-27 16:57:36,308] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:57:36,308] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-27 16:57:38,849] [DEBUG] [app] : Asignamos nonce a la sesion actual: 933ddf0da210989518f789b3a4fc224b
[2025-02-27 16:57:38,849] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 16:57:38,851] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:39,659] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 16:57:39,664] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:39] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 16:57:40,297] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:41,295] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 16:57:41,300] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 16:57:42,248] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 16:57:42,257] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlRCU2NacG1iSm50QUptT3lsT3I4ZTZ2V0hVaEJRZE9JdHd0UzZ5N2d4QWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU0NjEsImV4cCI6MTc0MDY3OTA2MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNjc1Mjc0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.ocPXYPeY_IcVzhpBso1rmUY8wayjzD2Ox6tRNFM8eU6329WI3aUfTz0jcy1zm67oeUCHgP9yXhY28Bban2en8T1HCX-bpezULlCN1yWa8zhv7XlUbDWC6W0CmEcPiQ4OvCuB3CsFU425nbPsqPpWoLtI9Egi7VuGGBKezPyUsvTbdami-1EL_aqrwDFxBnN9sSiDzXSOCZiLcMJNYJ6YIvLnXQZ-iE_jIQT8_KgbxXRByZSzB6agYHl65q4iZnuci9n7YOwnNwDoz1fmzZ1EonswvaiNT1DrLVoprraOgpfOVYnrFmBxxOd3DTPPdneK23nuBFNXOFTcszPfvlQqVA', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU0NjEsImV4cCI6MTc0MDY3OTA2MSwianRpIjoiSUQuT2JQTERfaEJVSGpXa21WVExRWVBoLUJpVWRiTEFvck9IQ01RdkJLOTFPVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjkzM2RkZjBkYTIxMDk4OTUxOGY3ODliM2E0ZmMyMjRiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6IjBScWdfQzNOR1cyNnpyZkhjeTg3N0EifQ.PZCAIsUpnsv7LNuTPlLQRaXb-NUZ31HezB6Tp0ciz2Ne5GZdhhFA1eyQ3QLm-CP5HkAFc5XRz-w3_ndW214EByH-JwtbkvRkJPI9rc8g19Js7kHywMv5p3We070prE0WSo6fxNr9hr2yIhWXAt7U1psnmCo-bxwliP8y-HWR8ZE_192vK7i-sY968-HSX6lCrHqf6U243uYZBoDoTqixTaivvo-c-g7UBdMe7QJTO44lp5-byZ0Tp8Xc95hpbwy_S9o4yp5kzKxBop5RqaK_C-qi3co1nOfpcdXCu9KukzOLAsjq7Rxhrf2iRG4aLfeNfqEYjbavpXOv76Nk3Xw9Rg', 'expires_at': 1740679061, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675461, 'exp': 1740679061, 'jti': 'ID.ObPLD_hBUHjWkmVTLQYPh-BiUdbLAorOHCMQvBK91OU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '933ddf0da210989518f789b3a4fc224b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675274, 'at_hash': '0Rqg_C3NGW26zrfHcy877A'}}
[2025-02-27 16:57:42,258] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 16:57:42,299] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 16:57:42,300] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:42] "[32mGET /auth/callback?code=6x3mwND_Kt4Mc3pEAQO_Z8LMIRs2AMfRDVsR92NOlCQ&state=l0nhik7m7v9Op7sGOS6nBZxYcz7cL8 HTTP/1.1[0m" 302 -
[2025-02-27 16:57:42,303] [INFO] [app] : Usuario autenticado.
[2025-02-27 16:57:42,303] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:42] "GET / HTTP/1.1" 200 -
[2025-02-27 16:57:46,423] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:57:46,423] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:57:46] "[33mGET /lklk HTTP/1.1[0m" 404 -
[2025-02-27 16:58:11,875] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 16:58:11,875] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 16:58:20,483] [INFO] [app] : Usuario autenticado.
[2025-02-27 16:58:20,483] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:58:20] "GET / HTTP/1.1" 200 -
[2025-02-27 16:58:24,096] [ERROR] [app] : ERROR: page not found!
[2025-02-27 16:58:24,096] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-27 16:58:24,097] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 16:58:24] "[33mGET /klj HTTP/1.1[0m" 404 -
[2025-02-27 17:03:08,621] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:03:08,621] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:03:25,942] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:03:25,943] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:25] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:27,431] [DEBUG] [app] : Asignamos nonce a la sesion actual: 778a26d300fadfdf7d55bbf0c09b3bbf
[2025-02-27 17:03:27,431] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:03:27,433] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:28,247] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:03:28,251] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:28] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:03:43,981] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:44,988] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:03:44,993] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:03:45,882] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:03:45,885] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRpbDA5VEpJdGFUcy01VzlUc2daUmFSV2kxVTBDQ0c0WW9nS1JRX3pCX0EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwNjc1ODIzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.LqvE_BlXce_1ZvG1fu8ewHZ9fJJZYE3ebr0NNZSuNCv2ORxN2IIR3CexacLazf3GjAy9Y8UIbhoejTCrTo5X4Y5yjMgduuabQ-6RqL82csSE3urh_yKdmx3PIFQUsVtzxkpjZF7Qhi2Gomc50CCnTrwkCwBtPMOR9KMMPXR30nwEK7uThgSC3zgb_O9ebGoX17af-CdvhY3KGui2w0gKRnzquQnLuXwpnTejglnBVSkV-dcFbzC-aerfLrQjxVi_zk6orgvoGrpQABv5OYaQ6fpr2YimcdyuuzHr0Y0KqtBnEtKMxRz1g8bMDoGczP6HcjzvC02uoUIndc05_e2uPg', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA', 'expires_at': 1740679424, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675824, 'exp': 1740679424, 'jti': 'ID.NmDns6o935Yxj7UznsrRuI-_GO54YHK-BBTXGuhfOXs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '778a26d300fadfdf7d55bbf0c09b3bbf', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675823, 'at_hash': '3Ws6Y6BtHL1Rwl-uoUBu0w'}}
[2025-02-27 17:03:45,885] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:03:45,898] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:03:45,899] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:45] "[32mGET /auth/callback?code=PpBu5_AfrnoSR-ihLisO-OpqFXw__dxlIVZX4RRmNNI&state=HKDBZpNf2ObNcXB88dt67m925pTifQ HTTP/1.1[0m" 302 -
[2025-02-27 17:03:45,902] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:03:45,903] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:45] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:49,869] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA
[2025-02-27 17:03:49,869] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4MjQsImV4cCI6MTc0MDY3OTQyNCwianRpIjoiSUQuTm1EbnM2bzkzNVl4ajdVem5zclJ1SS1fR081NFlISy1CQlRYR3VoZk9YcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijc3OGEyNmQzMDBmYWRmZGY3ZDU1YmJmMGMwOWIzYmJmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTgyMywiYXRfaGFzaCI6IjNXczZZNkJ0SEwxUndsLXVvVUJ1MHcifQ.oJqblx4Df1IxF8Ozv3ggq85G6GToJ5EjAJuiI5KnFrNy-ykC2MaEQwWZ69nF3eUey5tuUWxC2127NS1nwNkvMgpZUtzl6AHWrPYFgk3JqeC3ugCiKqHYrvd3qoWoa5TRuRIptWucUVP6gqfMDhI049Bs3hsP-r1Q57kZGXszabUifgAgH5LjIbqBuXZRNBrzCfngpZ3aSElgc60XMXuM5Ny4nnEpCYUy8wCTLgnVFdNz2sydXP2KZL0d67WGYv6LmXad2fAdx5YdS7t6j2GupkZH2gg-MQN88or4pYy6olRjhxZ_1dEcMG1jKqCM9YAC2hwWOHDUCk1OZlo6IZqdwA
[2025-02-27 17:03:49,870] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:49] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:03:50,463] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:03:50,464] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:50] "GET / HTTP/1.1" 200 -
[2025-02-27 17:03:51,719] [DEBUG] [app] : Asignamos nonce a la sesion actual: ce70bd84a14f6ecd14cd23e7943e93d8
[2025-02-27 17:03:51,719] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:03:51,720] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:03:51] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:04:10,250] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:04:10,250] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:04:25,102] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:04:25,103] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:25] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:26,696] [DEBUG] [app] : Asignamos nonce a la sesion actual: 1cf8b3ddf1e94e18a02ef001ceaf46a5
[2025-02-27 17:04:26,697] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:04:26,698] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:27,380] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:04:27,384] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:27] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:04:39,392] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:40,377] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:04:40,380] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:04:41,292] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:04:41,302] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmhpajFWTDZZUE9aVERBdV9rdHRuRWxiNzg0NENBWkhWRXkwWkhtb3lRMFkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNjc1ODc4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.Jj9K3Po3sbSirnf45JBPAPP78BZf1kDCTTc5a9YOjHtzsYqJw2d7jo2D8K8yMDgbFFPjUGkMn0K_w0zTYxv_-qvys7j_yjTrTk5NnYR2QdqGZDDyX-yAdk_gddo77ZgFOIrgt_anvQcP0J9ZumRwslE1oFYN9ERlN5S-VRZxxjhc5CyxPQUXRxHdCH0t_aSV9QmjgU80ocFGKKMHPOdCLqmuX8bXm0CL6M8bsaSNy3mySaz-TMOuqpOtc5gJO6NrizgTIsDoxcP54jDO0oGQmOunPzcHk_1oxGpwnK6IwmLaQg46In_Qej1zuPrkU5bwQPy77mEMUFUdW37sE-KTMA', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA', 'expires_at': 1740679480, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740675880, 'exp': 1740679480, 'jti': 'ID.w6b3bi2kCLg6w8CdUxr8FA3KD_xEezOr9uZUGeb6aVE', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1cf8b3ddf1e94e18a02ef001ceaf46a5', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675878, 'at_hash': 'WLNtryK_E52s9E8FKWKUoA'}}
[2025-02-27 17:04:41,302] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:04:41,315] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:04:41,316] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:41] "[32mGET /auth/callback?code=m2LIbEEY-hnlttDwUG5SKjuzcwFJ9YhjRBXpvsM5Sqg&state=SMuDOfEEv2fzcnnvzMHj7JcvWaTM3r HTTP/1.1[0m" 302 -
[2025-02-27 17:04:41,319] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:04:41,320] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:41] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:48,389] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-27 17:04:48,390] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:48] "[33mGET /asd HTTP/1.1[0m" 404 -
[2025-02-27 17:04:50,549] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:04:50,549] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:50] "GET / HTTP/1.1" 200 -
[2025-02-27 17:04:51,473] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA
[2025-02-27 17:04:51,473] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzU4ODAsImV4cCI6MTc0MDY3OTQ4MCwianRpIjoiSUQudzZiM2JpMmtDTGc2dzhDZFV4cjhGQTNLRF94RWV6T3I5dVpVR2ViNmFWRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFjZjhiM2RkZjFlOTRlMThhMDJlZjAwMWNlYWY0NmE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTg3OCwiYXRfaGFzaCI6IldMTnRyeUtfRTUyczlFOEZLV0tVb0EifQ.mXtagRN3VBVYWaDo-tW9Iy-xXemCZY21M08Xn3g5sFLopApDedAwCJOyWXMXcf9dc9UbyEIL-FpJz8QNXR3hH-rlfmj1bf8ZPz9V-TAO9q_TzAxHPj3RKzNWbXpL0KAAez1OIQ1uoarQ-Ghy2-csvIuZvkXfD8aWb0RBbmHZnBuCEJfCtn8illg9i-jDF76pmAhQrNdS9IrvUi0hzrLrjT8WwspFD-lc_sWumwqnARfyxxt-rGlW-dSOYtSVxQM1PuSwO6fM_gBF-2xkmhzgymSOL16UaFbFQX2Pjw8Wvh3bgZ92VjKEHMh5kB5XvcHmV5oq8LgEVHBCuJozB6GHIA
[2025-02-27 17:04:51,473] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:51] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:04:52,104] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:04:52,104] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:04:52] "GET / HTTP/1.1" 200 -
[2025-02-27 17:24:21,580] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-27 17:24:21,580] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-27 17:24:27,334] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:24:27,334] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:27] "GET / HTTP/1.1" 200 -
[2025-02-27 17:24:29,011] [DEBUG] [app] : Asignamos nonce a la sesion actual: 03e2472cdee74caa7d6bb4e2c4d55d98
[2025-02-27 17:24:29,011] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-27 17:24:29,012] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:29,820] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-27 17:24:29,826] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:29] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-27 17:24:31,054] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:32,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-27 17:24:32,047] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-27 17:24:32,947] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-27 17:24:32,953] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmNSdjUtTUdVVGdnRVkwME1rRjJXemFDUURaWnB1RlNoTm5CeWlTZE5qNjQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwNjc1Mjc0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.On28ndWwr0-f26SUGiGXoeEiM8unwqB7c6sVx85TiwE8-MjpcvfVpvgCBZRyC9Zg8Q_A3IxktvDc1gnKmjE7acJ27A8vlDq7qtPLRA3fJiyDCbWe6EDFtGFeQ49Nu2WhCjWjiNNGDAlsXjmWft0u9pJVz9YOYMxR5UsOs_mhapO9Z10WbV4doCC7JTkFn4MtHd7rIGQFtnlnaVHu3yXpX4-EZnm6RTKHLnf4D6JUIUJqAJrIkkOAhtqDhPiT6-FV_p4pkrjcV6Peeazuv6z3pNmZR1orRyVsaLwcZLzJwUvneyJGOMkTbk9dWke6Qz8AcM4A0HcSOgYxPY5EnQLd6A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A', 'expires_at': 1740680672, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740677071, 'exp': 1740680671, 'jti': 'ID.DmbtaR-HGL4NzhGT61b1X-L_g-eEdSagRpQckyRH9rs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '03e2472cdee74caa7d6bb4e2c4d55d98', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740675274, 'at_hash': 'x71As5Hr8rBFQVKQLnAGZQ'}}
[2025-02-27 17:24:32,954] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:24:32,966] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-27 17:24:32,966] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:32] "[32mGET /auth/callback?code=wU6o6nrusEMyOKXThOeeTUiVmt9y8kKjAhw3TMkrK7g&state=GlzJ7PkYT0C7ehXiB3Z41Hsrp4CIlB HTTP/1.1[0m" 302 -
[2025-02-27 17:24:32,971] [INFO] [app] : Usuario autenticado.
[2025-02-27 17:24:32,971] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:24:32] "GET / HTTP/1.1" 200 -
[2025-02-27 17:27:12,184] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A
[2025-02-27 17:27:12,184] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA2NzcwNzEsImV4cCI6MTc0MDY4MDY3MSwianRpIjoiSUQuRG1idGFSLUhHTDROemhHVDYxYjFYLUxfZy1lRWRTYWdScFFja3lSSDlycyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjAzZTI0NzJjZGVlNzRjYWE3ZDZiYjRlMmM0ZDU1ZDk4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDY3NTI3NCwiYXRfaGFzaCI6Ing3MUFzNUhyOHJCRlFWS1FMbkFHWlEifQ.c_MdC_pYBXGbflGdaKMHOAp8wmcxVHGDq6KvWMD4Wsh7-vDQ9zEHE5Ln8bb9CpSvToaZ7GrXNcEnXSZIbaLh_XlbkNjFbUPmIojAGtKdJwa9fuAqqama_ccNkYDynB3z9WVXraCRWGfXmou4Eqin9fA5GDKSvAPhPCAj34KdK301nZbfaJ5l9wzt0bTNfvlzYrAB81pJGPC53QYGYrDdAtkmBoEgSIHsqZ6FGfJwJF91SlYy3oo5q4e0O_rd95CdjFWFSlIiIQ6IzMPuG6cXN7t8UAnZDLWsYWc4qYkBYLkc5Ps421u6VOPUstmJtGboWxPKMTzNjpOLQaObxqx10A
[2025-02-27 17:27:12,184] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:27:12] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-27 17:27:22,800] [INFO] [app] : Usuario no autenticado.
[2025-02-27 17:27:22,801] [INFO] [werkzeug] : 192.168.1.35 - - [27/Feb/2025 17:27:22] "GET / HTTP/1.1" 200 -
[2025-02-28 17:00:11,546] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:00:11,547] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:02:02,352] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:02:02,352] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:02:10,742] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:02:10,743] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:10] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:10,791] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:02:10,791] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-02-28 17:02:17,457] [DEBUG] [app] : Asignamos nonce a la sesion actual: 84a0cf0b9472ad86d137820050ca4d49
[2025-02-28 17:02:17,457] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:02:17,459] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:18,265] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:02:18,269] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:18] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:02:35,455] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:36,456] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:02:36,460] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:02:37,381] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:02:37,394] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmVFRXdMYkRUMXZJV25TZE1xaG42bEtPbDk3dU1vRTM2OUJxOUMwaEJ4bzAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyMTU0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.CmD0TyxvTQsVtnYzHfnBXEmOg0hN_y6OlnSgsh8QySoNfj9i9KJ2WXbso9nQOb0fHc0ZSQZf9nG35GrhoMWPVGLcrXmMUpsjeE3wYWbFM6B_EUhR6MUJIgQVSr5bJzDcao_MDrQpowrtMpoAH6JbfVBZQIfJlXI0bSpJigja0nM1sr42jFXHXGn3Ym8KDySBS12Nyv7Lz1LSABxT5WV2MqTjudJPpXqsfi99-p_YXIqqRf4vUSmc6pMSlc0j7RU6Y-hdEzvJd45V7KWw5-rMWcel3Md1mviijm8Tns1ikwAz6cEOEtkvtgu9YZWEIvFTeJpRtPIgyl-n2g68Bh3F0Q', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ', 'expires_at': 1740765756, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762156, 'exp': 1740765756, 'jti': 'ID.JHvLDAMnTH3vkydTVIEdteEimZqI7zMoit0IR0YgP-Q', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '84a0cf0b9472ad86d137820050ca4d49', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762154, 'at_hash': '-wQRq6VeFWsKHtPXlyz5kg'}}
[2025-02-28 17:02:37,395] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:02:37,435] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:02:37,436] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:37] "[32mGET /auth/callback?code=rEpYMsgPXvfdl3AeWRct5MY4x3I_kjE-GS_j9U6hTns&state=UqwvIayfCwKXngl4cVC0KD4YngkpEw HTTP/1.1[0m" 302 -
[2025-02-28 17:02:37,439] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:02:37,441] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:37] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:43,812] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ
[2025-02-28 17:02:43,812] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxNTYsImV4cCI6MTc0MDc2NTc1NiwianRpIjoiSUQuSkh2TERBTW5USDN2a3lkVFZJRWR0ZUVpbVpxSTd6TW9pdDBJUjBZZ1AtUSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijg0YTBjZjBiOTQ3MmFkODZkMTM3ODIwMDUwY2E0ZDQ5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE1NCwiYXRfaGFzaCI6Ii13UVJxNlZlRldzS0h0UFhseXo1a2cifQ.Dfp2SlMdFRTjE6wadtoNHErWXBasMTAyqrTxRsCOSA290D5oEELnp1WeiMx1Z4_NakfanZt1Pk5rSf5M7GPKBujA_cPN0GBuPaWYz-U6wnG1ahetm-2lQlIXrmYfc-AXVcKk_G1kHH7tA4VFRzIlcrmTzgPryQJZZW1okaflIPeISBgkKt7_00hE8vQwMCOIaKfumhICA_HydR71cQUMenCALsEmanCUAAMgdT7zSnoXwCmNEzxY304rEotM0uON47ciPfkn_BeHADRleKqyH47yw8cV2LbwMLNa45U_6Y7oMgFKQLtiTXDTmfXpzR1NpthwNUmpxloaQCN8heayAQ
[2025-02-28 17:02:43,812] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:43] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:02:44,204] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:02:44,204] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:44] "GET / HTTP/1.1" 200 -
[2025-02-28 17:02:46,200] [DEBUG] [app] : Asignamos nonce a la sesion actual: 0d9a160386a5d0d710025440ab3175fc
[2025-02-28 17:02:46,200] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:02:46,200] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:02:46] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:03:11,878] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:03:12,838] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:03:12,839] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmxkenpyWjd3WHlpNkpRaERWcnI1ckZoS0lCMWpwSFgtUzhubFhSazlScTQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyMTkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.biRizmjtiZk_pOhK20LD_kNGTVa-zVFwH8Ny9vTN0k7jLzK-DPYUwE6HLyJWTZ85F2Yn6lpPYXRneUB407Gv_wCXnWa7oALFZN-wkyjxCbfzeDUFQVZcxsCnWLiD6lU3MBDijM7YJvRBLRM82_jUu0K2AkKnlzG2Gm-snkcgtWbYyc97L__Bbx1lO90USRu8hdq_0tXfq0BgVDwKCu1dFCwkkuTNXwh3bYIjEnd-Pn-RJhCwLS4KZBZbD1nBL_DknC3nOwatFIP4WxCSPfCFuFGbqwoCHa7h-AuGMu6djZ4j3CDcIg4MoPTJwKjOiQd08QvzzcvD3cFxN9zEXh8uTg', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw', 'expires_at': 1740765792, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762192, 'exp': 1740765792, 'jti': 'ID.MxqC_QhnejnlitERSQU8zsdyY3waS4EdSXHDpGn9oDM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0d9a160386a5d0d710025440ab3175fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762191, 'at_hash': 'oD6jPF5Sds2MHn4DF6hNkw'}}
[2025-02-28 17:03:12,839] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:03:12,841] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:03:12,842] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:12] "[32mGET /auth/callback?code=AzOOaeooZvYVYorlmwbgWxGgRnxMFJwfXXfs9MM9RF0&state=E2QbgztbCBkCxUXiU4MROUVgoNvfka HTTP/1.1[0m" 302 -
[2025-02-28 17:03:12,845] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:03:12,845] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:12] "GET / HTTP/1.1" 200 -
[2025-02-28 17:03:13,934] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:03:13,935] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:13] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:03:20,621] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:03:20,622] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:20] "GET / HTTP/1.1" 200 -
[2025-02-28 17:03:35,073] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw
[2025-02-28 17:03:35,073] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjIxOTIsImV4cCI6MTc0MDc2NTc5MiwianRpIjoiSUQuTXhxQ19RaG5lam5saXRFUlNRVTh6c2R5WTN3YVM0RWRTWEhEcEduOW9ETSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBkOWExNjAzODZhNWQwZDcxMDAyNTQ0MGFiMzE3NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjE5MSwiYXRfaGFzaCI6Im9ENmpQRjVTZHMyTUhuNERGNmhOa3cifQ.XwlMuynyW7akHiRBkJp70C8_0rG5c26MCpcyhp8cCfAkmvctynQGthk3BvA1ib47exT5-GunDYcOg3vcppXx1eBbFdPWCX_FVGBVaeoARMMiQZguExfQPEdmGM9aROdegku1pfkJlQDxNHRuD_zBLCRpkRk2whPN4iW_t-IcIiFYhkyunBnTGXmkc2UQyhfHSVJ9NgXlbCSvjfYRoCCMxeEAO5usIQjLtk8KrvJmabyj2g5shBop16NtMtCz8vymx7-NEEkWSqPXIR6I75QNMrlWpOogCBu1sc_LPOvVdVrV5ja_ewgFz-pS_iQ9-hPJGbKf2-zAJMjKuf6NTctIrw
[2025-02-28 17:03:35,073] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:35] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:03:35,485] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:03:35,485] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:03:35] "GET / HTTP/1.1" 200 -
[2025-02-28 17:05:49,418] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:05:49,418] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:06:11,281] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:06:11,284] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:06:11] "GET / HTTP/1.1" 200 -
[2025-02-28 17:07:06,251] [DEBUG] [app] : Asignamos nonce a la sesion actual: b9998a2cf7e1d2beced155d6343d4e08
[2025-02-28 17:07:06,252] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:07:06,253] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:07:07,023] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:07:07,028] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:07:07] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:10:14,219] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:10:14,220] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:10:50,310] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:10:50,310] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:11:02,197] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:02,201] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:02] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:08,175] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:08,175] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:08] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:09,222] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:11:09,223] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:09] "GET / HTTP/1.1" 200 -
[2025-02-28 17:11:49,943] [DEBUG] [app] : Asignamos nonce a la sesion actual: 3550bae2ffd8bd2e5d8fccaf418ed18f
[2025-02-28 17:11:49,943] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:11:49,945] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:11:50,722] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:11:50,724] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:11:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:12:05,710] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:12:06,664] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:12:06,670] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:12:07,569] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:12:07,585] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkxZRUZyNTFjU0xKa1cwVDBlc25NZzhGcGRZVml1aTl0WlZHM0NlcEdZREUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYyNzI0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.RL9qo6acJEvgAwmRXYJi4axEkNYXuzELcJp4xKKktw769byVAD0Fpi_njY0fabP3ffLxZZbfGvbuW0oPn8-Hw71uvm7vutSKKqs7KTIo8GCU0z3sS_Y2Aem1LNeGI9mNNxerAEciKlXKQu6IGiDoWkpGfaSKBMCArHNCLNJddkweCrsMtWEInJQXEvDMFlQOm2w5_CVSPIpzKx6RdxzycV_bpLrfSJz1K3SaCwFRCMkHxBV1gCjWmGPIgEhOx3VlCxVTUxgboviImAhe3NIdEO7CiaAfpYXrBbalh_Gh_jkUIBjkyCtVh46b-dIBMxmVzeVcF3dA-jK74iKl_S7syQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ', 'expires_at': 1740766326, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740762726, 'exp': 1740766326, 'jti': 'ID.7tN_iORfZFVXnbL-9qnNXS_5DjIRgR9qvsiUbzfGe7g', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3550bae2ffd8bd2e5d8fccaf418ed18f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740762724, 'at_hash': 'kBjrhw_4Ef-g8fa7zLm6sQ'}}
[2025-02-28 17:12:07,586] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:12:07,612] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:12:07,613] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:07] "[32mGET /auth/callback?code=bbcfx0FeUSqkz87aN4yftiYpGaYJIjo4JVS_9OHtp4g&state=G8DZpg2r14Cl1q67BpohTnhn6h8TGs HTTP/1.1[0m" 302 -
[2025-02-28 17:12:07,616] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:12:07,618] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:07] "GET / HTTP/1.1" 200 -
[2025-02-28 17:12:10,024] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:12:10,025] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:12:10] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:13:12,744] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:13:12,745] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:12] "GET / HTTP/1.1" 200 -
[2025-02-28 17:13:27,908] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ
[2025-02-28 17:13:27,908] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjI3MjYsImV4cCI6MTc0MDc2NjMyNiwianRpIjoiSUQuN3ROX2lPUmZaRlZYbmJMLTlxbk5YU181RGpJUmdSOXF2c2lVYnpmR2U3ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1NTBiYWUyZmZkOGJkMmU1ZDhmY2NhZjQxOGVkMThmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MjcyNCwiYXRfaGFzaCI6ImtCanJod180RWYtZzhmYTd6TG02c1EifQ.lAHCxMkxUU9556qF0s98TVG5obzc6xcz0D4d1XGuOTfhZKl1UisAAp4lRj8DFJBK1SNwMdgr80W74J187SSF6n4uUUYU_FDjKuyJWdld-Nq0AJXsLU0Zlg2d_MRTUAwgQPcOP5Md9ZD2ujL2SxHWNphqvNo3VLyrqX8yuzqjUrzc4XXJjOcGSkcwG5iDBngk4iMbhkkg5Wz9kghtXKBJf8QY6VEXyL1ierqIYC_hCagMkoZ2J3iydrvoq4Me_iOTuixdlZPqY9-fQKuvBCIxNtaQOUKjy_zpJapBRJopkjvk6bj0yzFLtZu5pN0vfK6HH6koAYtgIDVia4jqVedPGQ
[2025-02-28 17:13:27,909] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:27] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:13:28,538] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:13:28,538] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:13:28] "GET / HTTP/1.1" 200 -
[2025-02-28 17:16:42,057] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:16:42,057] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:16:51,261] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:16:51,265] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:16:51] "GET / HTTP/1.1" 200 -
[2025-02-28 17:17:22,530] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:17:22,530] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:17:22] "[33mGET /login.html HTTP/1.1[0m" 404 -
[2025-02-28 17:18:08,173] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:18:08,173] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:18:08] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:04,047] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:20:04,047] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:20:09,342] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:09,345] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:09] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:11,212] [DEBUG] [app] : Asignamos nonce a la sesion actual: 8a93ca5a0adf85c7a37aa062918551ca
[2025-02-28 17:20:11,212] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:20:11,213] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:12,043] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:20:12,047] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:20:27,483] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:28,261] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:20:28,263] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:20:29,155] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:20:29,159] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnQwYk81Wll6Ym1vTy1XNHJyc3B5WE51dzVBa29uNlNpeEd4emludl9FeDgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQwNzYzMjI2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.NqgXSuvZE3s_d7Q2lBg1Ad5WjzO6s5Pj88vSN0BoNIX8K3t7-1M8zOEzRYQJxFOjHOtP0Rf_2K30ohakKFGDdNyG7amkbDAfeyKE5Bo4R21UMWekxoH6Zj6-MTnqfZFb0eDV81Y9DmC724QBYA_HEassGKpvhG4hF3TrgsfZiPa8f5cGl_cLm9AG9uwIwLkWOG6j0GXE_HQwSIO6c2vvtFulxD67Et32mwP2TvnuZmeLuDALTptx3zbKX65vB0aQ_BITc4lYIPYBSQbTiXxpBz1nNATjbO6MErMWgK6YKbM3z2sUwrd6-32CA4fJFGCSv5vc2SzL-hR-pcY2l3B-nQ', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg', 'expires_at': 1740766828, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740763228, 'exp': 1740766828, 'jti': 'ID.Sw-LadGxFhSBF8FV2F8OsltlZDmCoHiiiJ291BQ6L3w', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8a93ca5a0adf85c7a37aa062918551ca', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740763226, 'at_hash': 'xwV95ikWgTJ2JCU9vMUY7Q'}}
[2025-02-28 17:20:29,159] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:20:29,171] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:20:29,172] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:29] "[32mGET /auth/callback?code=FFTZAP3zTPOa6OdkEzKxzvha9QAYWZMz4m2HtzKeui0&state=hKG5hHf2WPtqxTDSoJ3J5BVHPO9UkA HTTP/1.1[0m" 302 -
[2025-02-28 17:20:29,177] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:20:29,178] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:29] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:41,162] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-02-28 17:20:41,162] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:41] "[33mGET /profile HTTP/1.1[0m" 404 -
[2025-02-28 17:20:50,733] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:20:50,734] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:50] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:52,635] [INFO] [app] : Token de la sesion: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg
[2025-02-28 17:20:52,635] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjMyMjgsImV4cCI6MTc0MDc2NjgyOCwianRpIjoiSUQuU3ctTGFkR3hGaFNCRjhGVjJGOE9zbHRsWkRtQ29IaWlpSjI5MUJRNkwzdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhOTNjYTVhMGFkZjg1YzdhMzdhYTA2MjkxODU1MWNhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzIyNiwiYXRfaGFzaCI6Inh3Vjk1aWtXZ1RKMkpDVTl2TVVZN1EifQ.dVO-xd-EWpmLZbd-p_nth6VccMLrSJZN9GIWilZ2S4W3XqU5K-g1V2QzlJIVVySi52enp_M0AwIIfd7peZ3LSK3xpxBBJXkYfmNB3EQmYH8ZMHLPB_UQWS3dVqJVzSJaO8NfzZnlzr43XobgcbpEBhdxYnhbbVR-QnsN29lcrbUSx15IDkbQhrqsgqkt7UcLvfoSiQDrtJrAojBWztnUUh6uAtfHyk58kmLBK8Ntagu7JsJWkKMq60H4g5i11qoed0-g3xi22EieTb9P40l5fysHBdmRPN7EjdsIvivD240uv3rz5S0YKwRZBlsWVzkFPQhmQh8eJJ7axyFQZpqVIg
[2025-02-28 17:20:52,635] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:52] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-02-28 17:20:53,211] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:53,211] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:53] "GET / HTTP/1.1" 200 -
[2025-02-28 17:20:59,451] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:20:59,451] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:20:59] "GET / HTTP/1.1" 200 -
[2025-02-28 17:28:26,812] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-02-28 17:28:26,812] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-02-28 17:28:38,616] [INFO] [app] : Usuario no autenticado.
[2025-02-28 17:28:38,619] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:38] "GET / HTTP/1.1" 200 -
[2025-02-28 17:28:40,039] [DEBUG] [app] : Asignamos nonce a la sesion actual: 624b067e380a16dbeea4ee52f0b987c0
[2025-02-28 17:28:40,039] [INFO] [app] : Redireccionamos a uri: http://192.168.1.10:5000/auth/callback
[2025-02-28 17:28:40,040] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:40,853] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-02-28 17:28:40,857] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:40] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-02-28 17:28:57,081] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:58,045] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-02-28 17:28:58,050] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-02-28 17:28:58,940] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-02-28 17:28:58,948] [INFO] [app] : Token obtenido: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlhOVzU1YmZ0NnJ4NEp3WGtOcW1zdnBWbVFGUmEySElpUVlvV1E0aFhCaGciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA3NjM3MzcsImV4cCI6MTc0MDc2NzMzNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwNzYzNzM2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.qE17OQSmhxQUl4T2Hw0FJhp_k2dnqGWkli8sgxfgdDghgs3mnLjrpYFsnzdBUbEdzYrF2uzb42e6Hqnom-Yp-w2HzCO_dSbv5Tzwp9fqvd3SPH49cfSNz3vrfrntRWPkpJAiC3eCrs3EEUR3tirhfgnG-lw2leGLRaCywkFqm4HiDWkPNTpMRbxf-Wkz_RjPe55IzpeBBCwxIXv8qc4tmOVNyM8v3_r8DZofnDEIElYFQRv-rwWO3pqIPtmf1Gt3iaFaHG_QK3swO8Kh7P_13SDnsoh_w5wb_ykMzqXIuoVocHQ4Df_eSdbTiiZPfWz7VRce7xIwk0KrzikP7rIsUw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA3NjM3MzcsImV4cCI6MTc0MDc2NzMzNywianRpIjoiSUQuMEYyRWZGNF84U1RhOU9zc1czNS1ITHpYdURVNWpVcjVTUGlWb3hfNzZNRSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjYyNGIwNjdlMzgwYTE2ZGJlZWE0ZWU1MmYwYjk4N2MwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDc2MzczNiwiYXRfaGFzaCI6InFtQ3dnT2JnQnlXb0dpcHQ5RmNYMWcifQ.hsZQY5QLYvOBj5goce0l3HpFASRbZVmqG83yFSRre2ayw3uWGAtST5CmpDhwZ200OUAyEl7E9eitT3rROvFpVuGEiHfZj5npMC7gOKK_wzXi1oUMmOHNskAMmpMN8tHs6i1u74QehoJDWLKZcRPTCdmU0eVEQJ98sCnvDdDOZU9Da0oOOVGuBPKqcwu4P_zWl4W_yy1FGtpvQc9uHBnSJHhoPZcVnQsQO0YDQt1L1uzWGnCiNWdGFaGMqg_Yn55WFxrXOKT4XnGX-WPw_vjkAkYDl3tvcIWZJ6m8YsWqoX4mYW5zfEqSbWTTYk5owU8bFvHKjdec7VXL5Uf6msOGWQ', 'expires_at': 1740767338, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740763737, 'exp': 1740767337, 'jti': 'ID.0F2EfF4_8STa9OssW35-HLzXuDU5jUr5SPiVox_76ME', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '624b067e380a16dbeea4ee52f0b987c0', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740763736, 'at_hash': 'qmCwgObgByWoGipt9FcX1g'}}
[2025-02-28 17:28:58,949] [INFO] [app] : Sesion info user: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:28:58,960] [INFO] [app] : User found in db: pablo.franco.c@estudiantat.upc.edu
[2025-02-28 17:28:58,961] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:58] "[32mGET /auth/callback?code=JM-ymer7jX3NlrGgay2hzU8eVTNhEQwAWTv89lCgNJQ&state=Fs6YcmpDpLPYwj4jem07W5WQnajNnQ HTTP/1.1[0m" 302 -
[2025-02-28 17:28:58,965] [INFO] [app] : Usuario autenticado.
[2025-02-28 17:28:58,966] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:28:58] "GET / HTTP/1.1" 200 -
[2025-02-28 17:29:40,040] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:29:40] "GET /profile HTTP/1.1" 200 -
[2025-02-28 17:30:01,492] [INFO] [werkzeug] : 192.168.1.34 - - [28/Feb/2025 17:30:01] "[31m[1mPOST /profile HTTP/1.1[0m" 405 -
[2025-03-01 11:19:53,889] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:19:53,890] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:40:37,160] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:40:37,160] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:40:41,287] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:40:41,291] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:41] "GET / HTTP/1.1" 200 -
[2025-03-01 11:40:41,386] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 11:40:41,387] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 11:40:42,893] [DEBUG] [app] : Asignem nonce a la sessio actual: a9e54bae409b634c36531be3c0024e6c
[2025-03-01 11:40:42,894] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 11:40:42,895] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:40:43,907] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 11:40:43,908] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:40:43] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 11:40:59,146] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:41:00,099] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 11:41:00,100] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:41:00,983] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 11:41:00,997] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBhUjAzMUFhXzJPbWJOMGdUdzN6XzdScTFIbU8xZm1EcHgxZ2NWLVU0YWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODI5MjU4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.mr4aSzHOl-ykJdR6OZRoKDKmNsdvQmhCM8isqxpGHtNNw73lmQBf83LoNQU-WgQbLCpSpdmGGx5VWPUa98wxtGLJ4QRXFZ2c5iacVbcLWz3DNlUVUce3vDP_CZSH-b2pH0fJy1u_mZ4f77VZKy28zm5pCiZZ57AGJcJPxqm_EX-TPutRDqthvnixnLBWtekT3HTSdbFaSIK4u2hMcdySdkXjIiAdqJ_HwuTSNZnDGvNqjVugcJcMni7LuO5IAfmtXF4hXgNED3RJhvlEY7fnrYuxWDgh2oPHi6uSYwX63Jczfv3ZvKboD91_J1053t2ujePHoo3rCUsIItIMjuw3pw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA', 'expires_at': 1740832860, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740829259, 'exp': 1740832859, 'jti': 'ID.LIfkVtRKDukUwpWX01ScKVKsVfVD7g6HLHqgc227ftY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a9e54bae409b634c36531be3c0024e6c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740829258, 'at_hash': 'Z4x-ACVCFllio0HevBbauA'}}
[2025-03-01 11:41:00,998] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:41:01,044] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:41:01,045] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:01] "[32mGET /auth/callback?code=QRzZEfX3sgrLHF5VsPVrE2B08CLca9CoJ49wsiYubBA&state=9JEnGWs6Gb93EpgwUQlDttkcUvP7jj HTTP/1.1[0m" 302 -
[2025-03-01 11:41:01,049] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:41:01,049] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:01] "GET / HTTP/1.1" 200 -
[2025-03-01 11:41:04,267] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:41:04,269] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:04] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:41:32,355] [ERROR] [app] : Exception on /update_profile [POST]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 187, in update_profile
    flash('Tots els camps són obligatoris', 'error')
    ^^^^^
NameError: name 'flash' is not defined. Did you mean: 'Flask'?
[2025-03-01 11:41:32,359] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:41:32] "[35m[1mPOST /update_profile HTTP/1.1[0m" 500 -
[2025-03-01 11:43:53,347] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:43:53,347] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:44:09,227] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:44:09,231] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:09] "GET / HTTP/1.1" 200 -
[2025-03-01 11:44:13,295] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:13,297] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:13] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:21,596] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:21] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 11:44:21,601] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:21,602] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:21] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:30,116] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:44:30,116] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:30] "GET / HTTP/1.1" 200 -
[2025-03-01 11:44:37,287] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:44:37,288] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:37] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:44:50,832] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA
[2025-03-01 11:44:50,832] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4MjkyNTksImV4cCI6MTc0MDgzMjg1OSwianRpIjoiSUQuTElma1Z0UktEdWtVd3BXWDAxU2NLVktzVmZWRDdnNkhMSHFnYzIyN2Z0WSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE5ZTU0YmFlNDA5YjYzNGMzNjUzMWJlM2MwMDI0ZTZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTI1OCwiYXRfaGFzaCI6Ilo0eC1BQ1ZDRmxsaW8wSGV2QmJhdUEifQ.MSR-O21aVenp1muUmxZRyRjDonWJ1mOHn6NOmMVYdbwAgAFnSidIJq89jL8gbmL_6o8lJCJFnlGVEqzAEBI5dE8Hcm70TwMDl48agQU4V48ew-kh9fGKJHqd0lr4j9V8uyrkvEz4FGOhn9OZD4Iy7HnI1h3-NiLqRUFcEDVNHdehNRzGhmJD8BovfP2k8RX-WBGpVbJ6o1SLNV6Z6OmNREbfUDtP3ehfxTCFpB5u3dWg9pRuxaQKP71Z2JdrRyAMxwfnsPL0moCgVe84qgFnW27fxWWB6hkhjMoSQ-xE1m4OfysaiQ20jR8RNyCaNY0Uamv5cT7JKtk7AzOYOFpXDA
[2025-03-01 11:44:50,833] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:50] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 11:44:51,556] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:44:51,557] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:44:51] "GET / HTTP/1.1" 200 -
[2025-03-01 11:49:51,513] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 11:49:51,513] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 11:49:54,553] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:49:54,555] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:49:54] "GET / HTTP/1.1" 200 -
[2025-03-01 11:49:57,138] [INFO] [app] : Usuari no autenticat.
[2025-03-01 11:49:57,138] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:49:57] "GET / HTTP/1.1" 200 -
[2025-03-01 11:50:01,040] [DEBUG] [app] : Asignem nonce a la sessio actual: ca63e4a0c76269cf3cbed01f6e36f2e1
[2025-03-01 11:50:01,040] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 11:50:01,041] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:01,815] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 11:50:01,820] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 11:50:02,405] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:03,334] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 11:50:03,339] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 11:50:04,221] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 11:50:04,229] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkVENFAzSFZwQjVHN0c4ZzMxS1lDSGFpRmJPT0NFOS1reE9YM3poWjZfV1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4Mjk4MDMsImV4cCI6MTc0MDgzMzQwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODI5NTA5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.SJ0RUnNshowtszjZaFD4Y7bZuJjXmpCbU0AhrIWJUzlI1R8-V0e0eMV5Ii8hZDx68SE5vpjCvMEe7LHan-J7qYK8Wgn6kV9XU_UyZSPvNAthth9EaCPI4XHc2UgnTDXKRGDjA2XaywnCeSPlfAgxjG2LvXE277kiL7R4mEr_xaf9FOi_0F3IzDhwddO6GMYURTTAbKuOFI5M6UqX-gQuNXqyR7EFQdynuqrjMVPwntkh-OCyWEZcz6mAp49EBnltefhsPOOSqTY95UevSMigxdlOnlGfNaaE7yG0rXHlyX9J9LzAJ6IYIpY6GvnwQotQVUoluZ0QvIcg4aWL-XAk1Q', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4Mjk4MDMsImV4cCI6MTc0MDgzMzQwMywianRpIjoiSUQuMXkycEx1aHAyTlgxUGlhRTZNM3o0VE9rZHdhVmxpWjkxY1lsZTU5eE5WayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhNjNlNGEwYzc2MjY5Y2YzY2JlZDAxZjZlMzZmMmUxIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDgyOTUwOSwiYXRfaGFzaCI6IlpsdlIzeFE5a2F6X2VKNHdsM2cwX2cifQ.PGQsS2kMWPy9lDT28mw5mQtmwQvPrzGKxPBUQOnK323nO_6OoeaECL-FqwR21P5aabkIJog64lTSrxo2P_Y9ZiwMj5pUF-wGEUUumgCA8PoEyhhTR7phFJCWkDEC4jPghSx_IdSdvFnn22s72kqS7_c_jvsZnPMEaLKnaIG2jFgOAwoZkKiA4m7S11U4BhfHHhtlUTvIryqkhsHZ84-WUpD-lEdkTVZzaRxempQTFDSTgX6GT1CAqhd4WyzZ_mbHdTR85Z1eKzyfHjW-KDHyT-av-ZsbCY7uXxNTS6Dx_SWk3caK-vMqHzHMrS-QDVvxOpBPE0GOABhFPvXcpdOGQQ', 'expires_at': 1740833403, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740829803, 'exp': 1740833403, 'jti': 'ID.1y2pLuhp2NX1PiaE6M3z4TOkdwaVliZ91cYle59xNVk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ca63e4a0c76269cf3cbed01f6e36f2e1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740829509, 'at_hash': 'ZlvR3xQ9kaz_eJ4wl3g0_g'}}
[2025-03-01 11:50:04,230] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:50:04,242] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 11:50:04,243] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:04] "[32mGET /auth/callback?code=Yx3wxixjKYKW5vkorwg5DrjSLfn62U57cYXjTocbwyE&state=swYwqEd1kiIXObXxZNREgc7VZ39F93 HTTP/1.1[0m" 302 -
[2025-03-01 11:50:04,248] [INFO] [app] : Usuari autenticat.
[2025-03-01 11:50:04,248] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:04] "GET / HTTP/1.1" 200 -
[2025-03-01 11:50:23,368] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:50:23,370] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:50:23] "GET /profile HTTP/1.1" 200 -
[2025-03-01 11:51:54,598] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 11:51:54,598] [INFO] [app] : full_name: None
[2025-03-01 11:51:54,598] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:51:54] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 11:51:54,606] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 11:51:54,607] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 11:51:54] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:02:32,538] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:02:32,538] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:02:39,898] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:02:39,901] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:39] "GET / HTTP/1.1" 200 -
[2025-03-01 12:02:43,937] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:02:43,940] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:02:55,363] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:02:55,363] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:02:55,366] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:02:56,259] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/None HTTP/1.1" 404 None
[2025-03-01 12:02:56,260] [ERROR] [app] : Error obtenint usuari d'Okta: {"errorCode":"E0000007","errorSummary":"Not found: Resource not found: None (User)","errorLink":"E0000007","errorId":"oaeUJ7XyYRgRyWE6R8CQTGfjA","errorCauses":[]}
[2025-03-01 12:02:56,261] [INFO] [app] : okta_user_id: None
[2025-03-01 12:02:56,262] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:56] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:02:56,268] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:02:56,269] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:02:56] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:08:38,114] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:08:38,114] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:08:48,299] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:08:48,302] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:48] "GET / HTTP/1.1" 200 -
[2025-03-01 12:08:49,660] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:08:49,663] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:49] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:08:57,929] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:08:57,929] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:08:57,930] [ERROR] [app] : Error en actualitzar el perfil: 'dict' object has no attribute 'email'
[2025-03-01 12:08:57,931] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:57] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:08:57,935] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:08:57,936] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:08:57] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:11:42,906] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:11:42,906] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:11:47,417] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:11:47,419] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:47] "GET / HTTP/1.1" 200 -
[2025-03-01 12:11:52,105] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:11:52,107] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:52] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:11:57,199] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:11:57,200] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:11:57,200] [ERROR] [app] : Exception on /update_profile [POST]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 185, in update_profile
    app.logger.info(f"email: {user.email}")
                              ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'email'
[2025-03-01 12:11:57,202] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:11:57] "[35m[1mPOST /update_profile HTTP/1.1[0m" 500 -
[2025-03-01 12:14:43,664] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:14:43,664] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:16:04,338] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:16:04,341] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:04] "GET / HTTP/1.1" 200 -
[2025-03-01 12:16:07,395] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:16:07,398] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:07] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:16:10,500] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:16:10,500] [INFO] [app] : full_name: Pablo Franco Carrasco
[2025-03-01 12:16:10,500] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:16:10,503] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:16:11,410] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:16:11,411] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:16:11,411] [INFO] [app] : okta_user_id: 00umxga28fj2SXH2P5d7
[2025-03-01 12:16:11,412] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:16:12,414] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:16:12,415] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-01 12:16:12,421] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:12] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:16:12,426] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:16:12,427] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:16:12] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:26:05,209] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:26:05,209] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:26:15,774] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:26:15,777] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:15] "GET / HTTP/1.1" 200 -
[2025-03-01 12:26:28,338] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:26:28,341] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:28] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:26:41,364] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-01 12:26:41,365] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-01 12:26:41,365] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:26:41,367] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:26:42,409] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:26:42,409] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:26:42,410] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:26:43,386] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:26:43,387] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-01 12:26:43,392] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:43] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:26:43,398] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:26:43,399] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:26:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:28:26,907] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:28:26,908] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:28:30,285] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:28:30,289] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:30] "GET / HTTP/1.1" 200 -
[2025-03-01 12:28:31,398] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:28:31,401] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:31] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:28:40,818] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-01 12:28:40,818] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-03-01 12:28:40,818] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:28:40,821] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:28:41,832] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:28:41,835] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:28:41,837] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:28:42,832] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:28:42,833] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-01 12:28:42,837] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:42] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:28:42,842] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:28:42,843] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:28:42] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:29:32,409] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 12:29:32,409] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 12:29:35,481] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:29:35,484] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:35] "GET / HTTP/1.1" 200 -
[2025-03-01 12:29:36,261] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:29:36,264] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:36] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:29:41,589] [INFO] [app] : user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-01 12:29:41,589] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-01 12:29:41,589] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 12:29:41,592] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:29:42,618] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-01 12:29:42,621] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-01 12:29:42,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 12:29:43,597] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-01 12:29:43,599] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-01 12:29:43,606] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:43] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 12:29:43,611] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 12:29:43,612] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:29:43] "GET /profile HTTP/1.1" 200 -
[2025-03-01 12:30:09,682] [INFO] [app] : Usuari autenticat.
[2025-03-01 12:30:09,683] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 12:30:09] "GET / HTTP/1.1" 200 -
[2025-03-01 17:35:47,444] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:35:47,445] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:36:09,823] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:36:09,823] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:36:13,019] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:36:13,022] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:13] "GET / HTTP/1.1" 200 -
[2025-03-01 17:36:13,106] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 17:36:13,107] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 17:36:34,056] [DEBUG] [app] : Asignem nonce a la sessio actual: ca0bc85c7161cc42aaf7e3d09d578c34
[2025-03-01 17:36:34,056] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:36:34,058] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:35,061] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 17:36:35,062] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:36:41,424] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:42,384] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:36:42,389] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:36:43,261] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 17:36:43,275] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlBpLURaNUR2X2pGWVdWSEVfYzA2cldCU2daWWlwZjR4S3RFOU1lTG02NjQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODUwNjAwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.CyYEIzokpshw53rzM3cnCfk1BX981a46F0OJj527WdDnQoBagRN1ysEt7-xhPGQm7Ze7sYcbrexP70KoAJ9yCx9XSLspEY22ldEseT3T5ASKy5WhpRlVBbPLpo5MXCJJV-K8JQ7Vnwlc0I2X8tEMIYyniEhgRcgrF0w58f9aC-3_ZBhGuowICp_K7SQqmkyaL_vWWvhZm77CzK8ZDfEYC7p8UJrjn-VEAghOWFQNvMCrUIbJBkywEN8SBh2Olvg1uZpHHymiASCDOuJo6QjxCMytKcEvYiHIzm87fKtarw8roFpv9gx_pgdifXm5QvH3-jXJ3V3Ob96ZV9KcVtPadA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ', 'expires_at': 1740854202, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740850602, 'exp': 1740854202, 'jti': 'ID.Vg29i4lI5ha58ZOgxpOzgjK2U3hJTJe8CZz2AByNLX4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ca0bc85c7161cc42aaf7e3d09d578c34', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740850600, 'at_hash': '_UbBJkZICqdHdWaJIqxTPQ'}}
[2025-03-01 17:36:43,276] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:36:43,325] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:36:43,326] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:43] "[32mGET /auth/callback?code=nUX6PbAI6z5EC2P8II3DolsZPDCh3BewJSSsGM0szRI&state=61Hv2ICE9Dx9CCp6gpGorqVaIhn5uQ HTTP/1.1[0m" 302 -
[2025-03-01 17:36:43,330] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:36:43,330] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:43] "GET / HTTP/1.1" 200 -
[2025-03-01 17:36:57,241] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-01 17:36:57,244] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:36:57] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:37:15,545] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:37:15] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:37:24,035] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:37:24,035] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:37:24] "GET / HTTP/1.1" 200 -
[2025-03-01 17:38:06,293] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ
[2025-03-01 17:38:06,294] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA2MDIsImV4cCI6MTc0MDg1NDIwMiwianRpIjoiSUQuVmcyOWk0bEk1aGE1OFpPZ3hwT3pnaksyVTNoSlRKZThDWnoyQUJ5TkxYNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNhMGJjODVjNzE2MWNjNDJhYWY3ZTNkMDlkNTc4YzM0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDYwMCwiYXRfaGFzaCI6Il9VYkJKa1pJQ3FkSGRXYUpJcXhUUFEifQ.Zt1cU6kdU19pKmzd7de_BPE4JHs-2s5OJDUGhqhBKx9b1Eei2uC--ywXi0J9jevzjD7QQNOGxX-c8-01dsXqU2IAM8xmdBS7T3o5Y_IMQSCUa7NDmSpY-CNE2R41Ch2Bt9NB4_VRN0TZRDrepfO3J5F8PJp4eE52WsOWSR9Xv1mwOlzqlVs504QPYz5ojX_HA2U2zA6L4VCpfQxfUVVi6iQdMOOHsE9xRvtjvbCEnkDreM_j0J5bfIXZZ9HY6q6YoR7y8scoM0fiUlaWiZWD6ZJFaoCwLI2vQp5Mo69DgyNUcXSXH8vl7Vpcf_DuymA2fGUhiLMyaX711dIAsnEjQQ
[2025-03-01 17:38:06,294] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:38:06] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 17:38:06,931] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:38:06,931] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:38:06] "GET / HTTP/1.1" 200 -
[2025-03-01 17:42:27,166] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:42:27,170] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:42:27] "GET / HTTP/1.1" 200 -
[2025-03-01 17:42:27,664] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-01 17:42:27,665] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:42:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-01 17:43:14,741] [DEBUG] [app] : Asignem nonce a la sessio actual: 97869256f07a92b6a936656dadc24539
[2025-03-01 17:43:14,741] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:43:14,743] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:14] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:43:15,379] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:43:16,469] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:43:16,475] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRXNUpNUmpUdXdPTnJwSG5SLXFyUURmSFMwTktWbjdhQ2djeW83MkZ3UHMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwODUwOTY1LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.bck_XGvuKjKkSHX13848lDYrcU5xSA3KLxYJEfh8CoTBr8CBpC82RpAxqZPWjzT9kmTzQgg1UHBk0S2UcceIAXtVOkd868e7g5-EHCknjTXrYw6dprDMg07XGXsobdCFcbxd4aLyOTcfLxCiPNObELbaNRA-dXg0lhnyJVWYFQHIimXsXlyHwzLqAuXICKXhecOMfwFMe6VxzE63jvCqu1VCDWB8zjPFlRhEjVcd_bPihVP9K2o9xfY2L6Sjl7wnHew1iJxV2IcUlP0InnzM_p5C3yxA2xgVNcMe2ljXYDPp_DrUJKLMmsNHhU2DDU3AiiINzvmWA9bjnd43y8CZDQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q', 'expires_at': 1740854596, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740850996, 'exp': 1740854596, 'jti': 'ID.0pwb-nu2XmZIFDDr6wUPFFfRWY32JZRG-VdV-IkhJc4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '97869256f07a92b6a936656dadc24539', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1740850965, 'at_hash': '45dXz8LynZ41rr16_cefAQ'}}
[2025-03-01 17:43:16,475] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:43:16,477] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-01 17:43:16,478] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:16] "[32mGET /auth/callback?code=UV-T8DUDdjwKC_U_Jh7hRxISACfozMXcl6b4b09j5U8&state=3N7WchqsdCEHlKsqjVbjJQv7hna97x HTTP/1.1[0m" 302 -
[2025-03-01 17:43:16,481] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:43:16,482] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:16] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:21,109] [INFO] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q
[2025-03-01 17:43:21,109] [INFO] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTA5OTYsImV4cCI6MTc0MDg1NDU5NiwianRpIjoiSUQuMHB3Yi1udTJYbVpJRkREcjZ3VVBGRmZSV1kzMkpaUkctVmRWLUlraEpjNCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6Ijk3ODY5MjU2ZjA3YTkyYjZhOTM2NjU2ZGFkYzI0NTM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MDg1MDk2NSwiYXRfaGFzaCI6IjQ1ZFh6OEx5blo0MXJyMTZfY2VmQVEifQ.HfM2mUdN1-LHZFlPj5mMR8G5KhOyLF-XS5OLPPXbOye8WVD74X2HJ7nc7GTyD3j3tZPvDCH4SMiuXNUcw-BclNwKUf0_hgeRcfTOClFWnINn19JlYpBvn0PvbFsAoT_6HXBeCLl-OL3FzfDQFQeaFDp8SVpjkRhI4ryRzA_INZrqy4mEyzZ3P7VqC594miymy6wUr7N7uXJCERbw5poO9Gs0vZpQGz_Q7830R4CehiOteY_OvGBjW4Lu7ceHTWOfDKcS5AOLBh6sRSe06pSKKVvmpO-W0cyA5TQEs206fYNrgbg-ZIhaMj1zi9qREiPD89NcQIzi1UMXOqwXXtgr8Q
[2025-03-01 17:43:21,109] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:21] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-03-01 17:43:21,957] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:43:21,958] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:21] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:23,001] [DEBUG] [app] : Asignem nonce a la sessio actual: b179bbeb9a11ccca7aae83b688aee3b7
[2025-03-01 17:43:23,002] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:43:23,002] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:43:36,382] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:43:37,332] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:43:37,336] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnpvZ2tETmN2VndacThIclo2SmNSMnl4TkpPMk1jeWZRdlBhS0N5aW9nV1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTEwMTcsImV4cCI6MTc0MDg1NDYxNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQwODUxMDE1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Tprbwd7XvLIj7_cgdE5ZmRt7XGAsxiVM1InJZUCla22YAJjPjOYOABisVurWldPZr2AFQQ8VaIPwM-cNYx9j0r4RxW81OxPHmMYs0dsFSpL5fn4Sa4qarplBieXnYEgWuVuVaolC_miea6owGADnLvRVUoX-g5MsYcuTyjhj2MemBPUyyR_3kdC6nqeQvJZ3bb_1-09kfTBeF7tAcRSzyeCOycBd6HhxQAeIJz127mnHBs0vhA2QUgC2gtMwuPoSqLRH0oYhOTSBRH6jf16esovgaUVXLTvK8rrC-NVv1BlZ7VcHz7lCjWIm2pavZkeAFyTY9pDFR1cnxaq3AQlktA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTEwMTcsImV4cCI6MTc0MDg1NDYxNywianRpIjoiSUQubHpyQkNRNjFyWnJUSG5zdEE5UEJZalQ4VXp3cEFGMlFDWXpjMHFLUWpySSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImIxNzliYmViOWExMWNjY2E3YWFlODNiNjg4YWVlM2I3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDA4NTEwMTUsImF0X2hhc2giOiJ0c3JRLVd0TERPT09od0lUakFORlBRIn0.G-X1mcCHLGhrZXmnhCpOVZPui4neDSU5G61U46ChA11snKkHDkxGBkTJtOmxsl9WADve-yFdeu0D-oRh17lnHbhSTGvVVu6ocVNPrufem_6GQ1Sb_2ffCPFfXmfpa99rRLLSd66aAtTIci0epof15e-wjFyEp8bP7zul3t0f8jAVtgWPz-zpXKLRgPp6th8RIMo8hP906EwfZ_hA_bDBY8bYqMQGkUi79N99u4OeIcSE3eRQtcGdBzl4YuIKmARmbPi4QOCmZ5DAc9oYG-25PZqKfq-4BdIrb1hi5oAWBm6fofzrqFD_DtMjiAqDtwbSOXGlg19ROVipk5n3yysrog', 'expires_at': 1740854617, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740851017, 'exp': 1740854617, 'jti': 'ID.lzrBCQ61rZrTHnstA9PBYjT8UzwpAF2QCYzc0qKQjrI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b179bbeb9a11ccca7aae83b688aee3b7', 'preferred_username': 'user1@test.com', 'auth_time': 1740851015, 'at_hash': 'tsrQ-WtLDOOOhwITjANFPQ'}}
[2025-03-01 17:43:37,337] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-03-01 17:43:37,339] [INFO] [app] : User trobat in db: user1@test.com
[2025-03-01 17:43:37,340] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:37] "[32mGET /auth/callback?code=4Wv5bf_7_P5dMTwWZHPk4K6y90UhGo8uuvDao6zbqHo&state=nVK1w3IWtgT7ghJ0lJ0x9yW1rJZ80z HTTP/1.1[0m" 302 -
[2025-03-01 17:43:37,344] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:43:37,344] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:37] "GET / HTTP/1.1" 200 -
[2025-03-01 17:43:39,067] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:43:39,067] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:43:39] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:44:00,513] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:44:00,513] [INFO] [app] : NEW full_name: user1
[2025-03-01 17:44:00,513] [INFO] [app] : email: user1@test.com
[2025-03-01 17:44:00,515] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:44:01,442] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:44:01,445] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:44:01,447] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:44:02,331] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 400 None
[2025-03-01 17:44:02,333] [ERROR] [app] : Error actualitzant perfil d'usuari a Okta: {"errorCode":"E0000001","errorSummary":"Api validation failed: lastName","errorLink":"E0000001","errorId":"oaeskjPE6oiRTK4yDoFdBoHQQ","errorCauses":[{"errorSummary":"lastName: The field cannot be left blank"}]}
[2025-03-01 17:44:02,336] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:02] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-01 17:44:02,341] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:44:02,342] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:02] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:44:26,950] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:44:26] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:45:04,400] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:45:04,400] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:45:04] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:45:04,405] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:45:04] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:46:51,196] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:46:51,197] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:46:51] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:46:51,202] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:46:51] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:49:21,978] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:49:21,978] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:49:30,023] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:49:30,026] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:30] "GET / HTTP/1.1" 200 -
[2025-03-01 17:49:35,195] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:49:35,198] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:35] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:49:48,798] [INFO] [app] : Usuari no autenticat.
[2025-03-01 17:49:48,799] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:48] "GET / HTTP/1.1" 200 -
[2025-03-01 17:49:52,068] [DEBUG] [app] : Asignem nonce a la sessio actual: 35de7eab7b756dcd4c0501edfc641b7e
[2025-03-01 17:49:52,068] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-01 17:49:52,069] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:49:53,026] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-01 17:49:53,027] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:49:53] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-01 17:50:06,203] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:50:07,156] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-01 17:50:07,157] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:50:08,049] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-01 17:50:08,058] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm5kNTBEMVVmVFZ4VW1oQURwaWRtMWp4bm1qUkcyd0JCSHl5Uk5hZ1A5MzAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDA4NTE0MDcsImV4cCI6MTc0MDg1NTAwNywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQwODUxNDA1LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSJ9.Dnxx3ZDMlzT8lpAFITO_l5FNz55rvbBNkuenHnBtHYyTw7odrz--G-HyPX7qzbQZsv7nDME5uhhNUs9mS7xsePPTrkxf-8GAUs0Gf30J3qYKR-iZLEAQv6_PnJmZEcd3ZN2BMv1p94gTXw9OOrE45MNs6HcNt1K3x7gBKT-FrFHWUrZkEZRKqD2aFBWaf7IeAMFCHTDO1sdgfwtbtUYmW6r41d6gR0kL2-lytG5K3GbuMbSPJgjdl00r8HHAvjkkImNMCIUsQoKKZxQPmhSajfkPooczamwZkPyQSyeA45EMRjBZ1Oo8SUcCx3UX4X9cx2FXFUq1CTpeR5-h5aTbOw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDA4NTE0MDcsImV4cCI6MTc0MDg1NTAwNywianRpIjoiSUQuS2Uydkg2QVAyeHp5bnFlUWxJZ21nTXEtLVRVME5NMVpGRVlhUGZBOS1NVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM1ZGU3ZWFiN2I3NTZkY2Q0YzA1MDFlZGZjNjQxYjdlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDA4NTE0MDUsImF0X2hhc2giOiJGUjJMWmZ6bTBtdnhRbTlKZ19lSXZRIn0.pSIh_vOqt9pyUnmsyCtvYD_eTmBih7rTzI_0m2baHrVUSTrGIQvsJll6JrFRQ66Fpir6MvyPXypZC3c1oQj2VyWnBPWloj4ANmT9pDO7c6LGJK3euhNJZIbfbJFG0F76oPBPdxHm2CkG4SPD5dhtRandUHlm2ciBNWyzUeWjTBZdgjPRq-o_aGngUiwYD3cK0AnIkiREMrkX_GS6-Fjch4P-QfAw3VXUwmZfDW3cdWHz7XQh-MvqpLzEMoFYCJHp9ZefAqjLrC8az6oGvOpzLMEe9ep57JTv11_M-JH7FLsTNCtSkabW6BEVbuPJIWXz48lJczVq7_f7K13oCDhrqw', 'expires_at': 1740855007, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1740851407, 'exp': 1740855007, 'jti': 'ID.Ke2vH6AP2xzynqeQlIgmgMq--TU0NM1ZFEYaPfA9-MU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '35de7eab7b756dcd4c0501edfc641b7e', 'preferred_username': 'user1@test.com', 'auth_time': 1740851405, 'at_hash': 'FR2LZfzm0mvxQm9Jg_eIvQ'}}
[2025-03-01 17:50:08,059] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-03-01 17:50:08,061] [INFO] [app] : User trobat in db: user1@test.com
[2025-03-01 17:50:08,062] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:08] "[32mGET /auth/callback?code=BLbdKk7A-toIMs0iZsujDIflO4hSuSfdA9cR_nSS7co&state=2p6kIJeskVfYkUGdTqmu3ChVpbOk4M HTTP/1.1[0m" 302 -
[2025-03-01 17:50:08,065] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:50:08,066] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:08] "GET / HTTP/1.1" 200 -
[2025-03-01 17:50:12,897] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:50:12,898] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:12] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:50:17,646] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:17] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:50:34,415] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:50:34,416] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:34] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:50:34,420] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:50:34] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:51:53,581] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:51:53,582] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:51:53] "GET / HTTP/1.1" 200 -
[2025-03-01 17:52:47,567] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-01 17:52:47,567] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-01 17:52:58,545] [INFO] [app] : Usuari autenticat.
[2025-03-01 17:52:58,548] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:52:58] "GET / HTTP/1.1" 200 -
[2025-03-01 17:53:03,881] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:53:03,885] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:03] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:53:07,470] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:07] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:53:21,225] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:53:21,226] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:53:22,158] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:53:22,159] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:53:22,159] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:53:22,159] [INFO] [app] : newpwd:user1user1
[2025-03-01 17:53:22,160] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:53:23,323] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 403 None
[2025-03-01 17:53:23,324] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeMhxV4Gc0QV-hcpKcoE8DGQ","errorCauses":[{"errorSummary":"This password was found in a list of commonly used passwords. Please try another password."}]}
[2025-03-01 17:53:23,325] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:23] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:53:23,329] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:53:23,330] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:53:23] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:54:17,163] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:17] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:54:49,584] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:54:49,585] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:54:50,563] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:54:50,566] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:54:50,566] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:54:50,567] [INFO] [app] : newpwd:Test123!
[2025-03-01 17:54:50,568] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:54:51,754] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 403 None
[2025-03-01 17:54:51,757] [ERROR] [app] : Error actualitzant contrasenya a Okta: {"errorCode":"E0000014","errorSummary":"Update of credentials failed","errorLink":"E0000014","errorId":"oaeB-DuRrBuTa-nSH8WqF6qkQ","errorCauses":[{"errorSummary":"Password requirements were not met. Password requirements: at least 8 characters, no parts of your username. Your password cannot be any of your last 4 password(s)."}]}
[2025-03-01 17:54:51,759] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:51] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:54:51,764] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:54:51,765] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:54:51] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:55:23,384] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:55:23] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:56:01,697] [INFO] [app] : chpwd user:{'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-03-01 17:56:01,698] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:56:02,750] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-03-01 17:56:02,752] [INFO] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-03-01 17:56:02,753] [INFO] [app] : pwd:Prueba123!
[2025-03-01 17:56:02,753] [INFO] [app] : newpwd:PruebaPrueba123!
[2025-03-01 17:56:02,755] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-01 17:56:04,045] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7/credentials/change_password HTTP/1.1" 200 None
[2025-03-01 17:56:04,047] [INFO] [app] : Contrasenya actualitzada a Okta
[2025-03-01 17:56:04,049] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:04] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-03-01 17:56:04,053] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:56:04,054] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:04] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:56:13,152] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:13] "GET /password HTTP/1.1" 200 -
[2025-03-01 17:56:14,471] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-03-01 17:56:14,472] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:56:14] "GET /profile HTTP/1.1" 200 -
[2025-03-01 17:57:50,562] [INFO] [werkzeug] : 192.168.1.34 - - [01/Mar/2025 17:57:50] "GET /password HTTP/1.1" 200 -
[2025-03-31 16:39:11,375] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 16:39:11,376] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 16:40:41,591] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 16:40:41,591] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 16:40:49,288] [INFO] [app] : Usuari no autenticat.
[2025-03-31 16:40:49,292] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:49] "GET / HTTP/1.1" 200 -
[2025-03-31 16:40:49,362] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-03-31 16:40:49,362] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-03-31 16:40:52,195] [DEBUG] [app] : Asignem nonce a la sessio actual: da637ad2d8923c68c5f9573365a6f215
[2025-03-31 16:40:52,195] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-03-31 16:40:52,197] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:53,044] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-03-31 16:40:53,046] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:53] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-03-31 16:40:53,685] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:54,677] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-03-31 16:40:54,679] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:40:55,575] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-03-31 16:40:55,589] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlUzeUU4NU1FQ3VGTXFMY2hBMlUwSHFkNUFRVmpLTHR1TS14VHF0STVzLW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM0MzkyNTQsImV4cCI6MTc0MzQ0Mjg1NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNDM4Mzk0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1In0.AvMwWc7oX9MqLOZ1Gt0YEU2v_Y7r47jm0dPVN_9sqi3KkQp363YB5sEs3TqK6A-ehAcAODXdnC7AF7X-YPdAl3k6j1s4rAkgTIJDvFzOByHQHVOW9Vp9UR04tc9QVDR4Ynd-z7bTR6fsGpvzGQjGtmiWEK7DGqkDunmmIz-BkNDsJzIur8VyVeHCUdd23ks4vzGwaNpvz8JzLXnHvbSkDjPQ2CTOrjB-pGy9bl51rdSwdoH34Y6hR4QK4ZuZbJlWguT57k08s8A6eYoQVGJM-Lf3fL7fYrHY4fyZYd3pcEX6ughjWjxy_605897POOqW5deSdNv-bniOUZV3NAsKXw', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM0MzkyNTQsImV4cCI6MTc0MzQ0Mjg1NCwianRpIjoiSUQuR0xBbk96WDRxWWxNdEdYNUVKLTQ3MW80R0VkM1VyMHZIY1laQzY1eERTcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRhNjM3YWQyZDg5MjNjNjhjNWY5NTczMzY1YTZmMjE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzQzODM5NCwiYXRfaGFzaCI6IjBNSDRfd0s2ZEVuYkotVHUwdkRQN3cifQ.Tmhl1_8dgDkuXiBPXY4oD6J3Pk2-PLY45dngBsRkUbR2oWJeVKKvDbz616FAxR7b08w0CxudDXbOdTxhdJ6Fn4yBQUnq83v2naFWr41XflQIHvj_qTxo1muhg3TY4f-Qn-fisUibJf6sYzaMy--oycQbg8pqaSQPhcnZvDMFUKfRKsaDh3J6vVoVcXDI-EO52t64zHTCE8UBwdZkkmrx7K_I0xtL3TWXGVxWadg7LZ_ARJfP2JCLZmzgJSghE0ZyaibjkuxA74E_iC0gP87iFZ89tDxLYwrg-ec8WA5-G_hh3OE2dQ91gw0teTlYnSsVE8GAjahVmvJkrv7HHEII0w', 'expires_at': 1743442854, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743439254, 'exp': 1743442854, 'jti': 'ID.GLAnOzX4qYlMtGX5EJ-471o4GEd3Ur0vHcYZC65xDSs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'da637ad2d8923c68c5f9573365a6f215', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743438394, 'at_hash': '0MH4_wK6dEnbJ-Tu0vDP7w'}}
[2025-03-31 16:40:55,589] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:40:55,633] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:40:55,634] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:55] "[32mGET /auth/callback?code=OBlSit2P5mMevH0oU0lQlX1s_B7ZvaqKME_6IJvAxmM&state=0rzcU7DwuDraEVHbEwf7umR5wXbRd0 HTTP/1.1[0m" 302 -
[2025-03-31 16:40:55,642] [INFO] [app] : Usuari autenticat.
[2025-03-31 16:40:55,642] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:55] "GET / HTTP/1.1" 200 -
[2025-03-31 16:40:58,624] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 16:40:58,627] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:40:58] "GET /profile HTTP/1.1" 200 -
[2025-03-31 16:42:55,272] [INFO] [app] : upduser user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-03-31 16:42:55,275] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-03-31 16:42:55,275] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 16:42:55,276] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:42:56,245] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-31 16:42:56,247] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-31 16:42:56,248] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 16:42:57,292] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-31 16:42:57,293] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco'}
[2025-03-31 16:42:57,299] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:42:57] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-31 16:42:57,312] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 16:42:57,313] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:42:57] "GET /profile HTTP/1.1" 200 -
[2025-03-31 16:43:03,747] [INFO] [app] : Usuari autenticat.
[2025-03-31 16:43:03,747] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 16:43:03] "GET / HTTP/1.1" 200 -
[2025-03-31 17:33:16,762] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:33:16,763] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:51:55,982] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:51:55,985] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:52:20,602] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:52:20,603] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:52:31,905] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:52:31,908] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:52:31] "GET / HTTP/1.1" 200 -
[2025-03-31 17:52:38,092] [ERROR] [app] : Exception on /profile [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "None" to address: Temporary failure in name resolution


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 194, in profile
    db_user = User.query.filter_by(email=user["email"]).first()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 622, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name "None" to address: Temporary failure in name resolution

(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-03-31 17:52:38,103] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:52:38] "[35m[1mGET /profile HTTP/1.1[0m" 500 -
[2025-03-31 17:54:13,544] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-03-31 17:54:13,544] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-03-31 17:54:20,264] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:20,266] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:20] "GET / HTTP/1.1" 200 -
[2025-03-31 17:54:21,739] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:21,742] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:21] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:28,406] [INFO] [app] : upduser user:{'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-03-31 17:54:28,407] [INFO] [app] : NEW full_name: Pablo Franco
[2025-03-31 17:54:28,407] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-03-31 17:54:28,408] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 17:54:29,480] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-03-31 17:54:29,481] [INFO] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-03-31 17:54:29,482] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-03-31 17:54:30,503] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-03-31 17:54:30,504] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco'}
[2025-03-31 17:54:30,509] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:30] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-03-31 17:54:30,522] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:30,523] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:30] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:35,271] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:35,272] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:35] "GET / HTTP/1.1" 200 -
[2025-03-31 17:54:36,643] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-03-31 17:54:36,644] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:36] "GET /profile HTTP/1.1" 200 -
[2025-03-31 17:54:38,511] [INFO] [app] : Usuari autenticat.
[2025-03-31 17:54:38,511] [INFO] [werkzeug] : 192.168.1.36 - - [31/Mar/2025 17:54:38] "GET / HTTP/1.1" 200 -
[2025-04-02 15:42:54,601] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 15:42:54,602] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 17:43:11,730] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 17:43:11,730] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:03:22,708] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:03:22,712] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:22] "GET / HTTP/1.1" 200 -
[2025-04-02 18:03:22,792] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-02 18:03:22,793] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:22] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-02 18:03:23,997] [DEBUG] [app] : Asignem nonce a la sessio actual: c18bbe75545511a43e2fb9a189692414
[2025-04-02 18:03:23,997] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:03:23,999] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:24,845] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:03:24,847] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:24] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:03:25,508] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:26,521] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:03:26,524] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:03:27,471] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:03:27,488] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlJwYjJBemdELWc0SUdyOTVia29JVktBWUJsMlFwbm1Mek16cUw5a3FHc0kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTcwMDYsImV4cCI6MTc0MzYyMDYwNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjE2ODA3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Yjku3Ie65PuWnluu4YrBSHSY_Z5MNJ47yPvwIX0DmsmkC1ahKUd3sCPQHX0qnqCVFswR4q3d_x-ycZAbXuJdZyINpuePBOlgdX_aKE9YUe5aXTEWFUaWQ2Yj--QauEbhLD1jPkeeYDHvXgnrSjF4-Eh3PtLc6XChnn37X7cHTbaY07lUX3MYLpZ2RopLPPJVKIynFgyyz-jOJedn2htz00KU9AtjhSYMoVNBMXETOKPFkLKhRvnWMlAzBZZwDIUPGUjJWPWvOZtBzTOIYKEpdQg5sedglwfnMlbinFdrufAUn3ZhFwIoZk8YqES0pibDN9czcKPIJ506RzbKk-xceg', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTcwMDYsImV4cCI6MTc0MzYyMDYwNiwianRpIjoiSUQuV3FURVRnWTJLSklUSUVWZW9vbDJuaDItQjRaTVhDa1VUSGpJNm9wX3BydyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImMxOGJiZTc1NTQ1NTExYTQzZTJmYjlhMTg5NjkyNDE0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzYxNjgwNywiYXRfaGFzaCI6IkFhWmtOTFV0QzBTamdlYmN3V2p6bWcifQ.mN0bM65Lc6eI5ojDGs2bus54rWj7SjTF3vnLaSFS5NSvF-gZEo8TC733M3lBFv6Z6xD5NWn-L4aV2zyMo2RkYBB-ISKEOJK0Y5sVe9OEby6TezaMgOn-OdtJh2l63cmfNklhmSYoNn5Kxl9ejRQZ1KXqKhY6rbSJ3bioGwsKzV6AZM5Z-mSsgRrLofgV6k1j3O0idOfl8_wluBiJGyZWRoZbmLb1ejWP1QTWM-rk43WtxVebGGs1y-WnU2Lb7fAlO_rCvsk2MPVlxNgJOdKtXsosqc9Pq7Mm7uyxb-3UEhSAfHEOilT-ya7-oc8Pn1ALGR7K7z0s5LCr3CpuidVfFA', 'expires_at': 1743620606, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617006, 'exp': 1743620606, 'jti': 'ID.WqTETgY2KJITIEVeool2nh2-B4ZMXCkUTHjI6op_prw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c18bbe75545511a43e2fb9a189692414', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743616807, 'at_hash': 'AaZkNLUtC0SjgebcwWjzmg'}}
[2025-04-02 18:03:27,489] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:03:27,509] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:03:27,510] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:27] "[32mGET /auth/callback?code=ZLdfR4wDh0fQ11R3dHeQbkvadM7m-ezi0twyiSo-Ndo&state=Cnz2JkO7Eb2L0F90B3ZUvReeAsllT4 HTTP/1.1[0m" 302 -
[2025-04-02 18:03:27,518] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:03:27,518] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:03:27] "GET / HTTP/1.1" 200 -
[2025-04-02 18:07:43,958] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:07:43,958] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:07:43] "GET / HTTP/1.1" 200 -
[2025-04-02 18:07:52,906] [DEBUG] [app] : Asignem nonce a la sessio actual: 2a75d251023fc921da6eb515ddd4c3b2
[2025-04-02 18:07:52,906] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:07:52,907] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:07:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:08:09,382] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:08:10,323] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:08:10,327] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJuci1Nb1FHSGpubWJaRHNIOTdpZUJ1Z0dLbGlBNkVuTE1QakxIbU81bTgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTcyOTAsImV4cCI6MTc0MzYyMDg5MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE3Mjg4LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.gYH__HcaJH2xjmwBW2Qjv-ee2CCmUR2FfTfwmRDRoZfW-CYJ1p-Oc9-y-NRXFfeo-o9U2cT4tAViX-H4PRJz18bPVtP6lS37y9_-YXqkCo3dpsuEHAs0LD9bbC3lMSwijiJ9HjhljY47av1b42gocrUJu3g6-Ftx-51GcUKFmyCKHClPlW1sYL52E38XE50hkGeYuUcDrM7koAlp5CqM1D6DPBvZt_0N96Aa8Uh7GyJltd2nMVQjzzvqpjly4ubdrd2eOqNfepuyGauWn3hRwxLXj7uBrnXOn7cWOzyLc6CzeyvRGFXkWqOLOwCW3a9dLglHJkZoYoFVgoAE-TaO0A', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTcyOTAsImV4cCI6MTc0MzYyMDg5MCwianRpIjoiSUQuNFBwNWJRTHVGT2Y5V1JZQlJCNmlTZlNJaGtzUkljR0RsVEVrbmt2TWlUWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjJhNzVkMjUxMDIzZmM5MjFkYTZlYjUxNWRkZDRjM2IyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzYxNzI4OCwiYXRfaGFzaCI6InJjN3d5R1JRTmpmRVB4Z29lVVMwZ3cifQ.Ao13MXqNYkdZ-VFQrR2AWBGA6F-dCzBMjlRWuNYz7N5fZeXi06zqVT8kxRZGtdyJzxzdQ1I6uspSTFz74dZs6cqp6PGUe7MEOQCZevAIY9wLsgi6uFe-r-tdYpCQbM8ud0PdXNkoLataUdsVRRg1HM9-XkKGMX_YBSiMPZ4s44OQW_b_Q8PsLwVSTyZcciswWQ_ZIaSkfWbgQihSX1NYbSeH8uV1kB4qAK__yLI3blt7zWKO74KIERHwJWkZyk-INm11ENu0azmR7dIb_UVeufsxA1Xj-Fgr7g2Kl4XznD-gWgwVaIcIGnsAbXtYEmX5N66jOemVe8-hQKqUM0wfiQ', 'expires_at': 1743620890, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617290, 'exp': 1743620890, 'jti': 'ID.4Pp5bQLuFOf9WRYBRB6iSfSIhksRIcGDlTEknkvMiTY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2a75d251023fc921da6eb515ddd4c3b2', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743617288, 'at_hash': 'rc7wyGRQNjfEPxgoeUS0gw'}}
[2025-04-02 18:08:10,328] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:08:10,333] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-02 18:08:10,334] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:08:10] "[32mGET /auth/callback?code=ItZ_bM0JnD8qSMN1pGeRORcqMulppTI5Kt86tAEe7aE&state=f9TsoyHfV6Zx7D3Mjwq8sXne74TVrX HTTP/1.1[0m" 302 -
[2025-04-02 18:08:10,345] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:08:10,345] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:08:10] "GET / HTTP/1.1" 200 -
[2025-04-02 18:13:30,209] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:13:30,209] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:13:41,903] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:13:41,906] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:13:41] "GET / HTTP/1.1" 200 -
[2025-04-02 18:13:49,543] [DEBUG] [app] : Asignem nonce a la sessio actual: 0e6ca07b4edabb0bf1258a3577993a16
[2025-04-02 18:13:49,544] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:13:49,544] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:13:50,427] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:13:50,429] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:13:50] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:14:29,742] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:14:30,697] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:14:30,699] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:14:31,623] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:14:31,629] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhyVkxzRE5ERkxqRWlGSkFhY0RKb0ZwaEo2UmhYN2lUbmtBM1lyXzZqVmMiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTc2NzAsImV4cCI6MTc0MzYyMTI3MCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjE3NjY5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.k1ZZBRpYmW5eWMje4Ix0wkO1Pc3DFFvJra5y9S_U8cK0Pbcc3IsRPQs4MvQTD6yNQ55Uhzf2N8R3nrmaPbFDXr31zfvdaqsODmHbv1f4Aet_zJJvJ-JWfK9TolW12GB9CdR2D-nVb1rpSyQE6A-pIGLOFSTWWXl0-3a3FSTB1Vrn8zefI9KT5hzpV0s0mINXgeDP2oK6wyHIcKx4Ye63cEZo3YI-fjexJo5ViMBPFuLISPrixNX8sGryMRCMQ1fNZXZfLq67zocYM8ERT6f_Nj_bHbVsM7E9kbN2HRxH-JGdPjFkICZ9UKPER08ADfSHxtoT2pEfRSpGK4e2e2n74A', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTc2NzAsImV4cCI6MTc0MzYyMTI3MCwianRpIjoiSUQuRXNodmtGY0FRamEwVE5fQUlkTFN1dlZzTDRaUF9QSDkxdkwzQWNlMWVxdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjBlNmNhMDdiNGVkYWJiMGJmMTI1OGEzNTc3OTkzYTE2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTc2NjksImF0X2hhc2giOiJPRV9RSXJvMDAwbHo5QnpjM0N3NEVRIn0.goRNN5gs4w7RRAUuOyyneSp5InhzJbZ7WrIUU17B7_HSDM120oyFbAB7Vm2ukBHzCWftFW226ChTRoMcJBw08I4M0xrMlE0uiuWW2jxgoOL_4s5u9zB8A9qUwF-qAjJDMl59rguAWI4Mzd1Qtb2OIFaYyEwUbsCkgAQd4pSqXNeYphEbEd8erl0Yymo2Wzv58esiZwXpAZKlOWFjVGO3uC4lZTcqUIaoM_v1LZZUfY-8ZRV5sX5XrW6x-ld7komMjjK_jHiR2UtXLhw04QckNrMAsW7cVXMdLKqZbt9fqFBSKKJa5xnFmgb3STBH9QIjUSbWtzNKgIPFBc7mXB0KSg', 'expires_at': 1743621270, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617670, 'exp': 1743621270, 'jti': 'ID.EshvkFcAQja0TN_AIdLSuvVsL4ZP_PH91vL3Ace1eqw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '0e6ca07b4edabb0bf1258a3577993a16', 'preferred_username': 'user1@test.com', 'auth_time': 1743617669, 'at_hash': 'OE_QIro000lz9Bzc3Cw4EQ'}}
[2025-04-02 18:14:31,630] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 168, in auth
    "eid": user_info["eid"]
           ~~~~~~~~~^^^^^^^
KeyError: 'eid'
[2025-04-02 18:14:31,633] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:14:31] "[35m[1mGET /auth/callback?code=6WZ9v3qsiZi0rVaz2ND07ICf2d__b3KXZPtC5ZIy-bI&state=QRHWwhk55j7euYaYx6A3BkR9SYVM3B HTTP/1.1[0m" 500 -
[2025-04-02 18:18:15,476] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:18:15,476] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:18:32,349] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:18:32,353] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:32] "GET / HTTP/1.1" 200 -
[2025-04-02 18:18:33,305] [DEBUG] [app] : Asignem nonce a la sessio actual: 2041ce7b2b284f28a4337306345d32fc
[2025-04-02 18:18:33,306] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:18:33,307] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:34,042] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:18:34,047] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:34] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:18:51,626] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:52,577] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:18:52,580] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:18:53,477] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:18:53,482] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnhkcU83RG5vY25CeXQwdlFCVGRMR3F6a0g1eWFIcGRSVUYyb1BQRzFjWm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTc5MzIsImV4cCI6MTc0MzYyMTUzMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE3OTMwLCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.R9GmGgau85xFNXYwRNPjrWoBsy950O76n_9t8j3YSqYHB98l9y5WDkQp3RBZLZQ583MiGnuyEOPDa9yhAlTcHan1L_aqDH6_ICJXusO3p4m8qD6kqQXsLe3F1031YNowIv78FLc0PIKBHbuugyCu9Ezqx4x8SOG-OnMutU96Zll_dEKJOTpyfzob9Q2_Z7teRJKEmNfP_bRX3u07CKvEwSN0WT7BmtPzzeaO64XUF5BFzK05BNAPVZ-kDWtcv5-eJTgMswjwt2caCzdFUL0qnVzHlqxaD9X14NJyfAziWqEdSJSTyjnZwrsJ0ln_ydN3MqMxAZH8P9G3O5GGClt_lA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTc5MzIsImV4cCI6MTc0MzYyMTUzMiwianRpIjoiSUQudHNMdmRLdWlZVXVsNlFqWHlqV0xvYUhUMTNaa3ZMMzRDNXNESDJIU3RrbyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjIwNDFjZTdiMmIyODRmMjhhNDMzNzMwNjM0NWQzMmZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTc5MzAsImF0X2hhc2giOiJ4NkQ2ZU5yanhWUDliUVA0OWloOTN3In0.PotwepJY0aL5M-xpVSbpXKVBXoY79S9xz4E6R15dXqqS26HmDRWvifDKRz9pbEaV6yKC3EIcrY9aXxLEYdS8RWAJXVbGr76CkubnJKOT0AG0AzpJuKL-_RGSEo7riPvYs7MFN44OkC2PMEJisVYiK1YdNVmS4fP8IdA8BHHsJNjpCX6SN-ebFaCzjvklSft2KP4Tu2qiA0BvDrt6umM7KeFLZIuORiPzlplJeLc5SI9BEerHbDSzGIeKbsFCDu6BhYST4wryxwDXR-q0v3OmQ8GpzwHZjFjlWlciI9XaDv8GoloJUuHSrHn0cIQgqkKo0sNbKAwSnypJpqiSDCjgEg', 'expires_at': 1743621532, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617932, 'exp': 1743621532, 'jti': 'ID.tsLvdKuiYUul6QjXyjWLoaHT13ZkvL34C5sDH2HStko', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2041ce7b2b284f28a4337306345d32fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743617930, 'at_hash': 'x6D6eNrjxVP9bQP49ih93w'}}
[2025-04-02 18:18:53,483] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743617932, 'exp': 1743621532, 'jti': 'ID.tsLvdKuiYUul6QjXyjWLoaHT13ZkvL34C5sDH2HStko', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '2041ce7b2b284f28a4337306345d32fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743617930, 'at_hash': 'x6D6eNrjxVP9bQP49ih93w'}
[2025-04-02 18:18:53,483] [ERROR] [app] : Exception on /auth/callback [GET]
Traceback (most recent call last):
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/myenv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pablofc18/appOkta/APPWITHFLASK/app.py", line 169, in auth
    "eid": user_info["eid"]
           ~~~~~~~~~^^^^^^^
KeyError: 'eid'
[2025-04-02 18:18:53,485] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:18:53] "[35m[1mGET /auth/callback?code=UNYiEVOsUp3ihGe50ZuzpDhzxxGUqKu9MpwvxwNT8ok&state=el09nbNba3kQL7eOOY63INZFMhs2J8 HTTP/1.1[0m" 500 -
[2025-04-02 18:26:48,794] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-02 18:26:48,795] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-02 18:27:09,555] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:27:09,560] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:09] "GET / HTTP/1.1" 200 -
[2025-04-02 18:27:11,083] [DEBUG] [app] : Asignem nonce a la sessio actual: b3e9962717ef5e0c794407fd3eab1022
[2025-04-02 18:27:11,083] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:27:11,084] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:12,074] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-02 18:27:12,079] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:27:30,326] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:31,320] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:27:31,323] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:27:32,022] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-02 18:27:32,027] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRmVHkzMTd4ZUpEb3ozMk45T0hqM2NOYjg3VFE5WV9zczNoZWI3dW5SLUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTg0NTEsImV4cCI6MTc0MzYyMjA1MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE4NDQ5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.XqecZ5sN4FOnIaFZydcv6eQqlaGyQd6QFaHHqPKMJTCtCM3gKhpIputpmnOzwS_j8lG5vtgE2L5oC-5_TkGfAUz_E9stao_zLaXsNBuHglrpCDGI7X6j0r37SPGO_VXuP2Pmp4yTyMhEfFiDkkil3fmq7i_8gm1qTSul6a-Wo9-lNo-IWMdBljDIqWBgcIrHW0pEIOiMv7puL_iQXIfd0QTun_9KTlvR5CfLtKM7oq80tOaNKKECrD7pCHwgWo6GhxzaakeXt_CgG4HTpCAiJDaGOUkWr5EbEXXGK2fLLufzI7-jEfAKowd9a0oh5QKUEL8piQd5iyH0ctwm7s8ZsQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTg0NTEsImV4cCI6MTc0MzYyMjA1MSwianRpIjoiSUQuZnlEWTVEWmlncFhaTmpuM2NWajh0S3NkNjRxd21QcGgtQ05VX3E1bG9PVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImIzZTk5NjI3MTdlZjVlMGM3OTQ0MDdmZDNlYWIxMDIyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTg0NDksImF0X2hhc2giOiJkS1I3VWNWY1pQaXVFUDByOUZfVlZ3IiwiZWlkIjoiMDAwMVkifQ.aIV0_X9kKUxj_PyC9XsMh5CxS0xK9hiRSuTQEAaKE-ozFNAIRgPh92bppWKy5S41fGciLKWYNhoDOs4Gvzsx1IR-KDji3giltLaEUuJakrYdU3D-Ag6DPpJFxFtFd6Ot8SpkmFDGl_6N5fmNbYgF2YzteiinAeTfm3xfm-F61XKlGBX5REgwNrAW0zGmHiJTXCHqy2S4o8DlfJukxLbAdq59cB51xxyaV1FQX7VVINsc7hLiDF2weP6gQhpb1ZyWcRw3fsSThhiRnBhbpWEpKvoaEREkJ7HuRkOg_xBwPb4g8kr3W9WvSJwfbArziQ8flNaia-jyWjX3n5AFXVeOEA', 'expires_at': 1743622051, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618451, 'exp': 1743622051, 'jti': 'ID.fyDY5DZigpXZNjn3cVj8tKsd64qwmPph-CNU_q5loOU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b3e9962717ef5e0c794407fd3eab1022', 'preferred_username': 'user1@test.com', 'auth_time': 1743618449, 'at_hash': 'dKR7UcVcZPiuEP0r9F_VVw', 'eid': '0001Y'}}
[2025-04-02 18:27:32,028] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618451, 'exp': 1743622051, 'jti': 'ID.fyDY5DZigpXZNjn3cVj8tKsd64qwmPph-CNU_q5loOU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'b3e9962717ef5e0c794407fd3eab1022', 'preferred_username': 'user1@test.com', 'auth_time': 1743618449, 'at_hash': 'dKR7UcVcZPiuEP0r9F_VVw', 'eid': '0001Y'}
[2025-04-02 18:27:32,028] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-02 18:27:32,046] [INFO] [app] : User user1 user1 no guardat en db
[2025-04-02 18:27:32,050] [INFO] [app] : User user1 user1 guardat en db
[2025-04-02 18:27:32,050] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:32] "[32mGET /auth/callback?code=RXRY627xsF-uNyEjgrBDBjrlFNbrYEzhlbU80Mn27nQ&state=HdTQfc2DRdDPV8SG6NprKzBlDMO8XT HTTP/1.1[0m" 302 -
[2025-04-02 18:27:32,072] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:27:32,073] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:27:32] "GET / HTTP/1.1" 200 -
[2025-04-02 18:29:22,692] [INFO] [app] : Usuari no autenticat.
[2025-04-02 18:29:22,692] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:22] "GET / HTTP/1.1" 200 -
[2025-04-02 18:29:23,980] [DEBUG] [app] : Asignem nonce a la sessio actual: d3973a2c0b0635739ee64100b76645fc
[2025-04-02 18:29:23,981] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-02 18:29:23,981] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:23] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-02 18:29:40,456] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-02 18:29:41,419] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-02 18:29:41,423] [INFO] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmR2MGVJRVZWS2tFYjlUb090OEZTRXJwY2M3c2FCQWlnNXRqTXU4WVM2VU0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2MTg1ODEsImV4cCI6MTc0MzYyMjE4MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjE4NTc5LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.LyzCdHQxyqNy7lZ37XNExFwMWHEIhSMrzoHJiqZPmZN078n_L1r2V-m_-E_j64BNdsk6kAZfnsjDkGRzhkyHcxAED8RS2xhDPMMcWT7hJarR_XTCec4meU6-IYNmtTl3DQWLwAKLytoqjtljqiy0NEol-2SnhUdSxupxVV28Dzw5IZ7JG0H1QZHa3rxuwr0CSUJlHcvhoNcWwa51iSCKRxOkr3ZSguFo4M6znlvB-2GjcGfDB5pxwNm3os6YYrNjBYaRadWzWlkkCc8BiCIRnbghHXjzRqMU04TOTAzGpcKQkngYPG3iG-w41hp_w5XNN9y3mfqNveTO48Snoy1o2g', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2MTg1ODEsImV4cCI6MTc0MzYyMjE4MSwianRpIjoiSUQud29PU01oclNjbGlPWUJwdkFxZkE2aFA0VnI1MGVwVlNTcGtiaG1iS092VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQzOTczYTJjMGIwNjM1NzM5ZWU2NDEwMGI3NjY0NWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2MTg1NzksImF0X2hhc2giOiJRVnZvSFBhMDFKeVl0Qk5xa0JLMGFBIiwiZWlkIjoiMDAwMVkifQ.X2QYp9R5JDgXdGQ3Ls3WxUZA6XM_4FcbFrE0krQvDsDSGZQdOrgq6dxUVVcy3pORScZrxkC3ZWfskq2GsM8Iw08s_KSkZ4o6Xr8pXZa3K07T-gfeB7x8GUftb57OILM3OZzFvVo775A_PIlmjhm2O18zgYl2kzV9PRcRcvzJVYpdyj4z9FPWPjcXAqOZ9hH_spXblhlX0iXb2nuxwJnVVf49RDKFA-MApWVi_685gtmGAqU-9-QzFAeDSU0DUHqXQRiYgkcZsHOynFf4Pf9zKjp6O0affVnSXuwA_1jrVqxDRu8fNWtMTPXwEr3m3xr_fAjErUflPUDXkmiMWFvFAQ', 'expires_at': 1743622181, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618581, 'exp': 1743622181, 'jti': 'ID.woOSMhrScliOYBpvAqfA6hP4Vr50epVSSpkbhmbKOvU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd3973a2c0b0635739ee64100b76645fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743618579, 'at_hash': 'QVvoHPa01JyYtBNqkBK0aA', 'eid': '0001Y'}}
[2025-04-02 18:29:41,424] [INFO] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743618581, 'exp': 1743622181, 'jti': 'ID.woOSMhrScliOYBpvAqfA6hP4Vr50epVSSpkbhmbKOvU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd3973a2c0b0635739ee64100b76645fc', 'preferred_username': 'user1@test.com', 'auth_time': 1743618579, 'at_hash': 'QVvoHPa01JyYtBNqkBK0aA', 'eid': '0001Y'}
[2025-04-02 18:29:41,424] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-02 18:29:41,426] [INFO] [app] : User user1 user1 no guardat en db
[2025-04-02 18:29:41,429] [INFO] [app] : User user1 user1 guardat en db
[2025-04-02 18:29:41,429] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:41] "[32mGET /auth/callback?code=L71uYI1ysRAHwlw58BOxqq-7kU18yjlJLCPn5fvQdIY&state=W8qlBb9uvEbLdTTl3pcNenspRUvQcW HTTP/1.1[0m" 302 -
[2025-04-02 18:29:41,449] [INFO] [app] : Usuari autenticat.
[2025-04-02 18:29:41,449] [INFO] [werkzeug] : 192.168.1.36 - - [02/Apr/2025 18:29:41] "GET / HTTP/1.1" 200 -
[2025-04-03 14:52:13,546] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:13,547] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:52:48,407] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:48,407] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:52:59,803] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:52:59,803] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:53:16,034] [INFO] [app] : Usuari no autenticat.
[2025-04-03 14:53:16,038] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:53:16] "GET / HTTP/1.1" 200 -
[2025-04-03 14:53:16,110] [ERROR] [app] : 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-03 14:53:16,110] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:53:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-03 14:53:56,019] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 14:53:56,020] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 14:54:06,500] [INFO] [app] : Usuari no autenticat.
[2025-04-03 14:54:06,504] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:54:06] "GET / HTTP/1.1" 200 -
[2025-04-03 14:54:09,379] [DEBUG] [app] : Asignem nonce a la sessio actual: 8bf9f435b87cdb9d97a2094d9ed526d9
[2025-04-03 14:54:09,379] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 14:54:09,381] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 14:54:10,193] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 14:54:10,197] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 14:54:10] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:04:05,277] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:04:05,278] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:04:35,517] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:04:35,517] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:04:42,439] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:04:42,444] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:42] "GET / HTTP/1.1" 200 -
[2025-04-03 15:04:43,504] [DEBUG] [app] : Asignem nonce a la sessio actual: ce8676c787c70cf3c59e179dc47cd0c9
[2025-04-03 15:04:43,505] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:04:43,508] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:44,340] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 15:04:44,344] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:44] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:04:45,003] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:45,989] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:04:45,992] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:04:46,902] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 15:04:46,917] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmVXZnlsbVZfcy1qeWw0aTFJTGltQ0ZOOG1kcnRTSjNYNjk0YzRJYW9ZeUkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsIm9wZW5pZCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjkyMzc2LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.BZ0gD62ZRFELX4oehXPcQGI-mhKBOOO2BQ3KDGKSTiY2CEZyQTy-gT7TPCNPv66Vh47mF_AuqoAg4p_NiXa6Wundsbccpc9ljO8gvj_oDimkZimjBr76LzITbTakTR25i_lcIPyzbq-dWPx4zTtw-xHAXniz5OiORbhQRbpKsXx74KIBtECtaEsp62_ZyTdqkz6ZPxLvXiuyZ2s2o1LzcXogrPfa22_Uko2fpsFuexDl7CxezlcjVsht2mJiBFbaEa9Vf7jfoRY4HlBxQucVNzMMCQelAyRcEYlEQSRmn3d9ai_51TxZ7soZqFkIhWPi_o1mO8OoAol3_wgXglPyAQ', 'scope': 'email openid profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg', 'expires_at': 1743696285, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692685, 'exp': 1743696285, 'jti': 'ID.afPHtOeoyuMxC4ETB_iyP7Kxxc8t3R1qUo8y52Iep6c', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ce8676c787c70cf3c59e179dc47cd0c9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743692376, 'at_hash': 'drvE5fQHVxXkWfwdS6y4eQ', 'eid': '0000A'}}
[2025-04-03 15:04:46,918] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692685, 'exp': 1743696285, 'jti': 'ID.afPHtOeoyuMxC4ETB_iyP7Kxxc8t3R1qUo8y52Iep6c', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'ce8676c787c70cf3c59e179dc47cd0c9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743692376, 'at_hash': 'drvE5fQHVxXkWfwdS6y4eQ', 'eid': '0000A'}
[2025-04-03 15:04:46,918] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 15:04:46,987] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 15:04:46,988] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:46] "[32mGET /auth/callback?code=EIsSVCSiRte5BLwuexAeMj1sqH1L9ZavqcXzJzl0Xns&state=kQJhdqyhcFkUXI7Wwt3KuyBBamMsFm HTTP/1.1[0m" 302 -
[2025-04-03 15:04:46,997] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:04:46,998] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:46] "GET / HTTP/1.1" 200 -
[2025-04-03 15:04:59,328] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg
[2025-04-03 15:04:59,329] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI2ODUsImV4cCI6MTc0MzY5NjI4NSwianRpIjoiSUQuYWZQSHRPZW95dU14QzRFVEJfaXlQN0t4eGM4dDNSMXFVbzh5NTJJZXA2YyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImNlODY3NmM3ODdjNzBjZjNjNTllMTc5ZGM0N2NkMGM5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5MjM3NiwiYXRfaGFzaCI6ImRydkU1ZlFIVnhYa1dmd2RTNnk0ZVEiLCJlaWQiOiIwMDAwQSJ9.qxeyc_-NhpylCZoS8v5J7vSuICBdU6AxZigOI0qE2eaOEDHsPTnIaQcVTu96CKpqYab_JXf-UozlVottxkmSuX-keM-XsiR8FZfDp1Zv_d7PGQ8oHJNNzuf6Rn_k6foyYA-YhfX0rC2B6McAFFaXi4huBrSN29eMaoa5iGv8qT7j00vNID5HDByj0vLrqmHMpXm58dq9O9d6Zm4lz407Oxc7I4RaOTXAOBuMg7M_118U5nusJrFTlPXk-U2Ce4xuoL52R-hqHkoG60SYld3vp5kyEolxbEeX8x-ZfUCQCLQ4UxHjIXHDw3Jz3IlpDigJBus_IB2vvOkZYflDflmHHg
[2025-04-03 15:04:59,329] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:04:59] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-03 15:05:00,161] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:05:00,162] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:00] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:10,267] [DEBUG] [app] : Asignem nonce a la sessio actual: 8e46371ae77f0568bbe1edce8c84ad13
[2025-04-03 15:05:10,267] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:05:10,269] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:10] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:05:27,204] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:28,150] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:05:28,151] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjRsTzlPNVpsT2hXQ0M2N0Z0dWpWV0lpNjlJVXQwSzJUSEhiZkM3U0JpSzgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjkyNzI2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.mr5hxxB2SnZcMWZslbX8QaVsqGwd6dVG1JIaIsZCfogVdQC8MRtP2jIN2289ljm5J_76Ck3bzsCiJYpZhdWTvNZctOi4iHhNHlJLpBgXdU9k7hUPVoPemOcNDTcEobex2dpfzcQWmwsM-d5R1-mMrNtqSraqg7Z79WqPed8dwjM8Inz7hG87cmR195zYubG-AYPQxJU8kqh0ZGpadtxPhiVNw2Mtb3G8KGMv3HdMIbTthb4JgZY7fWv1o3Zv87_xlCNfIVUXKCegbYlcjFzfCSGLgdd0xijyJEO0Et-Q02Mr9S-xu0c0SU37KFhCH3ztX8yOTC_RaBVAlz__kvUukw', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g', 'expires_at': 1743696328, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692728, 'exp': 1743696328, 'jti': 'ID.kzvOuGT06zZunERdE9NFEriKRnVp3SQZkChVmTsDBhk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8e46371ae77f0568bbe1edce8c84ad13', 'preferred_username': 'user1@test.com', 'auth_time': 1743692726, 'at_hash': 'edhqLCzXyUeY28AYVoc22g', 'eid': '0001Y'}}
[2025-04-03 15:05:28,151] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743692728, 'exp': 1743696328, 'jti': 'ID.kzvOuGT06zZunERdE9NFEriKRnVp3SQZkChVmTsDBhk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8e46371ae77f0568bbe1edce8c84ad13', 'preferred_username': 'user1@test.com', 'auth_time': 1743692726, 'at_hash': 'edhqLCzXyUeY28AYVoc22g', 'eid': '0001Y'}
[2025-04-03 15:05:28,152] [INFO] [app] : Sessio info usuari: user1 user1, email: user1@test.com
[2025-04-03 15:05:28,156] [INFO] [app] : User trobat in db: user1@test.com
[2025-04-03 15:05:28,157] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:28] "[32mGET /auth/callback?code=i-UEXNSvage5l3nCcrueN73nAuqV_XAp2kBG6NMVnoc&state=s200eckA58jqfMXeZFwXPMShlnkQ21 HTTP/1.1[0m" 302 -
[2025-04-03 15:05:28,176] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:05:28,178] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:28] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:33,310] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:33,314] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:33] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:05:46,350] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:05:46,354] [INFO] [app] : NEW full_name: user1 user1test
[2025-04-03 15:05:46,354] [INFO] [app] : email: user1@test.com
[2025-04-03 15:05:46,357] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:47,287] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:05:47,289] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:05:47,291] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:05:48,266] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:05:48,268] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}
[2025-04-03 15:05:48,278] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:48] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:05:48,292] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:48,293] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:48] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:05:56,148] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:05:56,149] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:56] "GET / HTTP/1.1" 200 -
[2025-04-03 15:05:57,736] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:05:57,737] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:05:57] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:06:02,727] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:06:02,732] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:06:02,732] [INFO] [app] : email: user1@test.com
[2025-04-03 15:06:02,734] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:06:03,634] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:06:03,637] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:06:03,638] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:06:03,639] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:03] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:06:03,653] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:06:03,654] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:03] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:06:17,760] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:06:17,765] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:06:17,765] [INFO] [app] : email: user1@test.com
[2025-04-03 15:06:17,767] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:06:18,536] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:06:18,536] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:06:18,537] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:06:18,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:18] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:06:18,546] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:06:18,548] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:06:18] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:09:14,806] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:09:14,806] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:09:21,879] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:09:21,880] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:09:31,157] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:09:31,161] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:31] "GET / HTTP/1.1" 200 -
[2025-04-03 15:09:33,148] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:09:33,151] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:33] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:09:36,602] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:09:36,606] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:09:36,606] [INFO] [app] : email: user1@test.com
[2025-04-03 15:09:36,609] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:09:37,644] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:09:37,645] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:09:37,647] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:09:37,647] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:37] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:09:37,656] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:09:37,657] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:09:37] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:15,168] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:16:15,173] [INFO] [app] : NEW full_name: user1 user1testtest
[2025-04-03 15:16:15,173] [INFO] [app] : email: user1@test.com
[2025-04-03 15:16:15,175] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:16:16,248] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:16:16,249] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:16:16,249] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:16:16,250] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:16] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:16:16,265] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:16,266] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:16] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:20,137] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:16:20,138] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:20] "GET / HTTP/1.1" 200 -
[2025-04-03 15:16:21,208] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:21,209] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:21] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:16:23,431] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:16:23,434] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:16:23,434] [INFO] [app] : email: user1@test.com
[2025-04-03 15:16:23,435] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:16:24,351] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:16:24,353] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:16:24,355] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:16:24,356] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:24] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:16:24,365] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:16:24,365] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:16:24] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:03,350] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 15:20:03,350] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 15:20:05,859] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:20:05,861] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:05] "GET / HTTP/1.1" 200 -
[2025-04-03 15:20:07,429] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:07,431] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:07] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:17,416] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:20:17,416] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:17] "GET / HTTP/1.1" 200 -
[2025-04-03 15:20:19,786] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:19,786] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:19] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:20:41,492] [INFO] [app] : upduser user:{'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:20:41,497] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:20:41,497] [INFO] [app] : email: user1@test.com
[2025-04-03 15:20:41,499] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:20:42,467] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:20:42,468] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:20:42,469] [ERROR] [app] : Error en actualitzar el perfil: 'eid'
[2025-04-03 15:20:42,470] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:42] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:20:42,478] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:20:42,479] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:20:42] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:21:34,277] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g
[2025-04-03 15:21:34,277] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMSIsImVtYWlsIjoidXNlcjFAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTI3MjgsImV4cCI6MTc0MzY5NjMyOCwianRpIjoiSUQua3p2T3VHVDA2elp1bkVSZEU5TkZFcmlLUm5WcDNTUVprQ2hWbVRzREJoayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhlNDYzNzFhZTc3ZjA1NjhiYmUxZWRjZThjODRhZDEzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjFAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDM2OTI3MjYsImF0X2hhc2giOiJlZGhxTEN6WHlVZVkyOEFZVm9jMjJnIiwiZWlkIjoiMDAwMVkifQ.MdDtqBba5RPqC7WTpm2zY_DHNakYS0XUpQSlOsQaCXSaHRV8BHA9klPx0eA-AMKOQGmjwBUGUXwgj1DgxijHuUXRJK8wMiXSi1wzAGC9tTRfUw9BDMJHMaboxBpUcrCVp16_rSx3jXvbMkP0o92aSZnb3EtFP4WllEJmmfTR5D4Dw_-d_dEWPDwxp_VuSSXhX5Pa4hJNOToY_p7Gf8XvRI3V6jYruZttxsnUe_tuTh-BepWtLvk-VaytnmV4QBbsfGAudzxZJHvNuSfSGgmd0-c5KIjRZ2_P_NaxSO6OrGPv8ijcW9OOY3WN81xG7Xu26rJGm8vY_ah1yKdGJmL89g
[2025-04-03 15:21:34,278] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:34] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-03 15:21:35,655] [INFO] [app] : Usuari no autenticat.
[2025-04-03 15:21:35,656] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:35] "GET / HTTP/1.1" 200 -
[2025-04-03 15:21:36,821] [DEBUG] [app] : Asignem nonce a la sessio actual: 077a2938f66c1ac5529419e2a69ee427
[2025-04-03 15:21:36,822] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 15:21:36,822] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:37,536] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 15:21:37,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:37] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 15:21:57,395] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:58,348] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 15:21:58,352] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:21:59,245] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 15:21:59,255] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm5uY2xIcDdkX3lxQ1RkcmJsRmhWMHYzMEROQi1MNFJaMTY3aTRqOUFSMTAiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTM3MTgsImV4cCI6MTc0MzY5NzMxOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjkzNzE2LCJzdWIiOiJ1c2VyMUB0ZXN0LmNvbSIsImVpZCI6IjAwMDFZIn0.VtY2mqc9I17XwhzNKzafY3j3LVXCoGF_2_DKH8Yqkge0cik6RFWG95498qfJdF8KOpGlFhHeWM40jgsQFrSmcTcumNjaB39CtghFVmzGFJcjp_0NlEItH38_6TlFhShnsgNeQmiZwvrm0q2_3cCvgfkenTwp5mYVxBuQpOC4iGvzWB3MeZXdH_Iw971_euG_0kCyP_x_9hZS3jZ1ED8JCCj0YNLR_W6FgwHr6FVa95SbFWRAYMCdVzGfU1n6Ir8WX1vLZ9pk_bfiXHKty8rWmbZFy30OxyhOUAh29R0TU0SlHx0Rk6-ADtY7x0cxJZX-NiGqOzta9FX0ArWad3Ru5Q', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteTN3ZTczOW5QSXI4MzVkNyIsIm5hbWUiOiJ1c2VyMSB1c2VyMXRlc3QiLCJlbWFpbCI6InVzZXIxQHRlc3QuY29tIiwidmVyIjoxLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6IjBvYW15NzVxZjNCUlk3VVJSNWQ3IiwiaWF0IjoxNzQzNjkzNzE4LCJleHAiOjE3NDM2OTczMTgsImp0aSI6IklELjJGLXRrZWpDaTE2TjkzYWRBeFVHSTV3RDlIWGVuWmRRazhsT0FrckNqblkiLCJhbXIiOlsibWZhIiwib3RwIiwicHdkIl0sImlkcCI6IjAwb214Z2EyMzJUcnZmWjNJNWQ3Iiwibm9uY2UiOiIwNzdhMjkzOGY2NmMxYWM1NTI5NDE5ZTJhNjllZTQyNyIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXIxQHRlc3QuY29tIiwiYXV0aF90aW1lIjoxNzQzNjkzNzE2LCJhdF9oYXNoIjoiNXlNbmFDQ3EtbnR1MUR2MnFTTkhpQSIsImVpZCI6IjAwMDFZIn0.UL84AGk755Up4232iTp2r2mti-ebdpo_BYTSs-lG_frM7QCxZkyKBumXQ7PNB3D0AOc5KqgnCxxurYSIQa7iRkEkFhygtxk7EH1qhw4kX0Tez8gJbDfPmEHGz1u9RbVAwyO8u4QCiW3sMjVjva4OdWmNd68-Clft3AVcDNueqQsaNkzfFY2ojuRGR6KED8c-e6L7K0zUj7T5SgCqqRHmGueqifgTfv3BTacZKN1XZLTGztzuZbuvTskF5vxsLfPGw_RcIOIo7P3IQIajV4dEarpQLCJW0SEgamF-vqMKmyYYpOdlk5dFugn2gXl9KoImOhBXrfFYwdzLB5379J4swg', 'expires_at': 1743697318, 'userinfo': {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1test', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743693718, 'exp': 1743697318, 'jti': 'ID.2F-tkejCi16N93adAxUGI5wD9HXenZdQk8lOAkrCjnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '077a2938f66c1ac5529419e2a69ee427', 'preferred_username': 'user1@test.com', 'auth_time': 1743693716, 'at_hash': '5yMnaCCq-ntu1Dv2qSNHiA', 'eid': '0001Y'}}
[2025-04-03 15:21:59,255] [DEBUG] [app] : User parsed token {'sub': '00umy3we739nPIr835d7', 'name': 'user1 user1test', 'email': 'user1@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743693718, 'exp': 1743697318, 'jti': 'ID.2F-tkejCi16N93adAxUGI5wD9HXenZdQk8lOAkrCjnY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '077a2938f66c1ac5529419e2a69ee427', 'preferred_username': 'user1@test.com', 'auth_time': 1743693716, 'at_hash': '5yMnaCCq-ntu1Dv2qSNHiA', 'eid': '0001Y'}
[2025-04-03 15:21:59,255] [INFO] [app] : Sessio info usuari: user1 user1test, email: user1@test.com, eid: 0001Y
[2025-04-03 15:21:59,257] [INFO] [app] : User trobat in db: user1@test.com
[2025-04-03 15:21:59,258] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:59] "[32mGET /auth/callback?code=nPrgO-cufhfzEXGUI_aDxwMuGzqaTSm9TwmsxNwn8_0&state=yAxv4A0jEjTpcdB9qRpzmu2ZYHDkt3 HTTP/1.1[0m" 302 -
[2025-04-03 15:21:59,277] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:21:59,277] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:21:59] "GET / HTTP/1.1" 200 -
[2025-04-03 15:22:04,963] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:04,963] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:04] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:22:07,527] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:22:07,527] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:22:07,527] [INFO] [app] : email: user1@test.com
[2025-04-03 15:22:07,529] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:22:08,480] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:22:08,482] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:22:08,483] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:22:08,484] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:22:09,437] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:22:09,439] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:22:09,444] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:09] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:22:09,453] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:09,453] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:09] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:22:52,976] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:22:52,976] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:52] "GET / HTTP/1.1" 200 -
[2025-04-03 15:22:57,860] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:22:57,861] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:22:57] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:00,862] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:23:00,866] [INFO] [app] : NEW full_name: user1 user1test
[2025-04-03 15:23:00,866] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:00,868] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:01,825] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:01,828] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:01,829] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:01,831] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:02,806] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:02,809] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1test', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1test', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:02,813] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:02] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:02,822] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:02,823] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:02] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:08,697] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1test'}
[2025-04-03 15:23:08,701] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:23:08,701] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:08,703] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:09,615] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:09,616] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:09,616] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:09,616] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:10,622] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:10,623] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:10,628] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:10] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:10,641] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:10,643] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:10] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:13,675] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:13,675] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:13] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:18,163] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:18,163] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:18] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:19,810] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:19,812] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:19] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:25,045] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1'}
[2025-04-03 15:23:25,049] [INFO] [app] : NEW full_name: user1 user1testtest
[2025-04-03 15:23:25,050] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:25,051] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:25,950] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:25,951] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:25,952] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1testtest', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1testtest', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:25,952] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:26,996] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:26,997] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1testtest', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1testtest', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:27,001] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:27,013] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:27,015] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:27] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:31,944] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:31,944] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:31] "GET / HTTP/1.1" 200 -
[2025-04-03 15:23:34,645] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:34,646] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:34] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:36,618] [INFO] [app] : upduser user:{'eid': '0001Y', 'email': 'user1@test.com', 'name': 'user1 user1testtest'}
[2025-04-03 15:23:36,623] [INFO] [app] : NEW full_name: user1 user1
[2025-04-03 15:23:36,623] [INFO] [app] : email: user1@test.com
[2025-04-03 15:23:36,624] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:37,543] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user1@test.com HTTP/1.1" 200 None
[2025-04-03 15:23:37,546] [DEBUG] [app] : Id de l'usuari: 00umy3we739nPIr835d7
[2025-04-03 15:23:37,547] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}}
[2025-04-03 15:23:37,549] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 15:23:38,539] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umy3we739nPIr835d7 HTTP/1.1" 200 None
[2025-04-03 15:23:38,543] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'user1', 'lastName': 'user1', 'email': 'user1@test.com', 'login': 'user1@test.com', 'displayName': 'user1 user1', 'employeeNumber': '0001Y'}
[2025-04-03 15:23:38,546] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:38] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 15:23:38,556] [INFO] [app] : User a modifcar: <User user1@test.com>
[2025-04-03 15:23:38,557] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:38] "GET /profile HTTP/1.1" 200 -
[2025-04-03 15:23:42,648] [INFO] [app] : Usuari autenticat.
[2025-04-03 15:23:42,648] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 15:23:42] "GET / HTTP/1.1" 200 -
[2025-04-03 16:25:20,421] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:25:20,422] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:25:39,629] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:25:39,629] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:26:59,027] [INFO] [app] : Usuari no autenticat.
[2025-04-03 16:26:59,031] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:26:59] "GET / HTTP/1.1" 200 -
[2025-04-03 16:26:59,107] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:26:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-03 16:27:00,909] [DEBUG] [app] : Asignem nonce a la sessio actual: 7bd1ddc759815f15302e87200dd6495c
[2025-04-03 16:27:00,909] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:27:00,911] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:01,802] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:27:01,804] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:01] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:27:03,046] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:04,032] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:27:04,034] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:04,947] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:27:04,957] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk54T0dRQU82Tk5wb2VUREdXeVJnaUZtTXZRMHoxMzd0amZxRjRuSl96a1EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc2MjMsImV4cCI6MTc0MzcwMTIyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.fpIl4o-sUNFE6gd6vsXlHU_q7sGCARnG-4aOFmkfTRGSm49ezUtoqDW-VQ4KWV5hlqt9GZFaNzYJURQ6zGaq9ZJub_OiXiOn012BWVioVE0TiqJXwe4N2nCGdS0FS4rDMAq7sXJk-qfgQ2Zvcoah9o4r4ec6m-BoWDyihthONX5QlWtOeQihVUhKnMHqFt5ukBurhNua0GUp_Le1dIzCeswDReKw-2GdVgwJU371o26cQtiDdATb4URrl9SJ34wdDeAMrVMHWWphgS14Tw39t0ezaYyVREqv8CTn97l_Q7QkrOtPRu7_fhbJehUNbWm-1TJ1VGbydKhZFr-oH7JbmQ', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc2MjMsImV4cCI6MTc0MzcwMTIyMywianRpIjoiSUQuem02NVpwTjV1Q0V2RjVtSmM2RGxINFp0ZjhaeFFQU3Y2OGllYmZwOUZrcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjdiZDFkZGM3NTk4MTVmMTUzMDJlODcyMDBkZDY0OTVjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IjdRckVNZlVnSHJSWXZFTUZ3S0ttTmciLCJlaWQiOiIwMDAwQSJ9.cZ9i88kZSpE2FvMtjjnARp8qbHKwkcNf5Ug_6zoaEI3D09mIqElMrtVVh_x2zRTvavR0wuoo7D0YqokbrcwFzJ3ySN1RPoL4HksHS_4e2YFcqEVI2hMzRwFvLthDsZX9EVoZa8fTTlVhFllxHFD9qI3chQ_3iGsVANonUOoj48Q--rw0a5wsIT_B-uJiuum-1BzAdoHIeizl8V4W8fNYHF1_B2s-r1CXtKRJp2RzOdg4XBWTjEwnTp72ljCR-_tdSg8fqzQYd5zNETowKS1IE1WVPBCx4tjamXd0lF5lJKdNDMFrfCoT5degrJs9Oiv-0MTlBctuwvbSPj1d68fl8A', 'expires_at': 1743701224, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697623, 'exp': 1743701223, 'jti': 'ID.zm65ZpN5uCEvF5mJc6DlH4Ztf8ZxQPSv68iebfp9Fks', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '7bd1ddc759815f15302e87200dd6495c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7QrEMfUgHrRYvEMFwKKmNg', 'eid': '0000A'}}
[2025-04-03 16:27:04,959] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697623, 'exp': 1743701223, 'jti': 'ID.zm65ZpN5uCEvF5mJc6DlH4Ztf8ZxQPSv68iebfp9Fks', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '7bd1ddc759815f15302e87200dd6495c', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7QrEMfUgHrRYvEMFwKKmNg', 'eid': '0000A'}
[2025-04-03 16:27:04,959] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:27:04,996] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:04,997] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:04] "[32mGET /auth/callback?code=ArMHlKwulfFUlRe4Jo5bZShXIQIliwpPrMzupMPBA-Y&state=nNuGmwGsWm4D9W1FrqUaCisj9MK6Ux HTTP/1.1[0m" 302 -
[2025-04-03 16:27:05,010] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:27:05,011] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:05] "GET / HTTP/1.1" 200 -
[2025-04-03 16:27:17,020] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:17,025] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:17] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:27,028] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-03 16:27:27,034] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-03 16:27:27,034] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:27,038] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:27,954] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:27:27,956] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:27:27,956] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-03 16:27:27,958] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:28,961] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:27:28,962] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-03 16:27:28,969] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:28] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:27:28,982] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:28,983] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:28] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:32,138] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:27:32,139] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:32] "GET / HTTP/1.1" 200 -
[2025-04-03 16:27:34,576] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:34,578] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:34] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:27:38,841] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-03 16:27:38,846] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-03 16:27:38,846] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:27:38,849] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:39,766] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:27:39,768] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:27:39,770] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-03 16:27:39,772] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:27:40,513] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:27:40,514] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-03 16:27:40,517] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:40] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:27:40,530] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:27:40,531] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:27:40] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:28:10,522] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:28:10,522] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:10] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:28:25,849] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-03 16:28:25,854] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-03 16:28:25,854] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:28:25,857] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:28:26,792] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-03 16:28:26,794] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-03 16:28:26,796] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-03 16:28:26,797] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:28:27,521] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-03 16:28:27,521] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-03 16:28:27,524] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-03 16:28:27,536] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-03 16:28:27,538] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:28:27] "GET /profile HTTP/1.1" 200 -
[2025-04-03 16:31:24,388] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:31:24,389] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:31:32,388] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:32,392] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:32] "GET / HTTP/1.1" 200 -
[2025-04-03 16:31:35,139] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:31:35,140] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:35] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:31:35,156] [DEBUG] [app] : Asignem nonce a la sessio actual: 4d10d1c0de6e491cfa1fe33adca3b43b
[2025-04-03 16:31:35,157] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:31:35,158] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:35,881] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:31:35,883] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:35] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:31:36,556] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:37,554] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:31:37,557] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:38,460] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:31:38,464] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkdSTXlHdDhGX2ZmVjhtN0liNjI5LWY1WTFTWnlYMmdKajRNUW53NlhMakUiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc4OTcsImV4cCI6MTc0MzcwMTQ5NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Nlu1nmhQRX1qzsXU1-8cce6PyUcnktSi2Fy-XwaoH43p9uP6zt-vCYIq_t4v_6OQ8axv9L3Nj9RcYN12VnmYCek5DVT5eiKcAiOwFQ9pARDu70xf0orWnf7bvZfd1CDxb2s8VpWqG5dhMMLP03aUkwtupfHJz0NyLtOvVv8j9elAsuJ7sSsdZ4MrldrmNlCgiVTp15wk51SLRvJ3T6rfnofpLLv6kxythKC2bZVOaApVNBVmy22C_4VZSwOdwqXp5DhXqFI6zHfNDOAEs7KK6358ribniXk6yOzyPhE63S4FDfsDXLlF7M9KnD1ulERP6sP4Cgawvq6lGVVbX8G6hg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc4OTcsImV4cCI6MTc0MzcwMTQ5NywianRpIjoiSUQucm5tMm1GYkdZcEFxMnpRakoyX2xSRGRscUFJWlVjcmxuTXQwOXVTMzl0SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjRkMTBkMWMwZGU2ZTQ5MWNmYTFmZTMzYWRjYTNiNDNiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImpWTmZOQ3RSQy1nYWxSMk5fdzNmLVEiLCJlaWQiOiIwMDAwQSJ9.E8enTwdKtuQIBT2W0N38eWtMd_c_XgkfGrtf8kPwbXQwwHNy3BeXcaXauw8PDCfE8QktP912qYxubwmv1YK60vQARLmIBqusHmSEAxc49jnCqlmrpVDVBSjTvgvEA9q7PpcjRK2LNqURc0tMidlUPUXVkvIPVgQLr0uScGlbEGRwiok9IA6mt-5lNfvxDyLE9tYrqPc2AQ8hIktAjAdm3T3h9Ef-wIWMZyVs-1b3tBpx-oPy_lfS4Q-kN61V3flddDRu5vYFcHid54wSy0f3oyxor9NRIndL-1wsWJim75GYWYTipH-Rr1GI6shsa4eZTDaaqSfUMudQaje17UUH0w', 'expires_at': 1743701497, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697897, 'exp': 1743701497, 'jti': 'ID.rnm2mFbGYpAq2zQjJ2_lRDdlqAIZUcrlnMt09uS39tI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4d10d1c0de6e491cfa1fe33adca3b43b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jVNfNCtRC-galR2N_w3f-Q', 'eid': '0000A'}}
[2025-04-03 16:31:38,465] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697897, 'exp': 1743701497, 'jti': 'ID.rnm2mFbGYpAq2zQjJ2_lRDdlqAIZUcrlnMt09uS39tI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '4d10d1c0de6e491cfa1fe33adca3b43b', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jVNfNCtRC-galR2N_w3f-Q', 'eid': '0000A'}
[2025-04-03 16:31:38,465] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:31:38,477] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:31:38,479] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:38] "[32mGET /auth/callback?code=X77QcyzKARXRkfUs8ISZg_bNcZExV12ajKdy4BfMf2k&state=LARb8yBKuvutPgBLjY8ofHafKKPYQV HTTP/1.1[0m" 302 -
[2025-04-03 16:31:38,489] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:38,489] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:38] "GET / HTTP/1.1" 200 -
[2025-04-03 16:31:52,718] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:31:52,719] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:52] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:31:52,727] [DEBUG] [app] : Asignem nonce a la sessio actual: d5638b8aa39520dc49981557f0a43b77
[2025-04-03 16:31:52,728] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:31:52,728] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:31:53,321] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:31:54,263] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:31:54,266] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnRRME52VmtWYU83YnZDSVkyazlRb3ZXdDhwWG5scldDaW5ReEh4X1hvMFkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MTQsImV4cCI6MTc0MzcwMTUxNCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.Kc4IYSJE8U-dVQf6L943WrUX8lrg6C2lXjQivuRGNb8T0RplC-Zjwf-isnd9_5XIlxXcLXLJG_u4h89VInnF0PNKzSzaitP3NG7L9BlQNAvJagD6cNrt38tEurLsjLTYejWZId19o2aFetVfVhIZilqyc48f8awrv11hWsBwdgdi7yiGl7_o7MIrjMkfc7nAw6kiRE8tPmV4heMIL96n-cW-6YFERdxDRND2PtaPb6moMOHMDVvue9agY3XYztSOELjy60TO603SKZoqr1kt3JJ5GttbgBilMZEZHPIEfWHuMe4NgQ-470ZGxug4enkxHH9NODd9rcgaYemz97At_Q', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MTQsImV4cCI6MTc0MzcwMTUxNCwianRpIjoiSUQucFF6MzVkaUtkUENGQVBCWjk3RnhIZTc5Uks2LW82Mm1VYVdoaHRoTHRwayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImQ1NjM4YjhhYTM5NTIwZGM0OTk4MTU1N2YwYTQzYjc3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImRJWUNKTEMxNGpoc2E0T1U0QUtJb1EiLCJlaWQiOiIwMDAwQSJ9.JZalXy68pjxeZohmAdNi4maxDnDAWlmvtnlR_2b0JnAB6oP2xppBD9PJEdgeSYF6K37JpZCS4wJlwWAPzGxtAZS7MpK3vmkMO-4Rq2PO1r6-di6K37Gc0PXOcg0_6e1j53X-BaoUn7uinND0uFPL7GRPSkanq3Oy84ube1QKPNw4yPFeagiSJnjhiXeUgxNH8bWuWxOj73iNVD2f2Hz-X_m1Hw25E3NPXmsHRjnjbDeVSWVb3hDGdHu94g6xObIRz6Uptbo-yKSTmBgu3exWP5-G0Jn7NNZYBUTJzJgIc5Y8pQpIHaf127mKZL1CuR_pJ7CLbrxZ71iVETZn_0VFeg', 'expires_at': 1743701514, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697914, 'exp': 1743701514, 'jti': 'ID.pQz35diKdPCFAPBZ97FxHe79RK6-o62mUaWhhthLtpk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd5638b8aa39520dc49981557f0a43b77', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'dIYCJLC14jhsa4OU4AKIoQ', 'eid': '0000A'}}
[2025-04-03 16:31:54,267] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697914, 'exp': 1743701514, 'jti': 'ID.pQz35diKdPCFAPBZ97FxHe79RK6-o62mUaWhhthLtpk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'd5638b8aa39520dc49981557f0a43b77', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'dIYCJLC14jhsa4OU4AKIoQ', 'eid': '0000A'}
[2025-04-03 16:31:54,267] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:31:54,270] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:31:54,271] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:54] "[32mGET /auth/callback?code=Vx8V38fayrJ0hRePFoD90x8su1jSZ3FLSuaU4NxNcrs&state=tqSYdkDbefyorw1XHns5yeFA1ZpwMe HTTP/1.1[0m" 302 -
[2025-04-03 16:31:54,288] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:31:54,289] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:31:54] "GET / HTTP/1.1" 200 -
[2025-04-03 16:32:02,483] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:32:02,484] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:02] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:32:02,492] [DEBUG] [app] : Asignem nonce a la sessio actual: dd1d92e3048d6f724cac33fa3ddae52d
[2025-04-03 16:32:02,492] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:32:02,493] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:02] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:32:03,079] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:32:04,071] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:32:04,073] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmF1c2tlYXpxNERCcnJuY2E2WGdSRm1naDN4RXdKVW05VXYzRUpfa0JkNmciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MjMsImV4cCI6MTc0MzcwMTUyMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.oNR4iPyKDU5Ub_LtWByTgkfh0UxoXXNH5rrEBzSDJXBtKwvvQ2rWhxEYoJcXwT4H9QFUSaze7Er_bDfAQTdYqWlnu3grmTtgc0IzVxbteSlX4XjsyX0ra-u3-tPWhwQKin_tC3XEHi4OyGoTvvfOj7dkiN1RJsRbn_uOJZQ7ZPyWxLs1Py99AkGybZlCTnicQiIVjoN48PoFJjLY8NOl-i9cajRlsRcvC6KGxQ1PK7v0n1c7DKV-itUlQIYqtC6G3oQaenJN8Z8HGBdpRucYU5iHOFjkPT_08a1cCVDXVd0zMmRskiSqqvpls7t9Z13P3iD7cYAuWzLNUxj4bxVfoA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MjMsImV4cCI6MTc0MzcwMTUyMywianRpIjoiSUQuVHIwUlloT1BseE5qS095aG5JLTJqeGxnSENqdl95UjFDc1NPZHNna1NkMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImRkMWQ5MmUzMDQ4ZDZmNzI0Y2FjMzNmYTNkZGFlNTJkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IkxKSEpWa25nQW5Kb0JDdEhEYlZGNlEiLCJlaWQiOiIwMDAwQSJ9.SaMGIRXkAbrP40-rI1ojBPBgVA-OA4NP_MrTsa784tTgSUSaCcMk5kHXuAuTNNmryrHwBqPnxjz17Xu8iiQvLeA-4p1gDO2qcrqWNSlfFKeMe7kcpG_vv_lzbxyFkzWAS5cLdZlDT0QCLUNs4dp6FumZ9tkRkYbwBUQRerJmBT5-G8HiCZbKvHHnabFSyu1zmrVCrBEUYOhhK4Qv6M0ckazTGEGIiPFAblXMoiXEKRaCDOWtX5lXk78QKp5GAsUBiaiuB4louDgL1WMYFskWGp0BrtKUSkQtK-SA7h_5jViQOnxgwWsDBSl7tLibC_zQBjrMmvvBekC6cgIcRt_--w', 'expires_at': 1743701524, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697923, 'exp': 1743701523, 'jti': 'ID.Tr0RYhOPlxNjKOyhnI-2jxlgHCjv_yR1CsSOdsgkSd0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'dd1d92e3048d6f724cac33fa3ddae52d', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'LJHJVkngAnJoBCtHDbVF6Q', 'eid': '0000A'}}
[2025-04-03 16:32:04,074] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697923, 'exp': 1743701523, 'jti': 'ID.Tr0RYhOPlxNjKOyhnI-2jxlgHCjv_yR1CsSOdsgkSd0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'dd1d92e3048d6f724cac33fa3ddae52d', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'LJHJVkngAnJoBCtHDbVF6Q', 'eid': '0000A'}
[2025-04-03 16:32:04,074] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:32:04,077] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:32:04,078] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:04] "[32mGET /auth/callback?code=b5P1D-HE84JaWCtDq5na3fNIcnq7ONUhNb-64PxcCiU&state=nCusvO7XJFrjWRWh9gJGsSu5b0pVzw HTTP/1.1[0m" 302 -
[2025-04-03 16:32:04,090] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:32:04,090] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:04] "GET / HTTP/1.1" 200 -
[2025-04-03 16:32:16,653] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:32:16,653] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:16] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:32:16,661] [DEBUG] [app] : Asignem nonce a la sessio actual: 46a0d047283b66fee4c7a2f9444d8015
[2025-04-03 16:32:16,661] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:32:16,662] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:16] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:32:17,245] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:32:18,190] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:32:18,195] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkJvVkU5LW1aWTVPeGlEZE13YVFpc21VdklzRGNKU2t3TjZaZ0V2RmlsYVEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTc5MzgsImV4cCI6MTc0MzcwMTUzOCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.pgv_rlycoMi9XDTrODb2LcGyTWGPUWp52VUKXPVl2TXJAI8nWzJdlVe_k10_EWlVKQxKAKkbax9sz-d0AqijbnhPQ9PHC_-NrdwsYyFI4mLIbijYTvnxm9HAeQUhQUpA_BLMAYI4vsgEVtQLG99oudMpBVNQUPjcRDl3x1DMwV5aACii5Leq1hy0vsc8dxnd8JMYuYXjb7TNqzFRg6yTbB5uCqzNgCrA_3n7aFhfVxJN_NpXhdhTRunTMraRntwWJf5dmpwfbZliriwwnYvlu1HIpOUnZGpX2PTvQES5_XzGcLVX5m6BXlQrU10FiccrvpOAs603Zb65Fcg8-vDYwg', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTc5MzgsImV4cCI6MTc0MzcwMTUzOCwianRpIjoiSUQud19jVjlJZ3prbUFTSjlHY0tZVGx5XzJtMHAyVFV6ZURXcjBLUW5qaFdIWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ2YTBkMDQ3MjgzYjY2ZmVlNGM3YTJmOTQ0NGQ4MDE1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6Ims5UkpEa0E4bmw5RGEwY3ZvLXB3a0EiLCJlaWQiOiIwMDAwQSJ9.S8pz3hNWC02xqcCunGLrEIe8JPGxXH7xMnP58OtQWCeli6mRhzLlho9_CYn8o_J8z_gIl6aNtN7KWNEwhEKNc4RGvOQ43rLwnbN0DwvfKEpxACQXi4F9nDuvS2610zvmk9Ik-s4_FHF6V4YW2Npyq6CkRJGKlBfNxv3-iGfxwd7neXT-vjis0FLhlJaGPfWxpzK-_P7ux7i80yeJ6ZUJkTpT3nBqIWVU76fxkzlXGHun2pcilFxErunaUJF4j2g31qlgyhXx3a-DtdIG-RE1vu2vls5ALPAd85r0MY4lVTID1YEz3wKDUlUorxZuhUuIM2CWhW3bX_DI6d3qlKQpJQ', 'expires_at': 1743701538, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697938, 'exp': 1743701538, 'jti': 'ID.w_cV9IgzkmASJ9GcKYTly_2m0p2TUzeDWr0KQnjhWHY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '46a0d047283b66fee4c7a2f9444d8015', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'k9RJDkA8nl9Da0cvo-pwkA', 'eid': '0000A'}}
[2025-04-03 16:32:18,196] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743697938, 'exp': 1743701538, 'jti': 'ID.w_cV9IgzkmASJ9GcKYTly_2m0p2TUzeDWr0KQnjhWHY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '46a0d047283b66fee4c7a2f9444d8015', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'k9RJDkA8nl9Da0cvo-pwkA', 'eid': '0000A'}
[2025-04-03 16:32:18,196] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:32:18,199] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:32:18,200] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:18] "[32mGET /auth/callback?code=W-yC44loMGPk0XEsowqA6gMzX2YuAv334hswlcDW_Wk&state=59h4t9vTyXvGrddjKVOQllYkjWZoRg HTTP/1.1[0m" 302 -
[2025-04-03 16:32:18,213] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:32:18,214] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:32:18] "GET / HTTP/1.1" 200 -
[2025-04-03 16:35:34,707] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:35:34,707] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:35:46,779] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:35:46,781] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:46] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:35:46,788] [DEBUG] [app] : Asignem nonce a la sessio actual: f3d86fb5d8e7a743e6104a7188cd010f
[2025-04-03 16:35:46,788] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:35:46,789] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:47,540] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:35:47,542] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:47] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:35:48,172] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:49,146] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:35:49,149] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:50,052] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:35:50,060] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjJaRUMxQ3ZSalZ5dDM5MkRDMkRxNGNLWlVIaHUtMWhYLUo0TjhWLUtGMjgiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgxNDksImV4cCI6MTc0MzcwMTc0OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.eM4YwTHsGrXbLxuTBThL8QNk6Wd0FRU1liKQMv_jRL28vv4r5nKVLz3s6YFj7nFYYQHgGdateomxqxjbED7pU3Qs42O2YKR54q1lrJeUMd9jNKpWjKwIlPkmnrX3kWb0Xx02r6ZOkYzEmmbSaLADj1GZbsD9NVcbxPS8z1QtMVhZSQlCMUYOaJ9SijYh5ywWn0_tI8my2SefdFsTQqVbOUcI-8KzQk5YtwQaDvAZKAgvMSXn8gdgHGInPiSqEd_uD6WOxKU9KFwoggq5k3TmC2hUJMYdUCV8EN38H-Dk4WWQkhakBtqVRffhVXs-ECU6fLvx2b1T1d4hNt0yYQ0rGg', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgxNDksImV4cCI6MTc0MzcwMTc0OSwianRpIjoiSUQuVWxkcW9fYlV1TFVTRndGZ1ktVXZRUHJ5UWFmMlNISTcyWUdBMi0yX3NCayIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImYzZDg2ZmI1ZDhlN2E3NDNlNjEwNGE3MTg4Y2QwMTBmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImdyM29xRUpNTU5vSkE4LVo2TnF5b1EiLCJlaWQiOiIwMDAwQSJ9.REGtTVasqSAKIWQtdF8YfLBLtk59CtKZmaT78Wf-rnq5BF2sIjs9NbfjreukISbTC8LR-BHS9Z_ZFUZLVU23Alpg136CaxrDZOEWnWAUdts7HmpbRdkXwHv-aJzRBi2G-LrebEV8PshYvZTqBh30Up9dqMN6a3OGShLhudMVaxfSEtVuEAgwHENYSHpaTHTYCPYmNCdSy5AEYC3oNL740TExjupTfwNmIBbpKuPQ_QKdGPXLdoEoMjiVEa6A30cPvajruo6HszTaYWxuOVOifopJPyt_dQAvoYDkMYxXxaIQ-fUffNJMaO1PHBB7F90qWnQUb71_nfhXtdZbkqkzRw', 'expires_at': 1743701749, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698149, 'exp': 1743701749, 'jti': 'ID.Uldqo_bUuLUSFwFgY-UvQPryQaf2SHI72YGA2-2_sBk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f3d86fb5d8e7a743e6104a7188cd010f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'gr3oqEJMMNoJA8-Z6NqyoQ', 'eid': '0000A'}}
[2025-04-03 16:35:50,061] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698149, 'exp': 1743701749, 'jti': 'ID.Uldqo_bUuLUSFwFgY-UvQPryQaf2SHI72YGA2-2_sBk', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'f3d86fb5d8e7a743e6104a7188cd010f', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'gr3oqEJMMNoJA8-Z6NqyoQ', 'eid': '0000A'}
[2025-04-03 16:35:50,061] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:35:50,080] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:35:50,082] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:50] "[32mGET /auth/callback?code=_jiWiriXMP6CebAHj3bwzAM8KCQfE6EFX4BPeW8ncLk&state=zQLCDzKDWmHGN9iYaDEOYvXsqPQwBG HTTP/1.1[0m" 302 -
[2025-04-03 16:35:50,095] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:35:50,098] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:50] "GET / HTTP/1.1" 200 -
[2025-04-03 16:35:57,780] [ERROR] [app] : Access denegat: token invalid
[2025-04-03 16:35:57,780] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:57] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:35:57,787] [DEBUG] [app] : Asignem nonce a la sessio actual: c8645ff0581dab1bfbc4a96089c8f655
[2025-04-03 16:35:57,787] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:35:57,788] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:35:58,409] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:35:59,372] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:35:59,373] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlZCSnEwUHNQY25zcVNhOEhjNnh1Ti1IU3ZlOFdLWExCRTRjWllodkNWX2siLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgxNTksImV4cCI6MTc0MzcwMTc1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.c43SMISIqNkP-lUOtoEvTVo1Xz7IFVnUFlBmgGfd6cmsWL1ooJP-V5u6nXN47_a8EFihK97wfrUlQoR7Ny4qf8vtq7uvAZ4HWSXyIBhyjCA56kcohkilNzpOD2Qxa_wgQcXRaVnInBHfbgZGpO20KwI1l_YUqbqMjNKuNYIePbwe9s2Ri1YTy4BXZuKR0urzRB98_ExxQ1MxCy-IRLsTrIt6QIzOIvFsXNWoZF9u5b1rxJlxHJ35Smu2gj_wpH52-GQvbWzhz6--u8i_Lgg_T1JcLcU39P24wC02anh060KSw0IxrS0d8KWD4sj77y7uBIBCvD1Rb1N-We48bVbYuQ', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgxNTksImV4cCI6MTc0MzcwMTc1OSwianRpIjoiSUQuem1leGJiaTNua3RpM2hhVUJzOHJrMndtNlBkQ3pPR0hOMDhuNnA0NlRjWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImM4NjQ1ZmYwNTgxZGFiMWJmYmM0YTk2MDg5YzhmNjU1IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6Ijd5UDF1S21YS2NOZ1VyTXE5bFZCSHciLCJlaWQiOiIwMDAwQSJ9.i5DwdjtbceLsM6kM2GJ2exL2FIbKMl_7kBRVecqHnSHj458HGeTgwCCnIpeFsMGr8eetwQJ-6bieXv-ZZoMH0RoXXKo2hi7T5A9MJ-zkDrAQvw5ewGt7hs8KfWHlGcr5R2P6cXT9EEvCTutEr8LXPEed13aQ91xmUqYLRVN0CoHk4aVB7sayhTuxUugr8hsw4xdKADmByVisJ2DcPo6NpXZTYUnKourX4ffUewyyVaZ5C6Crc5Cp4aFtIPeqTnz2ENXCdu0HEoWyFo4I81lh3gLZP0QPy6dAIXsppW28BVwg6FRgrZIbf77JkAG7hm6T854hDkYtR4alH6aRgNOm1w', 'expires_at': 1743701759, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698159, 'exp': 1743701759, 'jti': 'ID.zmexbbi3nkti3haUBs8rk2wm6PdCzOGHN08n6p46TcY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8645ff0581dab1bfbc4a96089c8f655', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7yP1uKmXKcNgUrMq9lVBHw', 'eid': '0000A'}}
[2025-04-03 16:35:59,375] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698159, 'exp': 1743701759, 'jti': 'ID.zmexbbi3nkti3haUBs8rk2wm6PdCzOGHN08n6p46TcY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'c8645ff0581dab1bfbc4a96089c8f655', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': '7yP1uKmXKcNgUrMq9lVBHw', 'eid': '0000A'}
[2025-04-03 16:35:59,375] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:35:59,378] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:35:59,380] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:59] "[32mGET /auth/callback?code=4I3-XwD6IN-RSDXf3-vUb8KcX9JB6Rv2OeNLHX-fsLY&state=QR8gNCwwgFtxqlPtBhdxJc3j2aELC8 HTTP/1.1[0m" 302 -
[2025-04-03 16:35:59,396] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:35:59,396] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:35:59] "GET / HTTP/1.1" 200 -
[2025-04-03 16:37:48,821] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:37:48,821] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:37:55,868] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:37:55,869] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:55] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:37:55,878] [DEBUG] [app] : Asignem nonce a la sessio actual: 39cdf98fff5ef25f1804da993aff22ce
[2025-04-03 16:37:55,878] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:37:55,879] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:56,649] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:37:56,654] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:56] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:37:57,294] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:58,289] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:37:58,292] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:37:58,865] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:37:58,869] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:58] "GET / HTTP/1.1" 200 -
[2025-04-03 16:37:59,253] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:37:59,260] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkhVb2tEMlk4ZGRBMlhIamJBRF82aHRrNWZSM1BnRUN3Ykx6WjVUWWdSdlkiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgyNzgsImV4cCI6MTc0MzcwMTg3OCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.dH1_LcQpaLEZjOkc9-BteDDmos6_s3XU7xqr199ebwzBNZWj1dct9bWF3zp5-5TvmN0WOZhBQx6dPIpA8AueRnKxAHbN9cdbUPRf855ZC4UjELOCBCJl8wunYVCyAHMlBoyIvttcT9FXWnQxJ4DsIhEP73qCAwWW0KcutDJHBwikC2D9rS7UyXDglYcaCY2qLRR8s7hIEywlbVGm4NO2xXdlw4RhZLu3dHkeGHKI4B-PS8wW5ypcaKn6u33i6XtAkzsJ9NJRm7s9tbmXzipz7Z4lDozyNK2p4xhFmhp2UrbnXqWtUgaOH-I7su2WqRXVyxy7HV6tEyZmHtQaXfWYaA', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgyNzgsImV4cCI6MTc0MzcwMTg3OCwianRpIjoiSUQuekRIdU5ucEVraVJKTzNnck92TnpublJFNWNVN0RPNjNZaEg2cGpUY2VwdyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjM5Y2RmOThmZmY1ZWYyNWYxODA0ZGE5OTNhZmYyMmNlIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IkkyV2lmUkFOaGJ2eG9hSW5FSjE0UlEiLCJlaWQiOiIwMDAwQSJ9.ReeNEH1q_iLFCZzYpQcTeUjbH9L7Y3vfKssY2PKZwrfjR_xHhIHjXWdS9senJyzUMxrLwkNKs_7A1wus9c8dqGBaOIk9e1Omh9TqXT3oZMMhGfLavsjWC4Y9CqqIHCY8DStWsvyn6ZaHMusNwYAHNchx3uvMj4bTV_KSLF7ry0BKuRv9Og-DouWtYdJJ6M2ZwQAQAyJWNGtNy8gdLKiJAiUBPPJ1jPKpdQpJxcScCIWo89hOCRI0oESZ3Od_YJIqcqSOS7e7CMxTqq3bV5-IrNhsSBaylaTgLZvuh_b2rBXU3dOg2zc52xwlZUig38Y3URe1EnbhLUGc7H_Uov9jyg', 'expires_at': 1743701878, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698278, 'exp': 1743701878, 'jti': 'ID.zDHuNnpEkiRJO3grOvNznnRE5cU7DO63YhH6pjTcepw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '39cdf98fff5ef25f1804da993aff22ce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'I2WifRANhbvxoaInEJ14RQ', 'eid': '0000A'}}
[2025-04-03 16:37:59,261] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698278, 'exp': 1743701878, 'jti': 'ID.zDHuNnpEkiRJO3grOvNznnRE5cU7DO63YhH6pjTcepw', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '39cdf98fff5ef25f1804da993aff22ce', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'I2WifRANhbvxoaInEJ14RQ', 'eid': '0000A'}
[2025-04-03 16:37:59,261] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:37:59,285] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:37:59,290] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:37:59] "[32mGET /auth/callback?code=TBCtoRb3r5-jJUwXSzdBAjAY6cIASS0BgoS6qijIYkE&state=xTmFDGUwt7CMqufEjHjCq8uHFuS724 HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,202] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:38:04,203] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:04] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,214] [DEBUG] [app] : Asignem nonce a la sessio actual: 3038912e4b67eb423d49c5efd38db6bc
[2025-04-03 16:38:04,214] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:38:04,215] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:04] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:38:04,831] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:38:05,789] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:38:05,790] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmo5eEozQ1RJQTVJakhUVlFlZFdDWHlGd21KMlpKblZQbDVjTklVcHBEN28iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTgyODUsImV4cCI6MTc0MzcwMTg4NSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.UchmyLpzk1dhBud81U_wMauRVF7RKJx-9y09q1OvSDGXhHatNgUBrnuhg-dDuAJOmMk2873KWdIU-ht1Q8bMuMSH5vpnMUaPWdbQmuTtlHuN6_02thG97wYtwJ5JYYncOy6e2OmB1-Ky4YFYsoeCKCd2KaxcB_GgF4NSTZFSPYKvqM3Du5mqYpaJCnEFI_w0so8lfJavaKawRi8skwcpqZ-tBRnzekjxcIrWJoHG-ptr7yMPLFLERz_cVgagxK63HMtfBqIpFJZbAuNOiQPmXgar07BPh_KFEsn3SqMrbD5Ot_fgbOQ0dx7hdde4w5S6HASCGMZG_bovVkfMRKNFrg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTgyODUsImV4cCI6MTc0MzcwMTg4NSwianRpIjoiSUQuWXNWWDUwVW1CZGlBZXc2bE9Ha3NYNHRRR3pqbVRpVlE0dnl2UVk1QUp0NCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMwMzg5MTJlNGI2N2ViNDIzZDQ5YzVlZmQzOGRiNmJjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6IlJLUXBNS0FxTGlwMklFVS1vdXpEMEEiLCJlaWQiOiIwMDAwQSJ9.VxcS_D6MuMXug6h2dG5tYLTjEtu3FuLZP3qUsPVmAQR7TWdH5IktDkT8s6XlVlcy7ksfrXDYjLHaoyehuO3Ud6Eyn6KTA_Narn7lBIG0fMKP_RB7eVOz3ig541uikvvZQ5070A7HVm5TMDXXxm-DmtLyqMFowf4tJ2LzLEBY5xpABqrV8s6-iCw8BptV5Vrc7v8NnSG9JBWPWvbKAl6lq-dVsDPybG1Z-YUaCF7hPODLhLC20Uf0rEuILFA4eph4hQJK7i3bypJ4ydYcD-P2vls_jJEsxLUtcM7Wgbm460oPaxs3olTywH9O4N3hoelmsp-lVWM9ySrNFjhQ3Dpn7w', 'expires_at': 1743701885, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698285, 'exp': 1743701885, 'jti': 'ID.YsVX50UmBdiAew6lOGksX4tQGzjmTiVQ4vyvQY5AJt4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3038912e4b67eb423d49c5efd38db6bc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'RKQpMKAqLip2IEU-ouzD0A', 'eid': '0000A'}}
[2025-04-03 16:38:05,791] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743698285, 'exp': 1743701885, 'jti': 'ID.YsVX50UmBdiAew6lOGksX4tQGzjmTiVQ4vyvQY5AJt4', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '3038912e4b67eb423d49c5efd38db6bc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'RKQpMKAqLip2IEU-ouzD0A', 'eid': '0000A'}
[2025-04-03 16:38:05,791] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:38:05,793] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:38:05,793] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:05] "[32mGET /auth/callback?code=Nxa9NAGdqImJgezitylWRqWShqRhAVTh97eS51jMvTY&state=p5XsMn3NT4Lpykp6VIBF0rVtvVmhbr HTTP/1.1[0m" 302 -
[2025-04-03 16:38:05,805] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:38:05,806] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:38:05] "GET / HTTP/1.1" 200 -
[2025-04-03 16:52:05,369] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-03 16:52:05,369] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-03 16:52:08,605] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:52:08,609] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:08] "GET / HTTP/1.1" 200 -
[2025-04-03 16:52:14,211] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-03 16:52:14,212] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:14] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-03 16:52:14,220] [DEBUG] [app] : Asignem nonce a la sessio actual: 499f7ad70038068184791eb925e248ad
[2025-04-03 16:52:14,220] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-03 16:52:14,221] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:14,904] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-03 16:52:14,906] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:14] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-03 16:52:16,068] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:17,074] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-03 16:52:17,076] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-03 16:52:17,989] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-03 16:52:17,996] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjA5dkV4VVdDeTZCUkY3RHlEYXRtZzRXMEo1S2hLTGkxMGM1T1llVWpJZ1kiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM2OTkxMzYsImV4cCI6MTc0MzcwMjczNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwib3BlbmlkIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQzNjk2NDkzLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.l_sMMVrUYttl7yxSn3KIZjJe20aP3y-vT3q002lZIf5k3Y8xClQ77Kg_G9o8VkRTTRHTihR0OFhowde8KCYLTwv4VgEaJN0KvMtpvOdYolsuDX103iayC9qA5cxWWrGTiCJRujsQdHUuFCPaUYSUg9p5O6E_yXX9DMjf20U7PT-i2Hu3nqS-984GFnsEWU5hy6ur0POdVAUWZjwGQ4w2NLCcqtvS58yuUNTXsb9HdNSQPrKNZC4amGhw3kfMjk6Wx9P-5Qwd78kRLTWYkY-u2VKpFw8MiJsj1u4dffa5nG5wE-qqp1A29JSwpeqPUpo_gxTDBCHHXIR60fn8_08x6A', 'scope': 'profile openid email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM2OTkxMzYsImV4cCI6MTc0MzcwMjczNiwianRpIjoiSUQuYXB3UUtiMUEzTnRuc1c5aDBWdmlRZUxaMUNvRHdGNV9XVDdxRHNXMW9PcyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQ5OWY3YWQ3MDAzODA2ODE4NDc5MWViOTI1ZTI0OGFkIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0MzY5NjQ5MywiYXRfaGFzaCI6ImpKZWU4eHFQdlFhN0tyZVdsMUVMLWciLCJlaWQiOiIwMDAwQSJ9.W8IKMZHQN3QPKeIhlUw7An74r2kAPXpH2x69PvKpQOUBD44c-9OpQ_a8VySt7rKpDqbbK-QIj1pclmwDiAOUE6-dn6hBozPTBB4B_VmFp7L3pDjd-yaP1LmzEDgOgIngEGboeY61O57jcb-wAmZrClBW2q8EopN6qE8XEc-HdDTftj9ffVHnRyphvFqF375rOYb1X2OLMVByi8ln9Mu0GfS6zfSFmU9lYhnNG_A-t6wVTE_F4SGIHBoRbD5LwMHZhevMF9PSRbzREuWPtWenAaGYLZkVxu67Lur4zObaVu6CrqHo9olcLyLZIf94QagXm225fr2xq7nuNebINi-VhA', 'expires_at': 1743702737, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743699136, 'exp': 1743702736, 'jti': 'ID.apwQKb1A3NtnsW9h0VviQeLZ1CoDwF5_WT7qDsW1oOs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '499f7ad70038068184791eb925e248ad', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jJee8xqPvQa7KreWl1EL-g', 'eid': '0000A'}}
[2025-04-03 16:52:17,996] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743699136, 'exp': 1743702736, 'jti': 'ID.apwQKb1A3NtnsW9h0VviQeLZ1CoDwF5_WT7qDsW1oOs', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '499f7ad70038068184791eb925e248ad', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743696493, 'at_hash': 'jJee8xqPvQa7KreWl1EL-g', 'eid': '0000A'}
[2025-04-03 16:52:17,997] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-03 16:52:18,009] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-03 16:52:18,011] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:18] "[32mGET /auth/callback?code=e6-BiB8b9jvyvkZJmRMsvPMjcYnB-IpvW6JtAOvPDxk&state=rQrVUvTfre6LakR6M8JS0ehaMJmlb9 HTTP/1.1[0m" 302 -
[2025-04-03 16:52:18,021] [INFO] [app] : Usuari autenticat.
[2025-04-03 16:52:18,022] [INFO] [werkzeug] : 192.168.1.36 - - [03/Apr/2025 16:52:18] "GET / HTTP/1.1" 200 -
[2025-04-04 15:32:26,642] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:32:26,644] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:32:37,213] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:32:37,214] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:32:52,510] [INFO] [app] : Usuari no autenticat.
[2025-04-04 15:32:52,516] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:52] "GET / HTTP/1.1" 200 -
[2025-04-04 15:32:52,988] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-04 15:32:54,296] [DEBUG] [app] : Asignem nonce a la sessio actual: 5201ffccb93f51b564bfb1e50879c7a9
[2025-04-04 15:32:54,296] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-04 15:32:54,298] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:32:55,197] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-04 15:32:55,200] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:32:55] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-04 15:33:11,784] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:12,801] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-04 15:33:12,806] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:13,751] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-04 15:33:13,766] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjV4V1pUcE1mdEhjNHFMM204MmlUNUVfU05JcjdKS1lXRzctZ0R3TmRQelEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM3ODA3OTIsImV4cCI6MTc0Mzc4NDM5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQzNzgwNzkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.iRvKnRTYYg6fVF8m1YIdGIE20S3YUH5abrBuege7VnxE3o3Hsmvw8Q6jsTu2TlwAFGNNIa8OVDw-ZKy5usSlB4XwKKdZRGO50gV19MrDMQN6WT9XrbyI7Fn0z-llTGl36vB5m57M3mZLe-3PPrb9Nac3a__-S2AmFlUb1COA_DCt3tdLzJGSBZNfSW59S5BOMFwpaW-sPtBY4vtt3iTqNgy8y3xgMbJfJbPLEm3EwejL2IqC0qg09uOycR6lF64XapRlqE9NNiNRiQ5jslFyt6D915v-Tu9au_iISruZjJmURSdAqv9rgEJrixRNcAJQFyHqtH4lgj_c2jbwkH-Twg', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM3ODA3OTIsImV4cCI6MTc0Mzc4NDM5MiwianRpIjoiSUQuc29udS1HbnJQSU9RMW5EWXUxMXVUZWpMMm5lc3phU1hEMzgzMjJGdExrVSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjUyMDFmZmNjYjkzZjUxYjU2NGJmYjFlNTA4NzljN2E5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Mzc4MDc5MSwiYXRfaGFzaCI6ImxQWVdYNXp1VlVEd1RVcDRkNzRsWEEiLCJlaWQiOiIwMDAwQSJ9.cO67zgiYTWdjRLATeUEWNO6T6qcRgzM3MLwVcxyH_R75xqMHeK1-ECCqNCAG0i-yHzZ3FcJpKgkNNZcHLfC9UEth0RqTzTxVZ3uydZed_9v8X51Vhfh2lXOs_S84Yy5r9-AnRK_JW8XFKatjEzpRbb74n14zLDX7b_2uAd8WLKwGNv56mVgJs7dtzJyeRyivps-8BD3oR9FCgC4kSEt_4PJ9jwqVW3ES8q6y5OxsGQU-a-WZrL6ZbH7CW4T1zvsoyj6fw2wi4zC6Xqy_Z-s7enFMBtC55P9jz9nCsNbks5UGR_0_at6nBEOo-uvdy44Fx9HSSgcjuHNNtE53ZC3cDQ', 'expires_at': 1743784392, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780792, 'exp': 1743784392, 'jti': 'ID.sonu-GnrPIOQ1nDYu11uTejL2neszaSXD38322FtLkU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5201ffccb93f51b564bfb1e50879c7a9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'lPYWX5zuVUDwTUp4d74lXA', 'eid': '0000A'}}
[2025-04-04 15:33:13,767] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780792, 'exp': 1743784392, 'jti': 'ID.sonu-GnrPIOQ1nDYu11uTejL2neszaSXD38322FtLkU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5201ffccb93f51b564bfb1e50879c7a9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'lPYWX5zuVUDwTUp4d74lXA', 'eid': '0000A'}
[2025-04-04 15:33:13,767] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-04 15:33:13,817] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:33:13,819] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:13] "[32mGET /auth/callback?code=37R9gNTDR4Xxpgfe-URVUNy6eQvi-F7xurv3LEU3tnA&state=qtPlLsEKUw0PCaMJ4K5w97zxyZFpLa HTTP/1.1[0m" 302 -
[2025-04-04 15:33:13,828] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:33:13,828] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:13] "GET / HTTP/1.1" 200 -
[2025-04-04 15:33:18,226] [ERROR] [app] : Access denegat token invalid: module 'jwt' has no attribute 'decode'
[2025-04-04 15:33:18,227] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:18] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-04 15:33:18,237] [DEBUG] [app] : Asignem nonce a la sessio actual: a83e0807b8426a0b4bb88409438dab90
[2025-04-04 15:33:18,237] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-04 15:33:18,238] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:18] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-04 15:33:18,864] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:33:19,892] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-04 15:33:19,896] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjc2a2ZveXpSam1iZi1xd2NqaXBXQ19fTmY1V2Z0YlJxYTJzOE9FTUdZa1UiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDM3ODA3OTksImV4cCI6MTc0Mzc4NDM5OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQzNzgwNzkxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.edtVMSUukCbazdO4xlpjDBw9CFUFDZIA1e8ba0MCQfBHwMO_H0_ibT-Pk2j7kmgFDAPo673vnztF1v7kvgHKLeEiqKlSN28MSv6P2gr21RACwQxGekFvDQ7uadBIKscpAhz-4tQ9EIP73R8BGa4MVT-EKlbbUHTLBKo03GHSiJib-af4BPnsoPSyfONgbEBDlmH6wXYQoW6q4X8ge6QpLWnMDM2ojVOsb6LFxoxHxdLtMt-3i1LRE7ngvhWVb14oB7aIkM2fDQHxO7oUiqREPeSdJN9rJ88Sy4PIj8gyGAtqKiOL97zKNGUC8zUtmEgwvzn-H4MHLxinagYS9oVLiA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDM3ODA3OTksImV4cCI6MTc0Mzc4NDM5OSwianRpIjoiSUQuNFBWWEd6UWV3Yzl4MUM5MkVpQjdQRFg4VHlrcmw1YlI5WE5VNEJhRUp1SSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImE4M2UwODA3Yjg0MjZhMGI0YmI4ODQwOTQzOGRhYjkwIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0Mzc4MDc5MSwiYXRfaGFzaCI6IkNhSzRudnRDZjVORk9BS0UtVGhVNUEiLCJlaWQiOiIwMDAwQSJ9.optIlpvRlxevR306fNR2XD5hyfVBfOPPlst_91BM8aq8vjeNcu7yvfkf-T0BVprtW_Kjvhm6PPE-_hkk3Sm87cemrR9WyT0z80KMCxZRjdQ3VuMOTOgaJMSAe3o4VarKc1jSwugXHYmb2eNAM-JMxPQAwe2EiTi_Yxogb4tXS4Hd0GhBCTcpk-A5Gya6dz7jDDJxJBum0EpmnnLM7GtKZYqkDk6c99kqmiMeO3RDEtAf2wGd3xUcg8EvgwllYStBgKtK6evVEBc_aLHyuZkZSbuUeIgL7-KwxuLg7h6L0mf7eDN_SWLDcNIcoh77wdELMx6n7wX20SvKVCIW0hd7GQ', 'expires_at': 1743784399, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780799, 'exp': 1743784399, 'jti': 'ID.4PVXGzQewc9x1C92EiB7PDX8Tykrl5bR9XNU4BaEJuI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a83e0807b8426a0b4bb88409438dab90', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'CaK4nvtCf5NFOAKE-ThU5A', 'eid': '0000A'}}
[2025-04-04 15:33:19,897] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1743780799, 'exp': 1743784399, 'jti': 'ID.4PVXGzQewc9x1C92EiB7PDX8Tykrl5bR9XNU4BaEJuI', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'a83e0807b8426a0b4bb88409438dab90', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1743780791, 'at_hash': 'CaK4nvtCf5NFOAKE-ThU5A', 'eid': '0000A'}
[2025-04-04 15:33:19,897] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-04 15:33:19,899] [INFO] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:33:19,900] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:19] "[32mGET /auth/callback?code=UWpgHHTI4Cw2SIicp1nYqN8K7CLjOrB3uLq-UQPZlJY&state=Wgjvq7b0HxibJeP70vQBhMovo72dyj HTTP/1.1[0m" 302 -
[2025-04-04 15:33:19,912] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:33:19,913] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:33:19] "GET / HTTP/1.1" 200 -
[2025-04-04 15:45:37,923] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 15:45:37,923] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 15:45:51,791] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:45:51,796] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:45:51] "GET / HTTP/1.1" 200 -
[2025-04-04 15:45:58,747] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:45:58,760] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:45:58,763] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:45:58] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:46:58,996] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:46:58,996] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 15:46:59,003] [INFO] [app] : NEW full_name: PAblo Franco Carrasco
[2025-04-04 15:46:59,003] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:46:59,006] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:00,058] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-04 15:47:00,063] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-04 15:47:00,064] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'PAblo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'PAblo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-04 15:47:00,066] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:01,160] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-04 15:47:01,162] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'PAblo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'PAblo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-04 15:47:01,170] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:01] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-04 15:47:01,181] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:01,183] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:01,184] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:01] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:47:03,714] [INFO] [app] : Usuari autenticat.
[2025-04-04 15:47:03,714] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:03] "GET / HTTP/1.1" 200 -
[2025-04-04 15:47:05,431] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:05,433] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:05,435] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:05] "GET /profile HTTP/1.1" 200 -
[2025-04-04 15:47:11,814] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:11,814] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'PAblo Franco Carrasco'}
[2025-04-04 15:47:11,819] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-04 15:47:11,819] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-04 15:47:11,821] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:12,804] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-04 15:47:12,805] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-04 15:47:12,805] [DEBUG] [app] : update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-04 15:47:12,806] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-04 15:47:13,792] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-04 15:47:13,795] [DEBUG] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-04 15:47:13,799] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:13] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-04 15:47:13,811] [WARNING] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 15:47:13,813] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 15:47:13,814] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 15:47:13] "GET /profile HTTP/1.1" 200 -
[2025-04-04 16:05:57,703] [INFO] [app] : Usuari autenticat.
[2025-04-04 16:05:57,704] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:05:57] "GET / HTTP/1.1" 200 -
[2025-04-04 16:08:47,170] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-04 16:08:47,170] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-04 16:08:48,977] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 16:08:48,980] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:48] "GET / HTTP/1.1" 200 -
[2025-04-04 16:08:51,446] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.76kfoyzRjmbf-qwcjipWC__Nf5WftbRqa2s8OEMGYkU', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1743780799, 'exp': 1743784399, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1743780791, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-04 16:08:51,458] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-04 16:08:51,461] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:51] "GET /profile HTTP/1.1" 200 -
[2025-04-04 16:08:52,579] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-04 16:08:52,579] [INFO] [werkzeug] : 192.168.1.36 - - [04/Apr/2025 16:08:52] "GET / HTTP/1.1" 200 -
[2025-04-10 14:38:33,893] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-10 14:38:33,893] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-12 16:54:05,387] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-12 16:54:05,387] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-12 17:27:23,205] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-12 17:27:23,205] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:20:45,538] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:20:45,539] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:21:00,460] [INFO] [app] : Usuari no autenticat.
[2025-04-17 09:21:00,465] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:00] "GET / HTTP/1.1" 200 -
[2025-04-17 09:21:00,956] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:00] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-17 09:21:07,216] [DEBUG] [app] : Asignem nonce a la sessio actual: 33ef1c0c00bb8ec0c5f74e75691405a1
[2025-04-17 09:21:07,216] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-17 09:21:07,218] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:21:08,187] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-17 09:21:08,192] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:21:08] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-17 09:22:05,684] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:22:06,660] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-17 09:22:06,664] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:22:07,565] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-17 09:22:07,576] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm9XRjNxYWtTaWVESkxFbzR1a2tGc3FPSTZzR2Y4T09oQXpzLUw3YUdIQWsiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ0ODgxNzI0LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.fSgOxHc8QGHkXMeBaGqNHsrzm3O284fPOO89OL7vHp8zrSSMx0PqQQKUkj2iF5rDwTyiGOViUO7rUqSBS7NR-RS2-p1BMhQPPakCYaHw6WgOP9dEEFbyTam4QDET4PuH18VG9YXJJHN7QsYV78itFYIqJettQunVdVuD-nl0EgSG2ID2ImjwUY44xoc71TRivGvjS7G06-8l445DpgeZfMYZx8_YhoYq72gimNUuSMPN2CadKtWlwVLnkg9bo3bk9o3l3f_mbhIBYMUO5P2e58PEoXH4yKS3PJjE1ghXnnhKwzP95yp2EJ0z2c8ad8i0zHGZdeOwmWyGc3B5VcoqyA', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA', 'expires_at': 1744885326, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744881726, 'exp': 1744885326, 'jti': 'ID.XTm15FbxT7XeOStrkvJZ0Gfe6LsLk79x4p3holTFyZY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '33ef1c0c00bb8ec0c5f74e75691405a1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744881724, 'at_hash': 'hjhz6BzG0jSr6UFgjOh3IA', 'eid': '0000A'}}
[2025-04-17 09:22:07,576] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744881726, 'exp': 1744885326, 'jti': 'ID.XTm15FbxT7XeOStrkvJZ0Gfe6LsLk79x4p3holTFyZY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '33ef1c0c00bb8ec0c5f74e75691405a1', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744881724, 'at_hash': 'hjhz6BzG0jSr6UFgjOh3IA', 'eid': '0000A'}
[2025-04-17 09:22:07,576] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-17 09:22:07,619] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-17 09:22:07,620] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:22:07] "[32mGET /auth/callback?code=ATOQq1-9A9lDjtrmYzQ33qVHHWt1OYMaTgegTpN7Njs&state=tXesNui4CpFCOA2jKyclzeMjBDI2Lx HTTP/1.1[0m" 302 -
[2025-04-17 09:22:07,628] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:22:07,628] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:22:07] "GET / HTTP/1.1" 200 -
[2025-04-17 09:26:50,871] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.oWF3qakSieDJLEo4ukkFsqOI6sGf8OOhAzs-L7aGHAk', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744881726, 'exp': 1744885326, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744881724, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-17 09:26:50,873] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-17 09:26:50,876] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:26:50] "GET /profile HTTP/1.1" 200 -
[2025-04-17 09:27:05,300] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:27:05,301] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:27:05] "GET / HTTP/1.1" 200 -
[2025-04-17 09:36:43,317] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:36:43,317] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:36:53,106] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:36:53,111] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:53] "GET / HTTP/1.1" 200 -
[2025-04-17 09:36:56,677] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:56] "[32mGET /profile HTTP/1.1[0m" 302 -
[2025-04-17 09:36:56,686] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA
[2025-04-17 09:36:56,687] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODE3MjYsImV4cCI6MTc0NDg4NTMyNiwianRpIjoiSUQuWFRtMTVGYnhUN1hlT1N0cmt2SlowR2ZlNkxzTGs3OXg0cDNob2xURnlaWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjMzZWYxYzBjMDBiYjhlYzBjNWY3NGU3NTY5MTQwNWExIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4MTcyNCwiYXRfaGFzaCI6ImhqaHo2QnpHMGpTcjZVRmdqT2gzSUEiLCJlaWQiOiIwMDAwQSJ9.ZvHwJNZc5YvYiRg6xjOFQW6a_or4VcCxH_5wuCakMgQQh1DQ2c0yZahQv83Kh53NaKZmhtOfEvK1TGvtUpzY1zBI5bztw3Mh420TGP6TUSC8CZLPqVVVip69CRbq6_-HUaf1v3Z_TJzoVHGxOJAOU5rKTa9T5vYd1NnMYPOXjfXQM93DtR6RWVN2b-_b0TdT5WJE7pFexrEAxMIpDNBsL8bWD7z_dZbQPadV77WMnnHuye4v2j9jp8qtAfgCzZl1eRIoboDZNgxqtcftCkHvNMP_hvpU44zZXuxeM9P0hpe6HTrAMWaxfGEP9O65Y70A8zf2GLexC9HIh2Zz9XYBaA
[2025-04-17 09:36:56,687] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-17 09:36:58,408] [INFO] [app] : Usuari no autenticat.
[2025-04-17 09:36:58,408] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:36:58] "GET / HTTP/1.1" 200 -
[2025-04-17 09:39:08,418] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-17 09:39:08,419] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-17 09:39:11,191] [DEBUG] [app] : Asignem nonce a la sessio actual: af37f33c3cd4ebc65b929f388a440587
[2025-04-17 09:39:11,191] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-17 09:39:11,192] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:12,039] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-17 09:39:12,041] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:12] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-17 09:39:18,598] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:19,539] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-17 09:39:19,544] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-17 09:39:20,437] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-17 09:39:20,440] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmhzX28zNVE5NjJiVXZhOVE3V3ZXQVQybERsRDhpYlV4RlhGN2V1bHh2VDQiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ4ODI3NTksImV4cCI6MTc0NDg4NjM1OSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJlbWFpbCIsInByb2ZpbGUiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ0ODgyNzU3LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.W8R8yqa87mcP3-wP2at9mWo1CP8qv9WHoYow2i9z6JvH9qZSDWzbaB8dCPYyVIiiflOgWO5iCGYns8-sNH25vgsbN9j3OBS9Dd8hdbzX8iUR8Pr4dDGpt1jVyAikYJWYAtle8NNFUV5Uu1zYckKFfBbEE5Q48S8McE6mrk_1i8QFCJ4P1VUNVmrPMpStO3-wMrj5EvrdR9_LVl0zPSdiFaBc1UWX40HSVXYQ86e6tcdeWY3PbUy_Ovkp_AnhGGackB2Dj4e9xWIzcd5VXy8hmLHQ0IsukqjUgCtKmYFmDLgfCU5R1YuPcczrH2iShHNOPATUqHBcdt_b_pCUQvfwkw', 'scope': 'email profile openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ4ODI3NTksImV4cCI6MTc0NDg4NjM1OSwianRpIjoiSUQuTGsxRmlkUnVjZDdDVUo2LTFIQ21WNzFiN0p6aGxrRDN6RDlOeUE1aDJvWSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6ImFmMzdmMzNjM2NkNGViYzY1YjkyOWYzODhhNDQwNTg3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDg4Mjc1NywiYXRfaGFzaCI6IkRHalQ4OGQ4QXhLanhBTkU3SlhMSUEiLCJlaWQiOiIwMDAwQSJ9.Jv7URxJeYuyYrnxjNVk8wpL0RgNPxuLY7AF-xbe4apg-hWL05VbsnLmi1tjUu6G4Pu0ngwG-Izs7U_zX5EFvgvSObhE5kEXcbVc68joZ3xniM5wEXFrZ-4B3HMgmqucq83BSWebtbE3vfzOYbicQNAvdageWt_yEB9XsZGlr9vylctYlUXdRsrn6KIXuDxR7n6JUvATUgYDhCv4E7nxWUF4fYFMjv3xNuOhOh7tY2VYPIiSLf7PHaP6b4A6jdPXWRHEQHNxMpVj8Oqq2ZE7mExAgzVZkVEaNh1FaJb_jbfuHLL_-JTzd8pr6iCiA3asM-SH-sHhDwP_Zqpfb9Seq3g', 'expires_at': 1744886359, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744882759, 'exp': 1744886359, 'jti': 'ID.Lk1FidRucd7CUJ6-1HCmV71b7JzhlkD3zD9NyA5h2oY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'af37f33c3cd4ebc65b929f388a440587', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744882757, 'at_hash': 'DGjT88d8AxKjxANE7JXLIA', 'eid': '0000A'}}
[2025-04-17 09:39:20,441] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744882759, 'exp': 1744886359, 'jti': 'ID.Lk1FidRucd7CUJ6-1HCmV71b7JzhlkD3zD9NyA5h2oY', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': 'af37f33c3cd4ebc65b929f388a440587', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744882757, 'at_hash': 'DGjT88d8AxKjxANE7JXLIA', 'eid': '0000A'}
[2025-04-17 09:39:20,441] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-17 09:39:20,453] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-17 09:39:20,454] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:20] "[32mGET /auth/callback?code=Pcwmkwg9fR---5eClRPWyow5nrBy0kNMssCf9TGy7qQ&state=lD6aPq1vDcJuGkgS1C0d56aYD0wr0i HTTP/1.1[0m" 302 -
[2025-04-17 09:39:20,463] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:39:20,466] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:20] "GET / HTTP/1.1" 200 -
[2025-04-17 09:39:21,946] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.hs_o35Q962bUva9Q7WvWAT2lDlD8ibUxFXF7eulxvT4', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744882759, 'exp': 1744886359, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['email', 'profile', 'openid'], 'auth_time': 1744882757, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-17 09:39:21,948] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-17 09:39:21,950] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:21] "GET /profile HTTP/1.1" 200 -
[2025-04-17 09:39:23,147] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-17 09:39:23,148] [INFO] [werkzeug] : 192.168.1.36 - - [17/Apr/2025 09:39:23] "GET / HTTP/1.1" 200 -
[2025-04-18 09:53:49,613] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 09:53:49,613] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 09:55:39,913] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:55:39,919] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:39] "GET / HTTP/1.1" 200 -
[2025-04-18 09:55:40,689] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 09:55:43,210] [DEBUG] [app] : Asignem nonce a la sessio actual: 5abd84b687b7b0e306b5cce7718e63c8
[2025-04-18 09:55:43,210] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 09:55:43,212] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:55:44,584] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 09:55:44,586] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:55:44] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 09:56:12,088] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:13,078] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 09:56:13,080] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:14,011] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 09:56:14,044] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULlcwV1lDWTJhRElyYXJET1hQVkNaVFpTUEFWcGNzMXdfRVN5SnBNS0hHcm8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJwcm9maWxlIiwiZW1haWwiLCJvcGVuaWQiXSwiYXV0aF90aW1lIjoxNzQ0OTcwMTcxLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.a1H1Rm3hCTCbem8HJuZuK_iFym1cafJAZ5DLC6lgd0vldfaQ55N6OqLjoN2VyE56j9Q-qSfstzPGRlFpl5K2XAZIVNhwWy86aDkPHp6fSpJYfeHR11dCxRHPRlJx7WzKFwEbowRDFvLLxZqfSJI54mnsrKi_H1OiOynnpvZnUlD09Bpbvih87TsOwN0LxxyigwfxyRkdL8TKJWs7Pyi5j_hsGfT1sC2lxB7qvB3qPYq6i9yQcLrwR-sZCYFQbt-DDExePAiXOH_XhJ5deENAbuhgwe_9uZPGVhC1abxzDIFEyMbUVL9Y7EJW-vs1nxVmrQhX-LBX6cZ1pcDpiAy35w', 'scope': 'profile email openid', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w', 'expires_at': 1744973773, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970173, 'exp': 1744973773, 'jti': 'ID.JPvjB7s7Yg_7VgE8pXY9ZfSjWZ5OPyB4sL5g-3fBRB0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5abd84b687b7b0e306b5cce7718e63c8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970171, 'at_hash': 'IKFTwxSx83L7Cj8v9bRdjw', 'eid': '0000A'}}
[2025-04-18 09:56:14,045] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970173, 'exp': 1744973773, 'jti': 'ID.JPvjB7s7Yg_7VgE8pXY9ZfSjWZ5OPyB4sL5g-3fBRB0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '5abd84b687b7b0e306b5cce7718e63c8', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970171, 'at_hash': 'IKFTwxSx83L7Cj8v9bRdjw', 'eid': '0000A'}
[2025-04-18 09:56:14,045] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 09:56:14,138] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 09:56:14,139] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:14] "[32mGET /auth/callback?code=AnYARno3K-TiWxaC37XTwu81CP7ote35MmlO69eLrPQ&state=6uA9qLZ4kSKsMVBYoUURJn4zQQ0rJw HTTP/1.1[0m" 302 -
[2025-04-18 09:56:14,151] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 09:56:14,152] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:14] "GET / HTTP/1.1" 200 -
[2025-04-18 09:56:19,353] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:19,355] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 09:56:19,359] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:19] "GET /profile HTTP/1.1" 200 -
[2025-04-18 09:56:33,498] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:33,498] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 09:56:33,501] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-18 09:56:33,502] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 09:56:33,503] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:34,332] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 09:56:34,332] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 09:56:34,333] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-18 09:56:34,333] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:56:35,413] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 09:56:35,414] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-18 09:56:35,419] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:35] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 09:56:35,431] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.W0WYCY2aDIrarDOXPVCZTZSPAVpcs1w_ESyJpMKHGro', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970173, 'exp': 1744973773, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['profile', 'email', 'openid'], 'auth_time': 1744970171, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 09:56:35,432] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 09:56:35,433] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:35] "GET /profile HTTP/1.1" 200 -
[2025-04-18 09:56:41,388] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:41] "GET /password HTTP/1.1" 200 -
[2025-04-18 09:56:44,976] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 09:56:44,976] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:56:44] "GET / HTTP/1.1" 200 -
[2025-04-18 09:58:53,770] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w
[2025-04-18 09:58:53,770] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAxNzMsImV4cCI6MTc0NDk3Mzc3MywianRpIjoiSUQuSlB2akI3czdZZ183VmdFOHBYWTlaZlNqV1o1T1B5QjRzTDVnLTNmQlJCMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjVhYmQ4NGI2ODdiN2IwZTMwNmI1Y2NlNzcxOGU2M2M4IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDE3MSwiYXRfaGFzaCI6IklLRlR3eFN4ODNMN0NqOHY5YlJkanciLCJlaWQiOiIwMDAwQSJ9.T_eZXLWjOL0BX2HD8t-lgIXcVzgx7n_M9z-HWEd23b31BxE1stQcjnyxvk5Fc3Rao5mvjhj2dWXKfsi7ufOPC42NJdKdUKk_10JAcOcFTEwQGJFgZ-ubpO3okyaYDIDTe8uNjxrExRJ8oD7pY6h6SOBLq8Ee7kbxfsYHYWvuczAy3yiX3CQ5nD5QdaKTREHtK2qXKGRmB7kiIsBIeApGRtG2PT5-RDl7RY3N27BtRYnNf876mD_RmRm5Aobh9UmCHNQxJjCknoxPDZa6s6bGnYkQQor3wmEAP8IJIVZjvWnGb8R0DARdsvdMPdVGXGiRpKU5p_iV6hnrA4Rj5yaq5w
[2025-04-18 09:58:53,771] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:53] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 09:58:54,511] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:58:54,511] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:54] "GET / HTTP/1.1" 200 -
[2025-04-18 09:58:57,669] [DEBUG] [app] : Asignem nonce a la sessio actual: 1d54938868d3e30fa08bb68fa6d0cd56
[2025-04-18 09:58:57,670] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 09:58:57,670] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:58:57] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 09:59:33,474] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 09:59:34,525] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 09:59:34,526] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmFibFdGZEtqVUlUbl9IOF9neC1JbWlva2tJd29yeXFoNF9uYm5zQzBNQnciLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwMzY0LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.oEbspDqAgyDAtv7r7pNIEjKGn3JpDWpixwI0aNHzepMwscoqUNkCC1DqJTuKmPcCR2DwSvdU2Ov_ko2ojbK3owqzSD-APsn_9VxfQ7qu2SrbQJ4SaTc8xVduLGO3kJDrJdodXNgcymayk9Z4K4lBKh7HFOQyRTRgviid44ebMmEG43AYtHZLeKJ5bnps-7Z2a37mzzjOd3tnVsFHurW4gwRM0xQc9uFvUQn2F0heOo2YpUcBlmAsJLFVCHgK7dN_V0T1UVO1S6qCvtb59Tb8VOpqey2LLVoDzS8Pz_Nzc0gBUyObmhvxFgVblrpL4Bte8Jhl-DCUdW3gW8qDH9Ig_g', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA', 'expires_at': 1744973974, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970374, 'exp': 1744973974, 'jti': 'ID.nQZFeAbDpYEqW-RbvEReRR-iw8k-iHYsRFkP23JYMkA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1d54938868d3e30fa08bb68fa6d0cd56', 'preferred_username': 'user9@test.com', 'auth_time': 1744970364, 'at_hash': 'j8mbCW_xxpY0drPCJWWElw', 'eid': '0009X'}}
[2025-04-18 09:59:34,526] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970374, 'exp': 1744973974, 'jti': 'ID.nQZFeAbDpYEqW-RbvEReRR-iw8k-iHYsRFkP23JYMkA', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '1d54938868d3e30fa08bb68fa6d0cd56', 'preferred_username': 'user9@test.com', 'auth_time': 1744970364, 'at_hash': 'j8mbCW_xxpY0drPCJWWElw', 'eid': '0009X'}
[2025-04-18 09:59:34,526] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-04-18 09:59:34,528] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-04-18 09:59:34,529] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:34] "[32mGET /auth/callback?code=XPVT9Zzuyo6QlMjT97vd2oC7ZoGHnczoGywCJLqAwmE&state=53RhUgFHhsII5zKQedHhUG3TETpy0n HTTP/1.1[0m" 302 -
[2025-04-18 09:59:34,538] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 09:59:34,538] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:34] "GET / HTTP/1.1" 200 -
[2025-04-18 09:59:41,064] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA
[2025-04-18 09:59:41,064] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzAzNzQsImV4cCI6MTc0NDk3Mzk3NCwianRpIjoiSUQublFaRmVBYkRwWUVxVy1SYnZFUmVSUi1pdzhrLWlIWXNSRmtQMjNKWU1rQSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjFkNTQ5Mzg4NjhkM2UzMGZhMDhiYjY4ZmE2ZDBjZDU2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzAzNjQsImF0X2hhc2giOiJqOG1iQ1dfeHhwWTBkclBDSldXRWx3IiwiZWlkIjoiMDAwOVgifQ.BgTy5xmpzEL40X9p711wBEirRcguz5qpa_Ck9IVF6kK3_GlWCpa-AfGUPkv5lqVk2q12-tlBltiwz7n28_FNtp220VSzYRTxwbSIdTCEX35HI48Xk93rolfpcqXAq8n3DjjrxHbXghWFdYMW4qgIfAGJX0FY1n2g-OM2uoLlyBrYaUNfBmWBmgm-mlTRUCJf9Nx1S1EZItcd2GF3c9hiGUSf7Ry6fWLucLxzFv6tNZwpWeUkDWGIq9GZjtsy-Pq47jH5HN1SrxI6PwFaG5nr8S8cBlU0Fp5l6pwetYCXh68FK5zK97dKRfGqc2AiCw_N7okKmPF8lkyjUTlGsJ4OeA
[2025-04-18 09:59:41,064] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:41] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 09:59:41,694] [INFO] [app] : Usuari no autenticat.
[2025-04-18 09:59:41,694] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 09:59:41] "GET / HTTP/1.1" 200 -
[2025-04-18 10:01:32,771] [DEBUG] [app] : Asignem nonce a la sessio actual: 9feb979e64abf94f07fd7ca2e59bc7af
[2025-04-18 10:01:32,772] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:01:32,773] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:32] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:01:42,645] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:01:43,703] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:01:43,704] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULk9KSDBEOFpLM1JmUHlrZ19wZ0VFbVN4N2ZrYWctaUV3dHZScmIwaXdaUk0iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA1MDMsImV4cCI6MTc0NDk3NDEwMywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNTAyLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.gHol2fMzy4HkxaePPLNVR-VylApDYf_V-khbafrzYn96XHdMKlHS4U8MGuZ6f2q5JReGFDSoZUgsecG3DlfFLMhkMSq3HkUg79fCZ02BlSCU7ug3RjzdYmtrCANsBXHQWDrpjnaquiAoCzguNmUKY9w47A-Z1QNEXYlWZLzj2dreqZqBzjV0jOUhckPKtp-vZ-mtJ7Umw_1yrVSxT_lNBfUjdsTOhlszyR56NYsBkrHXnSyaKxMO69d3r5drxGV9FyBsJqAIF40S13hMpwvyrCjkNTZUSSmqke6wexYMjeVS1AmE5VTvDn6CUCJCw_zw6aTVSc4QMH_d_-QnbfjuqA', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA1MDMsImV4cCI6MTc0NDk3NDEwMywianRpIjoiSUQuZk82RmxWYVhBVjk5ZXY3N0JyYW5ZQlJsdjktNFczR0ZlT1pDQ1E2SXBNYyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjlmZWI5NzllNjRhYmY5NGYwN2ZkN2NhMmU1OWJjN2FmIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDUwMiwiYXRfaGFzaCI6ImJkVFJudjB1ampCMXVyOVZBZWFxRWciLCJlaWQiOiIwMDAwQSJ9.EgpYeNGUeRICJPyG5-nlLfuikxvaMxFI69pyTqJI21_OR1SEV3vO4ryyCnyOIXiT1R5Qe-rQff1lykWsrVLA1gtJls0RXaI-sbWQ2VKsrq2_bGucpDMyRocvHazICx7caIRWnTYDpFWN7ENSXuQrFtHiqee7eg5OIlN4wFz1Le5p1WQQrIdGXESg21qp7MlflbdIGrahr1n9V6MvY0QZHJ-pnqhQilitva55HJy915GYm3_VYY-riERHI_XozygEmg0-Q5ou1x6AxhxfFYUlZhNjOxk98HJKbplSUoy_3xnkrHAqKdGaFF1tcz49YeFI3lYdYIBC1J2xzj5IztxfHQ', 'expires_at': 1744974103, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970503, 'exp': 1744974103, 'jti': 'ID.fO6FlVaXAV99ev77BranYBRlv9-4W3GFeOZCCQ6IpMc', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9feb979e64abf94f07fd7ca2e59bc7af', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970502, 'at_hash': 'bdTRnv0ujjB1ur9VAeaqEg', 'eid': '0000A'}}
[2025-04-18 10:01:43,705] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970503, 'exp': 1744974103, 'jti': 'ID.fO6FlVaXAV99ev77BranYBRlv9-4W3GFeOZCCQ6IpMc', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '9feb979e64abf94f07fd7ca2e59bc7af', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970502, 'at_hash': 'bdTRnv0ujjB1ur9VAeaqEg', 'eid': '0000A'}
[2025-04-18 10:01:43,705] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 10:01:43,707] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:01:43,708] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:43] "[32mGET /auth/callback?code=l5p-jkDRCC7nozPSZVQvV5O0ooyomOELfzZELgIRDHo&state=8JPlkdwz3a4TTUw4qWPSOE54Eii8w8 HTTP/1.1[0m" 302 -
[2025-04-18 10:01:43,721] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:01:43,721] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:01:43] "GET / HTTP/1.1" 200 -
[2025-04-18 10:02:22,868] [INFO] [app] : Usuari no autenticat.
[2025-04-18 10:02:22,869] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:02:22] "GET / HTTP/1.1" 200 -
[2025-04-18 10:02:52,280] [DEBUG] [app] : Asignem nonce a la sessio actual: 8f3090d656f2089bd2d1533043752cc3
[2025-04-18 10:02:52,280] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:02:52,281] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:02:52] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:03:11,732] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:12,747] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:03:12,749] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULmNTUDBBVnVOSWg1RkhiN1N4cFEyc1lYRHR1NGc0S1VWZTYxSzItWmI1blEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA1OTIsImV4cCI6MTc0NDk3NDE5MiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJwcm9maWxlIiwiZW1haWwiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNTkwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.i7LIE0L3s-GgJSeRgZgOj505ukZJ7es74StaNva0RLAYnlDyC2E5c1kAug7Gnw8MVFOuTb508oMTju7U8gwus7eHqB0E-MkDKRitlViivNOKroI-TrLpNYL0TiSRla_kt1KSsIrKtnxh3F4o2G58k0S-cQdgu9yEEqYPkHOcCiO-PpzoiaBN4XVjEQreDv4A3iTaZ-vEkDSu8FvSrZ6ZQJwvri3mOvIhzERg9I0IGqRnkNiuwh2Q1lq90Z8bYtr49btSKUsvxOWg3bPj3DriHyQ18euUoN8OULCkelIMwsG6uydqIfGRZ9JaZNh-GAL_n0YCueuewcAgfDJVOT7WJQ', 'scope': 'openid profile email', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28gQ2FycmFzY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA1OTIsImV4cCI6MTc0NDk3NDE5MiwianRpIjoiSUQuUzdqWVNOUkxvamdmLVVLTmliNU5aN3BUakRpWE1LTGhVdWFZYzhVRmFCTSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhmMzA5MGQ2NTZmMjA4OWJkMmQxNTMzMDQzNzUyY2MzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk3MDU5MCwiYXRfaGFzaCI6IlBGVU5yUVUyRjVyOWhCQ2MwSThTR2ciLCJlaWQiOiIwMDAwQSJ9.SRByn6nuYA-J-QK2OipOYAGJ6vI8k5opwQ9gphnfc4uOogjhkKlcU9VvOoyhCy4csTSxU52IUP8hXYTzrD1cjoblmFIi5vdNdZ14y6NXtQxfsJfJxwbOyIuv6WOZ-8Pf9xti-mhEjg4C2Au1-fXQThkr27QxpwYwuCcEsEFNH-u2lZ9F7m7uXkdCRZKpiJ-a_cObNSVdCZ8Rqls2UDfDdx85M4rKW8IzKxGy-ZAK8dMLOTS_Vgh8yynHbgOEkR-E35xAqvcY8ouRG3dV0CO3rP6rKgmZmZwxNHQ-ZNeAG1sHje_8NXWAAXku778ecXciiNsaztLnrVFdW7M5ttsWEQ', 'expires_at': 1744974192, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970592, 'exp': 1744974192, 'jti': 'ID.S7jYSNRLojgf-UKNib5NZ7pTjDiXMKLhUuaYc8UFaBM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8f3090d656f2089bd2d1533043752cc3', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970590, 'at_hash': 'PFUNrQU2F5r9hBCc0I8SGg', 'eid': '0000A'}}
[2025-04-18 10:03:12,750] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970592, 'exp': 1744974192, 'jti': 'ID.S7jYSNRLojgf-UKNib5NZ7pTjDiXMKLhUuaYc8UFaBM', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8f3090d656f2089bd2d1533043752cc3', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744970590, 'at_hash': 'PFUNrQU2F5r9hBCc0I8SGg', 'eid': '0000A'}
[2025-04-18 10:03:12,750] [INFO] [app] : Sessio info usuari: Pablo Franco Carrasco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 10:03:12,753] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:03:12,754] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:12] "[32mGET /auth/callback?code=NgzzZ0kvebGcKMqzldsJDBsTeZ3Z8CrI4-VraXRH1yY&state=Bu5CmPPtw1fqMNeEXhUujZDf15jnmn HTTP/1.1[0m" 302 -
[2025-04-18 10:03:12,763] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:03:12,764] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:12] "GET / HTTP/1.1" 200 -
[2025-04-18 10:03:18,292] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:18,294] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 10:03:18,295] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:18] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:03:25,717] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:25,717] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 10:03:25,720] [INFO] [app] : NEW full_name: Pablo Franco
[2025-04-18 10:03:25,720] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 10:03:25,722] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:26,492] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 10:03:26,492] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 10:03:26,493] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}}
[2025-04-18 10:03:26,493] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:03:27,533] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 10:03:27,535] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco', 'employeeNumber': '0000A'}
[2025-04-18 10:03:27,540] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:27] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 10:03:27,555] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.cSP0AVuNIh5FHb7SxpQ2sYXDtu4g4KUVe61K2-Zb5nQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970592, 'exp': 1744974192, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'profile', 'email'], 'auth_time': 1744970590, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 10:03:27,557] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 10:03:27,557] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:27] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:03:31,332] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:31] "GET /password HTTP/1.1" 200 -
[2025-04-18 10:03:35,058] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 10:03:35,058] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:03:35] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:23,335] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 10:05:23,336] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:23] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:35,259] [INFO] [app] : Usuari no autenticat.
[2025-04-18 10:05:35,260] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:35] "GET / HTTP/1.1" 200 -
[2025-04-18 10:05:58,961] [DEBUG] [app] : Asignem nonce a la sessio actual: 63aa09802e608770dd69bfde77521ffb
[2025-04-18 10:05:58,961] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 10:05:58,962] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:05:58] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 10:06:16,175] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:17,266] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 10:06:17,269] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm53QzRLVDhjV0VmVm92NXAySkRDT3JQbWNXY2g3RnNLSXZyUFB5N2JkNUEiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5NzA3NzcsImV4cCI6MTc0NDk3NDM3NywiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTcwNzc1LCJzdWIiOiJ1c2VyOUB0ZXN0LmNvbSIsImVpZCI6IjAwMDlYIn0.KwkRW7LMUicC8dBMEMvVEDmw0l6rMMENInGEg4Hoeu3hMwIvm1LtmhGG-ep_xoErVuoZUIzN7FTsCRQmh3Q934K2cndT4kIPz6L7hGcHyrVLXFuA6yN24OdnPeGGPJD8xvUdMoQvIpCftZfsmQYoaN1q8fww-Y2EDAlgbLP42Olmz9agpCKzAJFD8e6zHrlk5CdhfrG1UJfrg2yjnNgM96lgjcu6b1wyGzbsEEX8sVxAS61VYDFOT86rc2Np7FWwAA-EXU9FXvpaHye8lWjwqN3omahYT-LAM8SjgcGRFsgY-eXZCC1h7ItNjs5fmUsLg3zV1RfoWHSbv02xylDMOw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVtejZhdG5yZXNab3VZQTVkNyIsIm5hbWUiOiJ1c2VyOSB1c2VyOSIsImVtYWlsIjoidXNlcjlAdGVzdC5jb20iLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5NzA3NzcsImV4cCI6MTc0NDk3NDM3NywianRpIjoiSUQuR0FZSHlWRE84cEpqakR6U3ZLd3dCNFhqWnd5X0drWkVIN2xNMk1PcXRfMCIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjYzYWEwOTgwMmU2MDg3NzBkZDY5YmZkZTc3NTIxZmZiIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjlAdGVzdC5jb20iLCJhdXRoX3RpbWUiOjE3NDQ5NzA3NzUsImF0X2hhc2giOiJYRTBZcWJ5azdxR1FDeE52Zmh2VktBIiwiZWlkIjoiMDAwOVgifQ.NbcHv9zgkPYQ2kBHTsk3t6PgM5OT3tJDg_rJ3_ByEo7Bi_OGJEFifrthR7tqriCaWUPwPkSdmt5D3YIUem_hb0ImIqPhxMpvGMhEJq2EKtvSQ5o7doXFburRFhTVFgi0ApWP_i9QMwLkjALHGpzZVizjv7oSg6Ia9I1KBW-BMoaPkCM3zEqa9XHSxG5d0tqxszS_8s55zrNXDgti89OQIJJw_igCcvo9U4FEQWxw99nTSNZOE7s5TJ3s9NntNPCfNiOlMQQYTG0vJtsvldNtmD0xbSL8_1oiVIXqrT_lNGa4lG-9NpzLhn-SrQNBLt7_SdZTGtVv5matMBZV-27G6w', 'expires_at': 1744974377, 'userinfo': {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970777, 'exp': 1744974377, 'jti': 'ID.GAYHyVDO8pJjjDzSvKwwB4XjZwy_GkZEH7lM2MOqt_0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '63aa09802e608770dd69bfde77521ffb', 'preferred_username': 'user9@test.com', 'auth_time': 1744970775, 'at_hash': 'XE0Yqbyk7qGQCxNvfhvVKA', 'eid': '0009X'}}
[2025-04-18 10:06:17,270] [DEBUG] [app] : User parsed token {'sub': '00umz6atnresZouYA5d7', 'name': 'user9 user9', 'email': 'user9@test.com', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744970777, 'exp': 1744974377, 'jti': 'ID.GAYHyVDO8pJjjDzSvKwwB4XjZwy_GkZEH7lM2MOqt_0', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '63aa09802e608770dd69bfde77521ffb', 'preferred_username': 'user9@test.com', 'auth_time': 1744970775, 'at_hash': 'XE0Yqbyk7qGQCxNvfhvVKA', 'eid': '0009X'}
[2025-04-18 10:06:17,270] [INFO] [app] : Sessio info usuari: user9 user9, email: user9@test.com, eid: 0009X
[2025-04-18 10:06:17,274] [DEBUG] [app] : User trobat in db: user9@test.com
[2025-04-18 10:06:17,275] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:17] "[32mGET /auth/callback?code=T9taETdun2LdiOsqSLpBhhL_TUxp5hGt_YPBgHSvnHs&state=i08DnN6cVGY7ZLG06XGGILAksKhlS2 HTTP/1.1[0m" 302 -
[2025-04-18 10:06:17,285] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:17,286] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:17] "GET / HTTP/1.1" 200 -
[2025-04-18 10:06:20,190] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:20,192] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-04-18 10:06:20,193] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:20] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:06:23,965] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:23] "GET /password HTTP/1.1" 200 -
[2025-04-18 10:06:44,088] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:44,088] [INFO] [app] : chpwd user:{'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:44,092] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:44,992] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/user9@test.com HTTP/1.1" 200 None
[2025-04-18 10:06:44,993] [DEBUG] [app] : Id de l'usuari: 00umz6atnresZouYA5d7
[2025-04-18 10:06:44,993] [DEBUG] [app] : pwd:Prueba123!
[2025-04-18 10:06:44,993] [DEBUG] [app] : newpwd:Prueba123Prueba123!
[2025-04-18 10:06:44,994] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 10:06:46,189] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umz6atnresZouYA5d7/credentials/change_password HTTP/1.1" 200 None
[2025-04-18 10:06:46,190] [INFO] [app] : Contrasenya actualitzada a Okta
[2025-04-18 10:06:46,190] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:46] "[32mPOST /change_password HTTP/1.1[0m" 302 -
[2025-04-18 10:06:46,201] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.nwC4KT8cWEfVov5p2JDCOrPmcWch7FsKIvrPPy7bd5A', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744970777, 'exp': 1744974377, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umz6atnresZouYA5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744970775, 'sub': 'user9@test.com', 'eid': '0009X'}
[2025-04-18 10:06:46,202] [INFO] [app] : User a modifcar: <User user9@test.com>
[2025-04-18 10:06:46,203] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:46] "GET /profile HTTP/1.1" 200 -
[2025-04-18 10:06:49,593] [INFO] [app] : Usuari autenticat {'eid': '0009X', 'email': 'user9@test.com', 'name': 'user9 user9'}
[2025-04-18 10:06:49,593] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 10:06:49] "GET / HTTP/1.1" 200 -
[2025-04-18 14:22:05,684] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 14:22:05,684] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 14:22:38,032] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 14:22:38,032] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 14:22:43,186] [INFO] [app] : Usuari no autenticat.
[2025-04-18 14:22:43,191] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:43] "GET / HTTP/1.1" 200 -
[2025-04-18 14:22:43,513] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 14:22:44,668] [DEBUG] [app] : Asignem nonce a la sessio actual: 8aa9cd9a1d8bb1af0b740e73d6a053f9
[2025-04-18 14:22:44,668] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 14:22:44,669] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:22:45,562] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 14:22:45,567] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:22:45] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 14:23:00,224] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:23:01,288] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 14:23:01,293] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 14:23:02,322] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 14:23:02,338] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkE4S3AwcHlycy1LeWVSTGUwcXB3cGlXMG5PdDhscEc3ek1zZlEwcFhmR1EiLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTg2MTc5LCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.p2dt_EnNnVewDcuIXa2zOEcuO4HoevKIre1Wb5UWG7su5koS6gpvWAB1yVW5YboUQHRuzf7kKYHx5cihf4YWorGqP5ObEmoFXph2jx11BWCrDjXVfd6UH6jW01FwcQgH1csBbsJuL9Z4f-QfzTOPyMZttyaJknIOxCdMjPwk_VTpjZGbEr17EAZtjmxnoaDMy8hns87hQ9ny5AV_gtDhIw3KU2-TuCZk0fX6QE6G4QxBfpmaCbvYrN3okPJoExhoXgNxwgRn0AyDYB-EXggtSCKCoL6Z87mB68cqWc1rTfgMoXSdkpGTjGsqrXVhaEkhEGCsu0WSJP-oqrpbbyKd8Q', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A', 'expires_at': 1744989781, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744986181, 'exp': 1744989781, 'jti': 'ID.qjqPdDbI1KyiN_9q5wzLGYpevHN8QVgR2Jkky-FlEtU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8aa9cd9a1d8bb1af0b740e73d6a053f9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744986179, 'at_hash': 'oiGGgiZ0368BFh979Qwn7w', 'eid': '0000A'}}
[2025-04-18 14:23:02,339] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744986181, 'exp': 1744989781, 'jti': 'ID.qjqPdDbI1KyiN_9q5wzLGYpevHN8QVgR2Jkky-FlEtU', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '8aa9cd9a1d8bb1af0b740e73d6a053f9', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744986179, 'at_hash': 'oiGGgiZ0368BFh979Qwn7w', 'eid': '0000A'}
[2025-04-18 14:23:02,339] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 14:23:02,406] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 14:23:02,407] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:02] "[32mGET /auth/callback?code=2cMi2UXWniGTmarJHG2WymVi-PNh7CYG4ZCOXg41dKE&state=Jz6QefB2etlwBb3CBRSlKdinCxjqTT HTTP/1.1[0m" 302 -
[2025-04-18 14:23:02,416] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 14:23:02,416] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:02] "GET / HTTP/1.1" 200 -
[2025-04-18 14:23:04,626] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.A8Kp0pyrs-KyeRLe0qpwpiW0nOt8lpG7zMsfQ0pXfGQ', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744986181, 'exp': 1744989781, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744986179, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 14:23:04,629] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 14:23:04,633] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:04] "GET /profile HTTP/1.1" 200 -
[2025-04-18 14:23:08,891] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:08] "GET /password HTTP/1.1" 200 -
[2025-04-18 14:23:55,521] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 14:23:55,522] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:55] "GET / HTTP/1.1" 200 -
[2025-04-18 14:23:56,647] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A
[2025-04-18 14:23:56,647] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5ODYxODEsImV4cCI6MTc0NDk4OTc4MSwianRpIjoiSUQucWpxUGREYkkxS3lpTl85cTV3ekxHWXBldkhOOFFWZ1IySmtreS1GbEV0VSIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjhhYTljZDlhMWQ4YmIxYWYwYjc0MGU3M2Q2YTA1M2Y5IiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk4NjE3OSwiYXRfaGFzaCI6Im9pR0dnaVowMzY4QkZoOTc5UXduN3ciLCJlaWQiOiIwMDAwQSJ9.HF28nx04GxIxFfu-JvPjelNacsOc8qdw6cDG99qpDQbBWbGQrqvJEV8JvUjHkNuHEjK3kerlpUWNBQpq-tasfOEiEppyYh1X_fP0vERK1R3K_2ze5WYpIMLoyQNkoKM9fZsK_LJxR4B7h2szM1smU29n5n-jWsKCgMRkCzTIROynxHq_vbts7uFsJyf4bhNYi2Gl1ibWQ71GLuDUZUKZqUFr2aj62HQ_O8vy4E3xVtsuG1hMR8sUFK_3p3D-ovNdW2Tbwq2hLBNeaOX1-bMX1mWYGlEJXzTg8E2wyT9fhtyFYvZlUGILE0LTzfySRUlGzXpgjFzvWHPBmgH6Eh2L8A
[2025-04-18 14:23:56,647] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:56] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 14:23:57,322] [INFO] [app] : Usuari no autenticat.
[2025-04-18 14:23:57,322] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 14:23:57] "GET / HTTP/1.1" 200 -
[2025-04-18 17:38:16,552] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 17:38:16,554] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 17:39:03,400] [INFO] [werkzeug] : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.10:5000
[2025-04-18 17:39:03,400] [INFO] [werkzeug] : [33mPress CTRL+C to quit[0m
[2025-04-18 17:39:36,216] [INFO] [app] : Usuari no autenticat.
[2025-04-18 17:39:36,221] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:39:36] "GET / HTTP/1.1" 200 -
[2025-04-18 17:39:36,611] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:39:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2025-04-18 17:40:05,380] [DEBUG] [app] : Asignem nonce a la sessio actual: 40e9c83bbf5346f1c29dfd9e96f231fc
[2025-04-18 17:40:05,380] [INFO] [app] : Redireccionem a uri: http://192.168.1.10:5000/auth/callback
[2025-04-18 17:40:05,383] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:06,693] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/.well-known/openid-configuration HTTP/1.1" 200 None
[2025-04-18 17:40:06,695] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:06] "[32mGET /login HTTP/1.1[0m" 302 -
[2025-04-18 17:40:21,577] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:22,655] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /oauth2/default/v1/token HTTP/1.1" 200 None
[2025-04-18 17:40:22,656] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:23,590] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /oauth2/default/v1/keys HTTP/1.1" 200 None
[2025-04-18 17:40:23,603] [DEBUG] [app] : Token obtingut: {'token_type': 'Bearer', 'expires_in': 3600, 'access_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJ2ZXIiOjEsImp0aSI6IkFULm1pMjdCZWFyNnRka3V1T0wtRGtWekJNU0VZYndBSmdLb2hidnZweDluNW8iLCJpc3MiOiJodHRwczovL2Rldi02NzgxMTI5OS5va3RhLmNvbS9vYXV0aDIvZGVmYXVsdCIsImF1ZCI6ImFwaTovL2RlZmF1bHQiLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwiY2lkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJ1aWQiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsInNjcCI6WyJvcGVuaWQiLCJlbWFpbCIsInByb2ZpbGUiXSwiYXV0aF90aW1lIjoxNzQ0OTk4MDIwLCJzdWIiOiJwYWJsby5mcmFuY28uY0Blc3R1ZGlhbnRhdC51cGMuZWR1IiwiZWlkIjoiMDAwMEEifQ.J-8NlB4WIlQ4mjVN0u12zqOwU75X28yejBak2MwV0eC8sdeyohDjh2G2hwzZkqyZSVR7H9DZZbPTsIO3drrgR14rO7xAyGOJOK5EwTdAAHzGkl1CQqPuG7DDCyZIIQo3C9IK6Y9vOZOPdFCqZNFoenuVD5voU_Y0rtHmed520u7NYrxnqI7plX7uEP5hbl7sP9XPAiCj0Hx0Fv9UX_jVyKBwjFUcwBs-P_DTzSXn6QqqfENVUtbRv3h9nU7gebiowJtKEb6U_cdO3A28c78zXy1FclnZ90eMSmw5VUaaDWyTELxi_zphTKDX06WMaM9ZM8-CuvsKITTMTRmeRwrjUw', 'scope': 'openid email profile', 'id_token': 'eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA', 'expires_at': 1745001622, 'userinfo': {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744998022, 'exp': 1745001622, 'jti': 'ID.tNLGHPDkX4260UTa6fDCnq4Bj431GRUelOMCM-Ateug', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '40e9c83bbf5346f1c29dfd9e96f231fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744998020, 'at_hash': 'Hz7jXqTV98T8UgaPqyBfBQ', 'eid': '0000A'}}
[2025-04-18 17:40:23,604] [DEBUG] [app] : User parsed token {'sub': '00umxga28fj2SXH2P5d7', 'name': 'Pablo Franco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'ver': 1, 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': '0oamy75qf3BRY7URR5d7', 'iat': 1744998022, 'exp': 1745001622, 'jti': 'ID.tNLGHPDkX4260UTa6fDCnq4Bj431GRUelOMCM-Ateug', 'amr': ['mfa', 'otp', 'pwd'], 'idp': '00omxga232TrvfZ3I5d7', 'nonce': '40e9c83bbf5346f1c29dfd9e96f231fc', 'preferred_username': 'pablo.franco.c@estudiantat.upc.edu', 'auth_time': 1744998020, 'at_hash': 'Hz7jXqTV98T8UgaPqyBfBQ', 'eid': '0000A'}
[2025-04-18 17:40:23,604] [INFO] [app] : Sessio info usuari: Pablo Franco, email: pablo.franco.c@estudiantat.upc.edu, eid: 0000A
[2025-04-18 17:40:23,647] [DEBUG] [app] : User trobat in db: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 17:40:23,648] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:23] "[32mGET /auth/callback?code=zaUhbuPQIWJkLb-MYHrLvfT--FRjQg-R1vELCVc1m4Y&state=Ug7cKArYBffnALHlB9GfKcqMEEacSV HTTP/1.1[0m" 302 -
[2025-04-18 17:40:23,656] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 17:40:23,656] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:23] "GET / HTTP/1.1" 200 -
[2025-04-18 17:40:25,642] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:25,644] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 17:40:25,647] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:25] "GET /profile HTTP/1.1" 200 -
[2025-04-18 17:40:34,219] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:34,219] [INFO] [app] : upduser user:{'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco'}
[2025-04-18 17:40:34,223] [INFO] [app] : NEW full_name: Pablo Franco Carrasco
[2025-04-18 17:40:34,223] [INFO] [app] : email: pablo.franco.c@estudiantat.upc.edu
[2025-04-18 17:40:34,224] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:35,236] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "GET /api/v1/users/pablo.franco.c@estudiantat.upc.edu HTTP/1.1" 200 None
[2025-04-18 17:40:35,237] [DEBUG] [app] : Id de l'usuari: 00umxga28fj2SXH2P5d7
[2025-04-18 17:40:35,237] [DEBUG] [app] : Update profile okta: {'profile': {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}}
[2025-04-18 17:40:35,238] [DEBUG] [urllib3.connectionpool] : Starting new HTTPS connection (1): dev-67811299.okta.com:443
[2025-04-18 17:40:36,317] [DEBUG] [urllib3.connectionpool] : https://dev-67811299.okta.com:443 "POST /api/v1/users/00umxga28fj2SXH2P5d7 HTTP/1.1" 200 None
[2025-04-18 17:40:36,318] [INFO] [app] : Perfil d'Okta actualitzat correctament: {'firstName': 'Pablo', 'lastName': 'Franco Carrasco', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'login': 'pablo.franco.c@estudiantat.upc.edu', 'displayName': 'Pablo Franco Carrasco', 'employeeNumber': '0000A'}
[2025-04-18 17:40:36,324] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:36] "[32mPOST /update_profile HTTP/1.1[0m" 302 -
[2025-04-18 17:40:36,336] [DEBUG] [app] : decoded jwt: {'ver': 1, 'jti': 'AT.mi27Bear6tdkuuOL-DkVzBMSEYbwAJgKohbvvpx9n5o', 'iss': 'https://dev-67811299.okta.com/oauth2/default', 'aud': 'api://default', 'iat': 1744998022, 'exp': 1745001622, 'cid': '0oamy75qf3BRY7URR5d7', 'uid': '00umxga28fj2SXH2P5d7', 'scp': ['openid', 'email', 'profile'], 'auth_time': 1744998020, 'sub': 'pablo.franco.c@estudiantat.upc.edu', 'eid': '0000A'}
[2025-04-18 17:40:36,338] [INFO] [app] : User a modifcar: <User pablo.franco.c@estudiantat.upc.edu>
[2025-04-18 17:40:36,339] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:36] "GET /profile HTTP/1.1" 200 -
[2025-04-18 17:40:39,864] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:39] "GET /password HTTP/1.1" 200 -
[2025-04-18 17:40:41,777] [INFO] [app] : Usuari autenticat {'eid': '0000A', 'email': 'pablo.franco.c@estudiantat.upc.edu', 'name': 'Pablo Franco Carrasco'}
[2025-04-18 17:40:41,777] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:41] "GET / HTTP/1.1" 200 -
[2025-04-18 17:40:55,856] [DEBUG] [app] : Token de la sessio: eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA
[2025-04-18 17:40:55,856] [DEBUG] [app] : Logout url: https://dev-67811299.okta.com/oauth2/default/v1/logout?post_logout_redirect_uri=http://192.168.1.10:5000/&id_token_hint=eyJraWQiOiJmeGVVN095M3NZaWRlaDVZc002ZndIUzhYTVNUdWJyamtZbjhSUTNsVDVBIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVteGdhMjhmajJTWEgyUDVkNyIsIm5hbWUiOiJQYWJsbyBGcmFuY28iLCJlbWFpbCI6InBhYmxvLmZyYW5jby5jQGVzdHVkaWFudGF0LnVwYy5lZHUiLCJ2ZXIiOjEsImlzcyI6Imh0dHBzOi8vZGV2LTY3ODExMjk5Lm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hbXk3NXFmM0JSWTdVUlI1ZDciLCJpYXQiOjE3NDQ5OTgwMjIsImV4cCI6MTc0NTAwMTYyMiwianRpIjoiSUQudE5MR0hQRGtYNDI2MFVUYTZmRENucTRCajQzMUdSVWVsT01DTS1BdGV1ZyIsImFtciI6WyJtZmEiLCJvdHAiLCJwd2QiXSwiaWRwIjoiMDBvbXhnYTIzMlRydmZaM0k1ZDciLCJub25jZSI6IjQwZTljODNiYmY1MzQ2ZjFjMjlkZmQ5ZTk2ZjIzMWZjIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGFibG8uZnJhbmNvLmNAZXN0dWRpYW50YXQudXBjLmVkdSIsImF1dGhfdGltZSI6MTc0NDk5ODAyMCwiYXRfaGFzaCI6Ikh6N2pYcVRWOThUOFVnYVBxeUJmQlEiLCJlaWQiOiIwMDAwQSJ9.Rt6riKUwPtvbYsppnZ1_K_8sJMUxKlcoJcbA7hvkgkrbh6DRKcBcwVIivyIzWsuGF4uRd9leLv6AuAeTASzYFnA9GtfgSYIbnBxV5lFQZt1raQqZaC7_dn1ijUXOfeuvLdAiNgYl_9qFgA5wmcXYr84cahz4U2itB9tsvEAKDf4p0kGcYYJHtxBBd-LM4nHfYSd6vtV0hP-Eukyb95FtD-Eu22jQPWlkz0lnAl-Yea6jdNdEbHW7D2JB3TEj_utcF6rZXMtCatvFQGwh6PDwLZROQpeVRqWyO5vEbrtutl5wT77kutI939I7YcKyDCUYQxKKIL1OK7qZ0is2UYenCA
[2025-04-18 17:40:55,856] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:55] "[32mGET /logout HTTP/1.1[0m" 302 -
[2025-04-18 17:40:56,425] [INFO] [app] : Usuari no autenticat.
[2025-04-18 17:40:56,426] [INFO] [werkzeug] : 192.168.1.36 - - [18/Apr/2025 17:40:56] "GET / HTTP/1.1" 200 -
